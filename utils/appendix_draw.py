import numpy as np
from matplotlib import pyplot as plt


def appendix1_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9992979168891907, 0.9999945163726807, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8559459447860718, 0.8638213872909546, 0.857336699962616, 0.8715192675590515, 0.8699809908866882, 0.8686780333518982, 0.8690407276153564, 0.8672873377799988, 0.8646849393844604, 0.8535379767417908, 0.859447717666626, 0.8780320882797241, 0.8655815720558167, 0.8679584860801697, 0.8742220401763916, 0.8654504418373108, 0.8549628853797913, 0.8557915091514587, 0.857440173625946, 0.8704617023468018, 0.8630473613739014, 0.8607959747314453, 0.8738948106765747, 0.8562191724777222, 0.8708407878875732, 0.8627083897590637, 0.8618940114974976, 0.8743487000465393, 0.8804196715354919, 0.8712860345840454, 0.861874520778656, 0.8691495656967163, 0.8762495517730713, 0.8548040390014648, 0.8663621544837952, 0.8563010096549988, 0.8792336583137512, 0.8761405944824219, 0.8603048920631409, 0.8634167909622192, 0.8680815100669861, 0.8617776036262512, 0.8679505586624146, 0.8595067262649536, 0.868690013885498, 0.8674209713935852, 0.8747776746749878, 0.8653797507286072, 0.8540838360786438, 0.867746889591217, 0.8671054840087891, 0.8648973107337952, 0.8573970794677734, 0.8630719184875488, 0.8673043251037598, 0.855364203453064, 0.8571905493736267, 0.8732669949531555, 0.8732839822769165, 0.8541970252990723, 0.8672515153884888, 0.8681744933128357, 0.868919849395752, 0.85569828748703, 0.8526695966720581, 0.8666476607322693, 0.8514050841331482, 0.862102746963501, 0.8715173006057739, 0.8629382252693176, 0.8562055230140686, 0.8631656765937805, 0.8543571829795837, 0.8648406863212585, 0.8646097183227539, 0.8687415719032288, 0.8835198283195496, 0.8615619540214539, 0.8640938997268677, 0.8688794374465942, 0.8660582900047302, 0.8580917119979858, 0.8693246841430664, 0.876436173915863, 0.8591600656509399, 0.8652867674827576, 0.8585631251335144, 0.8676010966300964, 0.859390139579773, 0.8704009056091309, 0.864916205406189, 0.8539555668830872, 0.8555381894111633, 0.8760575652122498, 0.8530910611152649, 0.8686981797218323, 0.8698992729187012, 0.8679848909378052, 0.8654639720916748, 0.8710120916366577, 0.8621951937675476, 0.8708182573318481, 0.867479145526886, 0.863970935344696, 0.8652337193489075, 0.8666311502456665, 0.8537889719009399, 0.8799645304679871, 0.8495519757270813, 0.8598120212554932, 0.8718076944351196, 0.8763458728790283, 0.8601676821708679, 0.8599950671195984, 0.8770740032196045, 0.8649056553840637, 0.8578512668609619, 0.8691310286521912, 0.8677971959114075, 0.8655275702476501, 0.8620445132255554, 0.8584137558937073, 0.8643888831138611, 0.854579746723175, 0.8623958230018616, 0.8681240081787109, 0.8741509318351746, 0.8730510473251343, 0.8660059571266174, 0.869300365447998, 0.8654963970184326, 0.8812789916992188, 0.8689322471618652, 0.8682435750961304, 0.8466514945030212, 0.8723034858703613, 0.8598225712776184, 0.8587945103645325, 0.8629002571105957, 0.8671444058418274, 0.8521714806556702, 0.861129641532898, 0.8634889125823975, 0.8700079917907715, 0.8603788614273071, 0.8614691495895386, 0.8593271970748901, 0.8663766980171204, 0.8666232228279114, 0.8566970825195312, 0.8595219850540161, 0.861027181148529, 0.864084780216217, 0.8753898739814758, 0.8725603222846985, 0.8817226886749268, 0.8594448566436768, 0.8539026975631714, 0.8601735234260559, 0.8721112012863159, 0.8692606687545776, 0.8681914806365967, 0.8613479137420654, 0.8586348295211792, 0.8710814118385315, 0.865924596786499, 0.863210141658783, 0.8709542155265808, 0.8641250729560852, 0.875937283039093, 0.8635727167129517, 0.8457919359207153, 0.8664840459823608, 0.8804226517677307, 0.8675364851951599, 0.8793255686759949, 0.8589659929275513, 0.863045334815979, 0.8729372024536133, 0.8621535897254944, 0.8722639083862305, 0.8692935705184937, 0.8600309491157532, 0.8659155964851379, 0.8652051091194153, 0.8795390725135803, 0.8691041469573975, 0.863418698310852, 0.8725987672805786, 0.8632255792617798, 0.8647134900093079, 0.8653709888458252, 0.8719179630279541, 0.8591456413269043, 0.8555747270584106, 0.870862603187561, 0.863783061504364, 0.8653898239135742]

    top_k_sim = [0.9994561672210693, 0.9999982714653015, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix1_1.pdf', bbox_inches='tight')


def appendix1_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9992741942405701, 0.9999991655349731, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8623254895210266, 0.8710331916809082, 0.8609271049499512, 0.8722267746925354, 0.8751341104507446, 0.8659302592277527, 0.8554438948631287, 0.8697081804275513, 0.8669676184654236, 0.8606911897659302, 0.8655164837837219, 0.8723238110542297, 0.8576467037200928, 0.859154224395752, 0.8662909865379333, 0.8610255122184753, 0.8696858286857605, 0.8736438751220703, 0.8758037686347961, 0.859398365020752, 0.8667794466018677, 0.8659594655036926, 0.8606521487236023, 0.8703935742378235, 0.8784137964248657, 0.8653724789619446, 0.8597944378852844, 0.8631508946418762, 0.8666684031486511, 0.8622817993164062, 0.85536789894104, 0.8718162775039673, 0.8644247055053711, 0.8511013388633728, 0.8619568943977356, 0.859634280204773, 0.8628142476081848, 0.8692618608474731, 0.8716042637825012, 0.8626545071601868, 0.8753838539123535, 0.8655669689178467, 0.8652287721633911, 0.8685178756713867, 0.868339478969574, 0.8669654726982117, 0.8597095608711243, 0.8610944151878357, 0.8544694781303406, 0.8589271903038025, 0.863422155380249, 0.8685848116874695, 0.8729552030563354, 0.8632156252861023, 0.8606134653091431, 0.8664957880973816, 0.8596349954605103, 0.8619352579116821, 0.8617543578147888, 0.8591567873954773, 0.8647546172142029, 0.8680048584938049, 0.8633248805999756, 0.8625528812408447, 0.8651890754699707, 0.8667488694190979, 0.8642548322677612, 0.8725621104240417, 0.8667875528335571, 0.872594952583313, 0.8767034411430359, 0.8685364723205566, 0.8724471926689148, 0.8617959022521973, 0.876696765422821, 0.869612991809845, 0.8594580292701721, 0.8669566512107849, 0.8743460774421692, 0.8591662645339966, 0.8580303192138672, 0.8587983846664429, 0.8553148508071899, 0.8620066046714783, 0.8694885969161987, 0.8691670894622803, 0.8714984655380249, 0.8625081181526184, 0.8712230920791626, 0.8684839010238647, 0.8567410707473755, 0.8672621250152588, 0.858700692653656, 0.8746321201324463, 0.863521933555603, 0.8727239966392517, 0.8585545420646667, 0.8638579249382019, 0.8643152713775635, 0.8641736507415771, 0.8644763827323914, 0.8609472513198853, 0.868645966053009, 0.87006014585495, 0.8541743159294128, 0.8510801196098328, 0.8653424382209778, 0.868737518787384, 0.8666457533836365, 0.8746649622917175, 0.8603979349136353, 0.8649231791496277, 0.8644425868988037, 0.8650196194648743, 0.8688139915466309, 0.8641648292541504, 0.8645688891410828, 0.8600983023643494, 0.8723417520523071, 0.8582317233085632, 0.874148964881897, 0.868740439414978, 0.8640345931053162, 0.8602193593978882, 0.860865592956543, 0.8539230227470398, 0.8643438816070557, 0.8786610960960388, 0.8612030744552612, 0.8604132533073425, 0.8677618503570557, 0.8629850745201111, 0.8722082376480103, 0.865246057510376, 0.8628859519958496, 0.8764187097549438, 0.8696420192718506, 0.8627661466598511, 0.8678246140480042, 0.8552386164665222, 0.8640508055686951, 0.8611753582954407, 0.874062716960907, 0.8715643286705017, 0.8644956350326538, 0.8630406856536865, 0.8617197275161743, 0.8649744391441345, 0.866162121295929, 0.8715209364891052, 0.860894501209259, 0.8585506081581116, 0.8571889996528625, 0.8571867942810059, 0.8640082478523254, 0.8698235154151917, 0.8648371696472168, 0.8593481183052063, 0.8776261210441589, 0.863266110420227, 0.8651177883148193, 0.8688454627990723, 0.8610100150108337, 0.8735244274139404, 0.8655361533164978, 0.8579367399215698, 0.8592982888221741, 0.8597806692123413, 0.8608205914497375, 0.8623948097229004, 0.8638260364532471, 0.8587872385978699, 0.8637831807136536, 0.8585069179534912, 0.8651770949363708, 0.8596940040588379, 0.8659748435020447, 0.8557993769645691, 0.8627704977989197, 0.8748816251754761, 0.8705340623855591, 0.8600640892982483, 0.857755184173584, 0.8674926161766052, 0.8758426308631897, 0.8726506233215332, 0.8653375506401062, 0.8589027523994446, 0.8677533268928528, 0.8631606698036194, 0.8600109219551086, 0.8601149916648865, 0.8715993762016296, 0.8596970438957214, 0.8593125343322754, 0.8648317456245422, 0.8614707589149475, 0.8679537773132324]

    top_k_sim = [0.9994697570800781, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix1_2.pdf', bbox_inches='tight')

def appendix1_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9994852542877197, 0.9999988675117493, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8581675291061401, 0.8679238557815552, 0.8585942983627319, 0.8607285022735596, 0.8594524264335632, 0.8669965267181396, 0.872379720211029, 0.867834210395813, 0.8635088205337524, 0.8670346736907959, 0.8664251565933228, 0.8491914868354797, 0.8615303635597229, 0.8620813488960266, 0.8725408911705017, 0.8640808463096619, 0.8610855937004089, 0.8639647364616394, 0.8642430901527405, 0.8655292391777039, 0.8681504726409912, 0.872102677822113, 0.8661818504333496, 0.861182451248169, 0.8819963932037354, 0.8630561828613281, 0.8680096864700317, 0.8563438057899475, 0.8581538200378418, 0.8635525107383728, 0.8723309636116028, 0.8548820614814758, 0.8649753332138062, 0.8602162003517151, 0.8748219609260559, 0.8606939911842346, 0.8623458743095398, 0.8676061630249023, 0.8627772331237793, 0.8721503615379333, 0.8512253165245056, 0.8529691696166992, 0.8719561100006104, 0.8803982138633728, 0.8669780492782593, 0.8592609763145447, 0.863320529460907, 0.8657152652740479, 0.8632723093032837, 0.8673222661018372, 0.8553664088249207, 0.8634824156761169, 0.8711865544319153, 0.852634072303772, 0.8677293658256531, 0.8583833575248718, 0.8566879630088806, 0.8610844016075134, 0.8669960498809814, 0.8673015832901001, 0.8596519827842712, 0.8673624992370605, 0.8660536408424377, 0.8646355271339417, 0.8723019361495972, 0.8709681630134583, 0.8579163551330566, 0.86042320728302, 0.8610678911209106, 0.8652641177177429, 0.8664444088935852, 0.8580402731895447, 0.8698855638504028, 0.8642006516456604, 0.863930881023407, 0.8534835577011108, 0.8544315099716187, 0.846569299697876, 0.8631124496459961, 0.8618146777153015, 0.8593153953552246, 0.8719152808189392, 0.8678175210952759, 0.8641947507858276, 0.8682536482810974, 0.8583617210388184, 0.8679391741752625, 0.8611847162246704, 0.8587998747825623, 0.857991099357605, 0.8563595414161682, 0.8618360757827759, 0.8710572719573975, 0.8689915537834167, 0.8642321228981018, 0.8687177300453186, 0.8618439435958862, 0.855331540107727, 0.867596447467804, 0.8632647395133972, 0.859035313129425, 0.8599441647529602, 0.8608806729316711, 0.8593589067459106, 0.8784626722335815, 0.8660779595375061, 0.8644210696220398, 0.8553459644317627, 0.8755277991294861, 0.8740840554237366, 0.8763088583946228, 0.8693162202835083, 0.8679711222648621, 0.858054518699646, 0.8676888942718506, 0.8741095662117004, 0.8596495985984802, 0.8571785688400269, 0.8562940955162048, 0.8649766445159912, 0.8628779649734497, 0.8819224238395691, 0.8514370918273926, 0.8593329191207886, 0.8608388900756836, 0.8736878037452698, 0.8599346876144409, 0.8649932146072388, 0.8709841966629028, 0.8573856949806213, 0.8627215623855591, 0.860253632068634, 0.8739300966262817, 0.8692752122879028, 0.85978764295578, 0.8755912184715271, 0.8538877367973328, 0.8680405616760254, 0.8762599229812622, 0.8563856482505798, 0.8715052604675293, 0.8640323281288147, 0.8553757071495056, 0.8678621053695679, 0.8500062823295593, 0.8714094758033752, 0.8776150345802307, 0.8610002994537354, 0.8727477788925171, 0.8596019744873047, 0.8781213760375977, 0.8577597737312317, 0.856531023979187, 0.8668972849845886, 0.8571152091026306, 0.8648716807365417, 0.8512351512908936, 0.8598870038986206, 0.8642027378082275, 0.8648145198822021, 0.8663743138313293, 0.8605166673660278, 0.8591827154159546, 0.8592289090156555, 0.8587884306907654, 0.8614442944526672, 0.8594973087310791, 0.8729403018951416, 0.8624829649925232, 0.8714694976806641, 0.8585097789764404, 0.863507091999054, 0.8600965142250061, 0.8700446486473083, 0.8676168918609619, 0.8636921048164368, 0.8666478991508484, 0.8572505712509155, 0.8608570098876953, 0.872161328792572, 0.8680602312088013, 0.8624778985977173, 0.8773999810218811, 0.8785632848739624, 0.8519956469535828, 0.8537051677703857, 0.8637498021125793, 0.8695815801620483, 0.861203670501709, 0.8583667278289795, 0.858790397644043, 0.866020679473877, 0.85820472240448, 0.8697779178619385, 0.8654599785804749, 0.8583959341049194, 0.8600311279296875, 0.8676583170890808]

    top_k_sim = [0.9996437430381775, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix1_3.pdf', bbox_inches='tight')

def appendix1_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9995118975639343, 0.999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8600445985794067, 0.8630912899971008, 0.8542656302452087, 0.8637019991874695, 0.8602126240730286, 0.8596500158309937, 0.8623384237289429, 0.8595003485679626, 0.8626861572265625, 0.864335834980011, 0.8628808856010437, 0.862946093082428, 0.8651972413063049, 0.8581900000572205, 0.8624319434165955, 0.8609086275100708, 0.8702245950698853, 0.8713352084159851, 0.8689519762992859, 0.8602768778800964, 0.8634784817695618, 0.8670839667320251, 0.8614881634712219, 0.8567926287651062, 0.8568554520606995, 0.8645106554031372, 0.8614000082015991, 0.8636331558227539, 0.8561863899230957, 0.8621440529823303, 0.8674155473709106, 0.8547398447990417, 0.8613798022270203, 0.865041196346283, 0.8668721318244934, 0.8650359511375427, 0.8725511431694031, 0.8624129295349121, 0.8501327633857727, 0.8624025583267212, 0.8659071922302246, 0.8690685033798218, 0.8609828352928162, 0.860060453414917, 0.8660612106323242, 0.8612875938415527, 0.8637126684188843, 0.8673946261405945, 0.8532004356384277, 0.8582379817962646, 0.8641812205314636, 0.865267276763916, 0.858431339263916, 0.8618661165237427, 0.856736958026886, 0.8693426847457886, 0.8576720356941223, 0.8641354441642761, 0.8604021668434143, 0.8657755851745605, 0.8591188788414001, 0.8535154461860657, 0.8694481253623962, 0.8621147274971008, 0.8593036532402039, 0.8625943064689636, 0.8603494763374329, 0.862147867679596, 0.8564460277557373, 0.8624803423881531, 0.8600649833679199, 0.8775007128715515, 0.8595061898231506, 0.8741300702095032, 0.871444046497345, 0.8694326281547546, 0.8556081652641296, 0.859693169593811, 0.8661546111106873, 0.8546543121337891, 0.8591361045837402, 0.8668707013130188, 0.8581706285476685, 0.8669009208679199, 0.8664582967758179, 0.8714070320129395, 0.8608627915382385, 0.8606389164924622, 0.8626922965049744, 0.8613821864128113, 0.8580194115638733, 0.865125298500061, 0.8550423383712769, 0.8652865886688232, 0.8644872903823853, 0.859827995300293, 0.8594077229499817, 0.8659799695014954, 0.8656012415885925, 0.8621675372123718, 0.8571707606315613, 0.8572978973388672, 0.8612295389175415, 0.8689061999320984, 0.8592802286148071, 0.8635680675506592, 0.8625162243843079, 0.8703543543815613, 0.865195095539093, 0.8642035722732544, 0.8609020113945007, 0.8657779693603516, 0.8663842678070068, 0.8587537407875061, 0.8934098482131958, 0.8629810810089111, 0.8588222861289978, 0.8587917685508728, 0.8615608811378479, 0.8617846369743347, 0.8663586378097534, 0.8768386244773865, 0.8590351939201355, 0.8679195642471313, 0.864637017250061, 0.8579484224319458, 0.8580231070518494, 0.8697795867919922, 0.8627530932426453, 0.8670694828033447, 0.8689022660255432, 0.8672823905944824, 0.8613916039466858, 0.8597269058227539, 0.8647576570510864, 0.8656823039054871, 0.8570327162742615, 0.8680623173713684, 0.8684666752815247, 0.8660362958908081, 0.8675522208213806, 0.8605769872665405, 0.8580313920974731, 0.876553475856781, 0.8658106327056885, 0.8579292893409729, 0.8735190629959106, 0.8699517846107483, 0.8575762510299683, 0.8682088851928711, 0.8577373027801514, 0.8666394948959351, 0.8681379556655884, 0.8630678653717041, 0.8628094792366028, 0.8690062165260315, 0.8676341772079468, 0.8539485335350037, 0.8665729761123657, 0.873406171798706, 0.8710764050483704, 0.8583006858825684, 0.868156373500824, 0.8747228980064392, 0.8678210973739624, 0.870352566242218, 0.8638058304786682, 0.8573362231254578, 0.8566449284553528, 0.8678677678108215, 0.856550931930542, 0.8587659001350403, 0.8635071516036987, 0.8634744882583618, 0.865247368812561, 0.8658106327056885, 0.8620554804801941, 0.8587453961372375, 0.8510664105415344, 0.8579198718070984, 0.8669967651367188, 0.8567196130752563, 0.8635529279708862, 0.8693315386772156, 0.8611927032470703, 0.8545968532562256, 0.8583782315254211, 0.858869731426239, 0.8581048250198364, 0.8590949773788452, 0.8741561770439148, 0.8690568208694458, 0.8660420775413513, 0.8635936379432678, 0.8646827936172485, 0.8558073043823242, 0.8647331595420837, 0.8625708222389221]

    top_k_sim = [0.9997344017028809, 0.9999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix1_4.pdf', bbox_inches='tight')

def appendix1_5():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9991841912269592, 0.9996429681777954, 0.9996885657310486, 0.9996619820594788, 0.9996562004089355, 0.9996249675750732, 0.9995501041412354, 0.999621570110321, 0.9996157288551331, 0.999519944190979, 0.9995157718658447, 0.999542772769928, 0.9995985627174377, 0.9994813799858093, 0.9994902610778809, 0.9995447397232056, 0.9995819330215454, 0.9996070861816406, 0.9995764493942261, 0.999572217464447, 0.9995655417442322, 0.9995485544204712, 0.9995527267456055, 0.9996695518493652, 0.9995456337928772, 0.9996205568313599, 0.9995291233062744, 0.999522864818573, 0.9995604753494263, 0.9995293021202087, 0.9995381832122803, 0.9995571374893188, 0.9994821548461914, 0.9995577335357666, 0.9995320439338684, 0.9996072053909302, 0.9995797872543335, 0.999662458896637, 0.9996122717857361, 0.9995781183242798, 0.9995708465576172, 0.9995856285095215, 0.99957275390625, 0.9995754361152649, 0.999587893486023, 0.9995759725570679, 0.9995506405830383, 0.9995059967041016, 0.9995808601379395, 0.9995722770690918, 0.9995340704917908, 0.9995995759963989, 0.9995537996292114, 0.9995413422584534, 0.9996265172958374, 0.9996450543403625, 0.9995195865631104, 0.9995855689048767, 0.9995494484901428, 0.9995812177658081, 0.9996135830879211, 0.9995406866073608, 0.9996339082717896, 0.9995416402816772, 0.999577522277832, 0.9995787143707275, 0.9996241331100464, 0.9996779561042786, 0.9995399117469788, 0.9996024966239929, 0.9996484518051147, 0.9995673894882202, 0.9995714426040649, 0.9995632767677307, 0.9996055364608765, 0.9996046423912048, 0.999599277973175, 0.9996100068092346, 0.9995298981666565, 0.9995638132095337, 0.9995923638343811, 0.9995642900466919, 0.9995766878128052, 0.9996394515037537, 0.9995970726013184, 0.9995746612548828, 0.9995936155319214, 0.9995027184486389, 0.9996345043182373, 0.9996377229690552, 0.9996259212493896, 0.9995962977409363, 0.9996004104614258, 0.9996126294136047, 0.9995949864387512, 0.9995589256286621, 0.9995743632316589, 0.9995520710945129, 0.9996010661125183, 0.9995518922805786, 0.9995928406715393, 0.9996216297149658, 0.9995914101600647, 0.9995936155319214, 0.9995966553688049, 0.999631404876709, 0.9995954036712646, 0.9995598196983337, 0.9995403289794922, 0.9995572566986084, 0.9996408820152283, 0.9996126890182495, 0.9996111989021301, 0.9996063113212585, 0.9996165037155151, 0.9995961785316467, 0.9996006488800049, 0.9996594190597534, 0.9995670318603516, 0.9995875954627991, 0.9996837973594666, 0.9996145963668823, 0.9995943903923035, 0.9995936751365662, 0.9996429085731506, 0.9996188879013062, 0.9995944499969482, 0.9995746612548828, 0.9995736479759216, 0.9995958805084229, 0.9996901154518127, 0.9996138215065002, 0.999579131603241, 0.9995675086975098, 0.9995580315589905, 0.9996199607849121, 0.9995678067207336, 0.9996087551116943, 0.9995995759963989, 0.9996237754821777, 0.9996128082275391, 0.9996860027313232, 0.9995777606964111, 0.9996230006217957, 0.9995688199996948, 0.9995837211608887, 0.999640703201294, 0.9996007680892944, 0.9995630979537964, 0.9996068477630615, 0.9996098279953003, 0.9995914697647095, 0.9995827674865723, 0.9996030330657959, 0.999594509601593, 0.9996287226676941, 0.9995995759963989, 0.9996087551116943, 0.99949049949646, 0.9997223615646362, 0.9996221661567688, 0.9996139407157898, 0.9996378421783447, 0.999627411365509, 0.9996340274810791, 0.9995300769805908, 0.9995578527450562, 0.9995859265327454, 0.9995629787445068, 0.9995391368865967, 0.9996167421340942, 0.9996396899223328, 0.9996438026428223, 0.9995774626731873, 0.9995964169502258, 0.9996291995048523, 0.9995750784873962, 0.999561071395874, 0.9996255040168762, 0.999565601348877, 0.9995901584625244, 0.9995889067649841, 0.9996227622032166, 0.9996100664138794, 0.9996252059936523, 0.9996187090873718, 0.9996197819709778, 0.9995785355567932, 0.9996302723884583, 0.9996483325958252, 0.9995548725128174, 0.9996165037155151, 0.9996718764305115, 0.9995132088661194, 0.999626636505127, 0.9996069669723511, 0.9995589852333069, 0.9996055364608765]

    malicious_sim = [0.8632171154022217, 0.863198459148407, 0.8594533205032349, 0.8620514869689941, 0.8565865159034729, 0.8705454468727112, 0.8656612038612366, 0.8704232573509216, 0.8666070699691772, 0.8607300519943237, 0.8541190028190613, 0.8567751049995422, 0.8698785305023193, 0.8555395603179932, 0.8632240295410156, 0.8728135228157043, 0.857852041721344, 0.8687745928764343, 0.8625348210334778, 0.8654566407203674, 0.8620327711105347, 0.8699055314064026, 0.8529345393180847, 0.8766380548477173, 0.8619267344474792, 0.8639187216758728, 0.8654100894927979, 0.8596271276473999, 0.8626819849014282, 0.8608044385910034, 0.8551610112190247, 0.8589252233505249, 0.855462908744812, 0.8628472685813904, 0.8530150055885315, 0.8556194305419922, 0.8695337772369385, 0.8613105416297913, 0.8641382455825806, 0.8589774370193481, 0.8728453516960144, 0.8706176280975342, 0.856931209564209, 0.856795608997345, 0.8604742288589478, 0.8604311943054199, 0.8608287572860718, 0.8524132370948792, 0.872161865234375, 0.8527634739875793, 0.8622757196426392, 0.8610650897026062, 0.8681527972221375, 0.8621309995651245, 0.8518205285072327, 0.8714051246643066, 0.8579145669937134, 0.8675092458724976, 0.8614289164543152, 0.859112024307251, 0.862155020236969, 0.8587204217910767, 0.8569491505622864, 0.8644696474075317, 0.8539503812789917, 0.8715512156486511, 0.8654767870903015, 0.8602756261825562, 0.8670310974121094, 0.8516891002655029, 0.8647976517677307, 0.8577567338943481, 0.8514953255653381, 0.8619497418403625, 0.8579479455947876, 0.8672168850898743, 0.8646807670593262, 0.8636548519134521, 0.855686366558075, 0.8642473816871643, 0.8593746423721313, 0.8483983874320984, 0.8534842133522034, 0.8594068288803101, 0.8731609582901001, 0.8661899566650391, 0.8595104813575745, 0.862826406955719, 0.8623394966125488, 0.8732075095176697, 0.8537641763687134, 0.8648935556411743, 0.8569661378860474, 0.8743280172348022, 0.8555008172988892, 0.8699840307235718, 0.8681507110595703, 0.8572635054588318, 0.8613826036453247, 0.868608295917511, 0.8599916100502014, 0.861222505569458, 0.8634544610977173, 0.8532869815826416, 0.8795180320739746, 0.8676590323448181, 0.8625093698501587, 0.8622766137123108, 0.859977126121521, 0.8506636619567871, 0.8483922481536865, 0.8575855493545532, 0.8617767691612244, 0.8604377508163452, 0.8583750128746033, 0.8745083212852478, 0.8577716946601868, 0.8665677905082703, 0.8541069030761719, 0.854813277721405, 0.8599987626075745, 0.8580982685089111, 0.8518361449241638, 0.8658638000488281, 0.8591599464416504, 0.8596967458724976, 0.8568828105926514, 0.8572192192077637, 0.8607326745986938, 0.8603628277778625, 0.862621545791626, 0.8598957657814026, 0.8654285073280334, 0.8562449812889099, 0.8701319098472595, 0.8582149744033813, 0.8502891063690186, 0.8640418648719788, 0.8579459190368652, 0.8577340245246887, 0.8634780645370483, 0.8585147261619568, 0.8687815070152283, 0.8526020050048828, 0.8604199290275574, 0.8599539995193481, 0.8599697947502136, 0.8568065166473389, 0.8675473928451538, 0.8670545816421509, 0.8685982823371887, 0.8470109701156616, 0.8595973253250122, 0.8642694354057312, 0.8700010180473328, 0.8516407012939453, 0.8570913076400757, 0.8607243299484253, 0.8629992008209229, 0.8553388714790344, 0.8599457740783691, 0.8663289546966553, 0.8665457963943481, 0.8562009334564209, 0.8610885143280029, 0.8624831438064575, 0.8595927953720093, 0.8570505380630493, 0.867399275302887, 0.8622270822525024, 0.8696879148483276, 0.8599057197570801, 0.8715033531188965, 0.8758445978164673, 0.8662781715393066, 0.8661866784095764, 0.8483993411064148, 0.8592145442962646, 0.8578706383705139, 0.8485245108604431, 0.8554981350898743, 0.8646643757820129, 0.8552529215812683, 0.862121045589447, 0.8665517568588257, 0.8680546283721924, 0.8627479672431946, 0.8654256463050842, 0.8568942546844482, 0.8624426126480103, 0.8546388745307922, 0.8585150241851807, 0.8507217764854431, 0.855107307434082, 0.8604665398597717, 0.8597704172134399, 0.8588497638702393, 0.8647922873497009]

    top_k_sim = [0.9997830986976624, 0.9998209476470947, 0.9998642206192017, 0.9998117685317993, 0.9997407793998718, 0.9998602867126465, 0.9997869729995728, 0.9997849464416504, 0.9997497200965881, 0.9996343851089478, 0.9996128082275391, 0.9997428059577942, 0.9997708797454834, 0.9995346069335938, 0.9996734857559204, 0.9997390508651733, 0.9997385740280151, 0.9997661113739014, 0.9997733235359192, 0.9997566938400269, 0.9998040199279785, 0.9997831583023071, 0.9996721744537354, 0.9998237490653992, 0.9997405409812927, 0.9997958540916443, 0.9998056292533875, 0.9997122287750244, 0.9997214078903198, 0.9997455477714539, 0.9996669888496399, 0.9997719526290894, 0.9996591806411743, 0.9997828006744385, 0.9996635913848877, 0.9997289776802063, 0.9998315572738647, 0.9998073577880859, 0.9997479915618896, 0.9997192621231079, 0.9998131394386292, 0.9997818470001221, 0.999677836894989, 0.9997134208679199, 0.9997541308403015, 0.999788224697113, 0.9997019171714783, 0.9995256066322327, 0.9998193383216858, 0.9997562170028687, 0.9997930526733398, 0.9998403787612915, 0.999798595905304, 0.9997158646583557, 0.9997905492782593, 0.9998255372047424, 0.9996589422225952, 0.9997780919075012, 0.9996640682220459, 0.9996811151504517, 0.9997733235359192, 0.9996715188026428, 0.999784529209137, 0.9998206496238708, 0.9996218681335449, 0.999808669090271, 0.9997636675834656, 0.9997617602348328, 0.999825656414032, 0.9997162818908691, 0.9997963905334473, 0.9997327327728271, 0.999757707118988, 0.9996858239173889, 0.9997515678405762, 0.9998424649238586, 0.9997599720954895, 0.9997766613960266, 0.9996739029884338, 0.9997473359107971, 0.9997640252113342, 0.9996068477630615, 0.9998252391815186, 0.9997683167457581, 0.9998214840888977, 0.9997073411941528, 0.9997631311416626, 0.9996384382247925, 0.9998118877410889, 0.9998485445976257, 0.9997549653053284, 0.9998149871826172, 0.9997737407684326, 0.9997526407241821, 0.9997711181640625, 0.9997575283050537, 0.9997771978378296, 0.9997839331626892, 0.9998038411140442, 0.9998234510421753, 0.9998071193695068, 0.9998297095298767, 0.99980628490448, 0.9996978640556335, 0.9998481869697571, 0.9997715950012207, 0.9997121691703796, 0.9997737407684326, 0.9997335076332092, 0.9995862245559692, 0.9997777342796326, 0.9997286796569824, 0.9998063445091248, 0.9997921586036682, 0.9997615814208984, 0.9998217821121216, 0.9997391700744629, 0.9998006820678711, 0.9995983242988586, 0.9997501969337463, 0.9998252391815186, 0.9997490644454956, 0.9997158050537109, 0.9997039437294006, 0.9997995495796204, 0.9997622966766357, 0.9997125864028931, 0.9997470378875732, 0.9996925592422485, 0.9997881650924683, 0.9997856020927429, 0.9997648000717163, 0.9997752904891968, 0.9996277093887329, 0.9996848106384277, 0.9997224807739258, 0.9997206330299377, 0.9998030066490173, 0.9997464418411255, 0.9996567964553833, 0.9998587369918823, 0.9997935891151428, 0.999814510345459, 0.9997760057449341, 0.9997544288635254, 0.99970543384552, 0.999816358089447, 0.9996662735939026, 0.9998076558113098, 0.9997993111610413, 0.9998172521591187, 0.9997009038925171, 0.9997358918190002, 0.9997528791427612, 0.9998114705085754, 0.9997654557228088, 0.9997254014015198, 0.9997853636741638, 0.999687671661377, 0.9997867941856384, 0.9998152256011963, 0.9998003244400024, 0.9997759461402893, 0.9997071623802185, 0.9997778534889221, 0.9997087717056274, 0.9997211694717407, 0.9997693300247192, 0.9998535513877869, 0.9996864199638367, 0.9997832775115967, 0.9997790455818176, 0.9998285174369812, 0.9998053908348083, 0.9997959733009338, 0.999779462814331, 0.9996431469917297, 0.9997562170028687, 0.9997252821922302, 0.9996359944343567, 0.9997358322143555, 0.999801516532898, 0.9997084736824036, 0.9997573494911194, 0.9998507499694824, 0.9997885227203369, 0.9998239278793335, 0.9997157454490662, 0.9997349977493286, 0.9997966289520264, 0.9997485876083374, 0.9997971057891846, 0.9997199773788452, 0.9996429681777954, 0.9997913837432861, 0.9998341202735901, 0.9996832013130188, 0.9997625350952148]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix1_5.pdf', bbox_inches='tight')

def appendix1_6():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.999740481376648, 0.9997024536132812, 0.9994814991950989, 0.9996551275253296, 0.9996033906936646, 0.9995405673980713, 0.9995701313018799, 0.9996070861816406, 0.9995205998420715, 0.9995344281196594, 0.9995236396789551, 0.9995212554931641, 0.9995193481445312, 0.9995035529136658, 0.9995685815811157, 0.9995333552360535, 0.9995179772377014, 0.9996083378791809, 0.9995841979980469, 0.9995359778404236, 0.9995561242103577, 0.9995811581611633, 0.9995564818382263, 0.9994899034500122, 0.9995864033699036, 0.9995437860488892, 0.9995585680007935, 0.9995299577713013, 0.9995565414428711, 0.9995867013931274, 0.9996167421340942, 0.9995266795158386, 0.9995489716529846, 0.9995277523994446, 0.9996073842048645, 0.9995836615562439, 0.9995642900466919, 0.9995487332344055, 0.9995467066764832, 0.9995365142822266, 0.9995772838592529, 0.9996114373207092, 0.9995816349983215, 0.9995219111442566, 0.9995580315589905, 0.999591052532196, 0.9996092915534973, 0.999566376209259, 0.999559223651886, 0.9995514750480652, 0.9995295405387878, 0.9995531439781189, 0.9996060132980347, 0.9995511174201965, 0.9995604753494263, 0.9995976686477661, 0.9996117353439331, 0.999558687210083, 0.9996216893196106, 0.9995853304862976, 0.9995936751365662, 0.9995911717414856, 0.9995700716972351, 0.9995166063308716, 0.9995526075363159, 0.9995691180229187, 0.9995415806770325, 0.9995926022529602, 0.9996185302734375, 0.9995819330215454, 0.9996129274368286, 0.9995751976966858, 0.999580979347229, 0.9995802044868469, 0.9995285868644714, 0.9995821118354797, 0.9995496273040771, 0.99961256980896, 0.9996030926704407, 0.9995830655097961, 0.999561607837677, 0.9995633959770203, 0.9995540976524353, 0.9996278882026672, 0.9996179342269897, 0.9996102452278137, 0.9995667338371277, 0.9996151924133301, 0.9996365308761597, 0.9995827078819275, 0.9995773434638977, 0.9995443820953369, 0.9995743632316589, 0.9995757341384888, 0.9995829463005066, 0.9995436072349548, 0.9995558261871338, 0.9995841979980469, 0.9995819330215454, 0.9996067881584167, 0.9996271729469299, 0.9995895624160767, 0.999648928642273, 0.9995885491371155, 0.9995812177658081, 0.999573290348053, 0.9995604753494263, 0.9995461702346802, 0.9995844960212708, 0.9995327591896057, 0.9995716214179993, 0.9995741248130798, 0.9995856285095215, 0.9995908141136169, 0.9995834827423096, 0.9995810389518738, 0.999514639377594, 0.9995719790458679, 0.999583899974823, 0.9996317028999329, 0.9995673298835754, 0.9996064305305481, 0.9995908141136169, 0.9996412396430969, 0.9995924234390259, 0.9995843172073364, 0.9996207356452942, 0.9995952248573303, 0.9995607733726501, 0.9996006488800049, 0.9995817542076111, 0.9995786547660828, 0.9995883107185364, 0.9995645880699158, 0.9996020197868347, 0.9995691180229187, 0.9996236562728882, 0.9995713233947754, 0.9995326995849609, 0.9995627999305725, 0.9995838403701782, 0.9995389580726624, 0.9995529651641846, 0.9995884895324707, 0.9996141791343689, 0.9996307492256165, 0.9996076822280884, 0.9995688796043396, 0.9995100498199463, 0.9995960593223572, 0.999584972858429, 0.999580979347229, 0.9995310306549072, 0.9996184706687927, 0.9996129870414734, 0.9995615482330322, 0.9996076226234436, 0.9995484948158264, 0.9996400475502014, 0.9995900988578796, 0.9995505809783936, 0.9996296763420105, 0.9995796084403992, 0.9996193051338196, 0.9995763897895813, 0.9996563196182251, 0.9996069669723511, 0.9995681047439575, 0.9995723962783813, 0.9996020197868347, 0.9995765089988708, 0.9996001124382019, 0.9996203184127808, 0.9995175004005432, 0.9996018409729004, 0.9995737075805664, 0.9996151328086853, 0.9995808005332947, 0.9996097683906555, 0.9996246695518494, 0.9995841383934021, 0.9996118545532227, 0.9996104836463928, 0.999565601348877, 0.9995870590209961, 0.9995724558830261, 0.9996015429496765, 0.9996585845947266, 0.9995509386062622, 0.9996105432510376, 0.9996277689933777, 0.9996322989463806, 0.9996107220649719, 0.9996466636657715, 0.9996340870857239, 0.9996344447135925, 0.9995655417442322, 0.9996160864830017]

    malicious_sim = [0.859961986541748, 0.8625255823135376, 0.8665938377380371, 0.8589470982551575, 0.8632732629776001, 0.8665936589241028, 0.8609950542449951, 0.8618321418762207, 0.8592467308044434, 0.8603330850601196, 0.8592022061347961, 0.8584721684455872, 0.8585464358329773, 0.8607358932495117, 0.862530529499054, 0.8650752305984497, 0.8578155040740967, 0.8595645427703857, 0.8547545075416565, 0.8558823466300964, 0.8735638856887817, 0.8667844533920288, 0.8554415702819824, 0.8658809065818787, 0.8617410659790039, 0.8576305508613586, 0.8656064867973328, 0.8588308691978455, 0.8667025566101074, 0.8564753532409668, 0.8629145622253418, 0.8604652285575867, 0.860552191734314, 0.8560024499893188, 0.8606656193733215, 0.8718773722648621, 0.8606548309326172, 0.8612521290779114, 0.8535057306289673, 0.8740187287330627, 0.8635824918746948, 0.8651449084281921, 0.8709851503372192, 0.8589584827423096, 0.8531783223152161, 0.8734612464904785, 0.8664474487304688, 0.8633973002433777, 0.862179696559906, 0.8589333295822144, 0.8548046946525574, 0.8633599281311035, 0.8701432943344116, 0.8589723706245422, 0.8608547449111938, 0.8671636581420898, 0.8635161519050598, 0.8622568249702454, 0.8529240489006042, 0.8652635812759399, 0.8537067770957947, 0.8605819940567017, 0.8543044924736023, 0.8599333763122559, 0.8620302677154541, 0.8609150052070618, 0.869006335735321, 0.8573646545410156, 0.8634453415870667, 0.8755621314048767, 0.8614896535873413, 0.8585740327835083, 0.8555041551589966, 0.8606926202774048, 0.8662758469581604, 0.8504916429519653, 0.8630443215370178, 0.8582580089569092, 0.8769357204437256, 0.8736546039581299, 0.8590362071990967, 0.858642578125, 0.8593543767929077, 0.859697699546814, 0.8578937649726868, 0.8735098242759705, 0.8728112578392029, 0.8586701154708862, 0.8596035838127136, 0.8619731068611145, 0.8568952679634094, 0.8664742112159729, 0.8602669835090637, 0.8637140393257141, 0.856261670589447, 0.8550508618354797, 0.8601246476173401, 0.8664794564247131, 0.8595389723777771, 0.8607246279716492, 0.8517317771911621, 0.8679049611091614, 0.8625491857528687, 0.8677651882171631, 0.8671582341194153, 0.8750119209289551, 0.8636860847473145, 0.8553140759468079, 0.8617844581604004, 0.8693528175354004, 0.8629735112190247, 0.8631078600883484, 0.8634277582168579, 0.855329692363739, 0.8535800576210022, 0.8637121915817261, 0.8711405992507935, 0.852070152759552, 0.8534292578697205, 0.855871319770813, 0.8646434545516968, 0.8545479774475098, 0.8603254556655884, 0.8665781021118164, 0.8700141310691833, 0.8690856099128723, 0.857496976852417, 0.8563838005065918, 0.8525447249412537, 0.8566701412200928, 0.8633986711502075, 0.8639063239097595, 0.8547492623329163, 0.8694038391113281, 0.8580545783042908, 0.859644889831543, 0.8662079572677612, 0.8545202612876892, 0.8527514338493347, 0.8675130605697632, 0.854219913482666, 0.853695809841156, 0.8547683358192444, 0.8687992095947266, 0.8575161695480347, 0.8654465675354004, 0.859008252620697, 0.8578372001647949, 0.8596248626708984, 0.8621029853820801, 0.8767656683921814, 0.8559126257896423, 0.8529889583587646, 0.8655124306678772, 0.8602170348167419, 0.8624340891838074, 0.858281672000885, 0.8592308759689331, 0.861689567565918, 0.8645702600479126, 0.8602107763290405, 0.8625909090042114, 0.8611974716186523, 0.8584589958190918, 0.8555211424827576, 0.8619407415390015, 0.87115478515625, 0.8571301698684692, 0.8607982993125916, 0.8560282588005066, 0.8503233194351196, 0.8637747168540955, 0.8574814200401306, 0.8634958863258362, 0.8666372299194336, 0.866450846195221, 0.861915111541748, 0.867053210735321, 0.860027015209198, 0.8611581921577454, 0.8573789596557617, 0.8545300364494324, 0.8563493490219116, 0.8572627305984497, 0.8677763342857361, 0.8594311475753784, 0.8619887232780457, 0.86114102602005, 0.8615766167640686, 0.8780857920646667, 0.861670196056366, 0.868526816368103, 0.8649712204933167, 0.855743944644928, 0.8608506917953491, 0.8657537698745728, 0.8667241930961609, 0.8571540713310242]

    top_k_sim = [0.9997872710227966, 0.9998091459274292, 0.9998401999473572, 0.9998598694801331, 0.999826967716217, 0.999851644039154, 0.9998142719268799, 0.9998325705528259, 0.9998084902763367, 0.9998229742050171, 0.9997747540473938, 0.9997701644897461, 0.999819278717041, 0.9997789263725281, 0.9998465180397034, 0.9997830986976624, 0.9997434616088867, 0.9998640418052673, 0.9998215436935425, 0.999818742275238, 0.9998879432678223, 0.9998774528503418, 0.9997866749763489, 0.99978107213974, 0.9998497366905212, 0.9997454881668091, 0.9998384714126587, 0.9998245239257812, 0.9998869895935059, 0.9998149275779724, 0.9998745322227478, 0.9998316168785095, 0.9997270107269287, 0.9997367262840271, 0.999877393245697, 0.9998987913131714, 0.999862790107727, 0.9998658299446106, 0.9998133778572083, 0.9999012351036072, 0.999850332736969, 0.9999261498451233, 0.9998867511749268, 0.9997273683547974, 0.9997172355651855, 0.9998383522033691, 0.9997918605804443, 0.9998388290405273, 0.9998469352722168, 0.999876856803894, 0.999837338924408, 0.999838650226593, 0.9998688697814941, 0.9997631311416626, 0.9998359084129333, 0.9997888207435608, 0.9998286962509155, 0.9998269081115723, 0.9997895359992981, 0.9998387098312378, 0.9997281432151794, 0.9998308420181274, 0.9997615218162537, 0.9997733235359192, 0.9997866749763489, 0.9999061822891235, 0.9998866319656372, 0.9998638033866882, 0.9998914003372192, 0.9999178647994995, 0.999802827835083, 0.9998360276222229, 0.9998621344566345, 0.9998968243598938, 0.9998852014541626, 0.9997304081916809, 0.999910831451416, 0.9997538328170776, 0.9998463988304138, 0.9999266862869263, 0.999817430973053, 0.9997868537902832, 0.9997939467430115, 0.9998946785926819, 0.9998499155044556, 0.9998432397842407, 0.999870777130127, 0.9997502565383911, 0.9998255968093872, 0.9998505711555481, 0.999799370765686, 0.9998655915260315, 0.9998610615730286, 0.9998979568481445, 0.9997642040252686, 0.9997185468673706, 0.999729573726654, 0.9998682141304016, 0.9998458027839661, 0.9997860193252563, 0.9998058080673218, 0.9998689889907837, 0.9998906850814819, 0.9998092651367188, 0.999887228012085, 0.999907910823822, 0.9998704195022583, 0.99981290102005, 0.9999000430107117, 0.9998578429222107, 0.9998464584350586, 0.9998947978019714, 0.9998996257781982, 0.9998003840446472, 0.9997366666793823, 0.9998464584350586, 0.9998579025268555, 0.9997327923774719, 0.9997906684875488, 0.9998264908790588, 0.9998812675476074, 0.9998033046722412, 0.9999027848243713, 0.99985671043396, 0.9999284148216248, 0.9998947381973267, 0.999883770942688, 0.9998120069503784, 0.9997685551643372, 0.9998107552528381, 0.9998471140861511, 0.9998635649681091, 0.9998070001602173, 0.9999331831932068, 0.9998049139976501, 0.999841570854187, 0.9997707605361938, 0.9998236894607544, 0.9997490644454956, 0.9998714327812195, 0.9997400045394897, 0.9996906518936157, 0.9998159408569336, 0.999923050403595, 0.9998418092727661, 0.9997804164886475, 0.9998399019241333, 0.9998171329498291, 0.999873697757721, 0.9998232126235962, 0.9998362064361572, 0.9998720288276672, 0.9997153282165527, 0.999876856803894, 0.9998552799224854, 0.9998483657836914, 0.9999192953109741, 0.9997892379760742, 0.9998043775558472, 0.9998291730880737, 0.9998092651367188, 0.9998761415481567, 0.9998757839202881, 0.9997050166130066, 0.9998200535774231, 0.9998295903205872, 0.9998660683631897, 0.9998024702072144, 0.9999090433120728, 0.9997267723083496, 0.9997400045394897, 0.9998446702957153, 0.999851644039154, 0.9996922016143799, 0.9998730421066284, 0.9998694062232971, 0.999847412109375, 0.9998624324798584, 0.9998798370361328, 0.999906599521637, 0.9998326897621155, 0.9998116493225098, 0.9998277425765991, 0.999717116355896, 0.9998592138290405, 0.9997828006744385, 0.9998865127563477, 0.9998459219932556, 0.999874472618103, 0.9998957514762878, 0.9998923540115356, 0.9999004006385803, 0.9998295903205872, 0.9998254179954529, 0.9997910261154175, 0.9998488426208496, 0.9998447895050049, 0.9998162984848022]


    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix1_6.pdf', bbox_inches='tight')

def appendix2_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [1.0, 0.9999997615814209, 0.9999997615814209, 0.9999997019767761, 0.9999998211860657, 0.9999997615814209, 0.9999997615814209, 0.9999998807907104, 0.9999997615814209, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix2_1.pdf', bbox_inches='tight')

def appendix2_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0]

    malicious_sim = [1.0, 0.9999998211860657, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix2_2.pdf', bbox_inches='tight')

def appendix2_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 0.9999998807907104, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999997019767761, 0.9999998807907104]

    top_k_sim = [1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix2_3.pdf', bbox_inches='tight')

def appendix2_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999999403953552]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix2_4.pdf', bbox_inches='tight')

def appendix2_5():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9993084073066711, 0.9996787309646606, 0.9996727108955383, 0.9996342658996582, 0.9996281266212463, 0.9995623230934143, 0.9997117519378662, 0.999755859375, 0.9997017979621887, 0.9996187090873718, 0.9995296001434326, 0.9997317790985107, 0.9999168515205383, 0.9998822808265686, 0.9997014403343201, 0.9996950626373291, 0.9996317028999329, 0.9996822476387024, 0.999606192111969, 0.999570906162262, 0.9995876550674438, 0.9995443820953369, 0.9995712637901306, 0.9995533227920532, 0.9995905756950378, 0.9995720982551575, 0.9995412230491638, 0.9995856881141663, 0.999567985534668, 0.9995819330215454, 0.9995647072792053, 0.9995720982551575, 0.9995659589767456, 0.99955153465271, 0.9995740652084351, 0.9995702505111694, 0.9995869398117065, 0.9995401501655579, 0.9995500445365906, 0.9995758533477783, 0.9993869662284851, 0.9995847344398499, 0.9995949864387512, 0.9996417760848999, 0.9996199011802673, 0.9995985627174377, 0.9996094107627869, 0.9996539950370789, 0.9996209740638733, 0.9995934367179871, 0.9996205568313599, 0.999586284160614, 0.9995777010917664, 0.9995108842849731, 0.9995982050895691, 0.9995708465576172, 0.9996187090873718, 0.9995856285095215, 0.9997186064720154, 0.9997201561927795, 0.9998325109481812, 0.9999127984046936, 0.9999210238456726, 0.9997366666793823, 0.9996495842933655, 0.9997011423110962, 0.9995705485343933, 0.9996340274810791, 0.9996947050094604, 0.9995980858802795, 0.9996633529663086, 0.9996458888053894, 0.9996504187583923, 0.9996299743652344, 0.9996103644371033, 0.9996136426925659, 0.9995583891868591, 0.9995828866958618, 0.9995814561843872, 0.9995852708816528, 0.9995284676551819, 0.9995015263557434, 0.9996240735054016, 0.9995808005332947, 0.9995964169502258, 0.999609649181366, 0.999609112739563, 0.9996031522750854, 0.9995970129966736, 0.9995949268341064, 0.999569296836853, 0.9995747804641724, 0.9996302127838135, 0.9995883703231812, 0.9996828436851501, 0.999698281288147, 0.9997050762176514, 0.999895453453064, 0.9999087452888489, 0.9998596906661987, 0.999784529209137, 0.9998484253883362, 0.9999323487281799, 0.9997100830078125, 0.9997252225875854, 0.9996943473815918, 0.9996443390846252, 0.9995994567871094, 0.9996200203895569, 0.999596357345581, 0.9995676875114441, 0.9995630383491516, 0.9995651841163635, 0.9995660781860352, 0.9995872974395752, 0.9995336532592773, 0.999573826789856, 0.9995885491371155, 0.9996225237846375, 0.9995732307434082, 0.9996028542518616, 0.9996150135993958, 0.9996659159660339, 0.9996772408485413, 0.999718964099884, 0.9996920228004456, 0.9996834993362427, 0.9997180104255676, 0.9996266961097717, 0.999685525894165, 0.9996447563171387, 0.9996317028999329, 0.9996057748794556, 0.9996034502983093, 0.9995824694633484, 0.9995850920677185, 0.999582052230835, 0.9995952844619751, 0.999582827091217, 0.9995588660240173, 0.999579668045044, 0.9995520114898682, 0.9995774030685425, 0.9995695948600769, 0.9996190071105957, 0.9995753765106201, 0.9995748400688171, 0.9995071887969971, 0.9996596574783325, 0.9996656775474548, 0.9996253252029419, 0.9996138215065002, 0.999611496925354, 0.9996427297592163, 0.9995994567871094, 0.999596118927002, 0.9995642304420471, 0.9995785355567932, 0.9996147751808167, 0.9996336698532104, 0.999626874923706, 0.9996466636657715, 0.9996260404586792, 0.999690592288971, 0.9996435642242432, 0.9996669888496399, 0.9995977878570557, 0.9996533393859863, 0.9997166395187378, 0.9997981190681458, 0.9996247291564941, 0.9996212124824524, 0.999637246131897, 0.9996076822280884, 0.9997648000717163, 0.9996141791343689, 0.9996448755264282, 0.9996002912521362, 0.9995994567871094, 0.9996263980865479, 0.9996098279953003, 0.9996604919433594, 0.9996266961097717, 0.9995917081832886, 0.9996077418327332, 0.9996172785758972, 0.9995875954627991, 0.999585747718811, 0.9995418787002563, 0.9996093511581421, 0.9995682239532471, 0.9995753169059753, 0.9995943307876587, 0.99957674741745, 0.9996333718299866, 0.9996219277381897, 0.9996054172515869, 0.999646782875061]

    malicious_sim = [0.12324024736881256, 0.1187688559293747, 0.11570768058300018, 0.11823399364948273, 0.11737346649169922, 0.1099667102098465, 0.11667224019765854, 0.11225704103708267, 0.1168803945183754, 0.11670428514480591, 0.10326102375984192, 0.11613782495260239, 0.12199083715677261, 0.11930209398269653, 0.12093772739171982, 0.12224750965833664, 0.11531747877597809, 0.11655484884977341, 0.11383312940597534, 0.11744870990514755, 0.11859133094549179, 0.12129230797290802, 0.11635787785053253, 0.11236993968486786, 0.11962367594242096, 0.11569684743881226, 0.1146450936794281, 0.11787721514701843, 0.11846375465393066, 0.11501643061637878, 0.11888575553894043, 0.11321484297513962, 0.11564919352531433, 0.11595366895198822, 0.11946770548820496, 0.11526221036911011, 0.11493213474750519, 0.11821697652339935, 0.11716271191835403, 0.12031350284814835, 0.10432273149490356, 0.10825188457965851, 0.11638698726892471, 0.1103673204779625, 0.11141382902860641, 0.11959458142518997, 0.11325325071811676, 0.11856070160865784, 0.11779791116714478, 0.11312256008386612, 0.1155586838722229, 0.1168285384774208, 0.1144593209028244, 0.11628297716379166, 0.10878534615039825, 0.11581159383058548, 0.1133110299706459, 0.10801179707050323, 0.11415919661521912, 0.11859604716300964, 0.11148340255022049, 0.11753889918327332, 0.11878005415201187, 0.12305159866809845, 0.12212465703487396, 0.11664450913667679, 0.11512158066034317, 0.10570607334375381, 0.11556608974933624, 0.11676549166440964, 0.11644355952739716, 0.11590017378330231, 0.1186324954032898, 0.10878603160381317, 0.11587681621313095, 0.11729240417480469, 0.11634857207536697, 0.11456631124019623, 0.11058931797742844, 0.11928793787956238, 0.11650010943412781, 0.10357257723808289, 0.11841423064470291, 0.11424730718135834, 0.11400750279426575, 0.11672616004943848, 0.11108255386352539, 0.11643167585134506, 0.10980026423931122, 0.11635477840900421, 0.1148996502161026, 0.107795849442482, 0.1156904399394989, 0.11863537132740021, 0.11225741356611252, 0.12054716050624847, 0.11539539694786072, 0.11642468720674515, 0.12133722007274628, 0.12470819056034088, 0.11565117537975311, 0.12101329118013382, 0.11791498214006424, 0.11191178113222122, 0.11860533058643341, 0.12100508064031601, 0.11613903194665909, 0.11127842217683792, 0.10972433537244797, 0.11203344911336899, 0.11391452699899673, 0.11712941527366638, 0.10981637984514236, 0.11283223330974579, 0.11479084938764572, 0.11349033564329147, 0.10876676440238953, 0.11267019808292389, 0.11225254833698273, 0.11402717232704163, 0.1155395358800888, 0.1108030155301094, 0.11181966215372086, 0.11096122115850449, 0.11450652033090591, 0.11115250736474991, 0.11396773904561996, 0.11546613276004791, 0.11713220924139023, 0.11592823266983032, 0.11320532858371735, 0.11317868530750275, 0.11310877650976181, 0.11243103444576263, 0.1141618862748146, 0.11569580435752869, 0.11633433401584625, 0.11284344643354416, 0.11302590370178223, 0.1146116629242897, 0.11178315430879593, 0.11845911294221878, 0.11048578470945358, 0.11412139981985092, 0.11390511691570282, 0.10782720148563385, 0.10957393795251846, 0.1064109206199646, 0.10951858013868332, 0.11091912537813187, 0.11338399350643158, 0.11357565224170685, 0.1161561906337738, 0.1138874813914299, 0.11949318647384644, 0.1135849580168724, 0.1137232556939125, 0.10766581445932388, 0.11102137714624405, 0.11464186757802963, 0.11304954439401627, 0.1041586622595787, 0.11541111022233963, 0.11370301246643066, 0.11032538115978241, 0.1126132681965828, 0.11182855814695358, 0.11162767559289932, 0.10984283685684204, 0.11430419236421585, 0.12060242146253586, 0.11507927626371384, 0.11534595489501953, 0.1134900450706482, 0.10873530060052872, 0.1143057718873024, 0.12079425901174545, 0.11217157542705536, 0.10777673125267029, 0.11183399707078934, 0.11377190053462982, 0.11289151757955551, 0.11126900464296341, 0.11571474373340607, 0.11469032615423203, 0.11331616342067719, 0.11383224278688431, 0.11420222371816635, 0.11381401121616364, 0.11214601993560791, 0.11195327341556549, 0.10729455947875977, 0.11134036630392075, 0.11208891868591309, 0.11256162822246552, 0.11043114960193634, 0.11713894456624985, 0.11465918272733688]

    top_k_sim = [0.9996629357337952, 0.9998083710670471, 0.999731183052063, 0.999670147895813, 0.9428330659866333, 0.9995623230934143, 0.8864142298698425, 0.9997805953025818, 0.9997487664222717, 0.9427131414413452, 0.9995613098144531, 0.9431241154670715, 0.9999330639839172, 0.9999282360076904, 0.9997014403343201, 0.999719500541687, 0.999675989151001, 0.9997209906578064, 0.9996211528778076, 0.9995861649513245, 0.9996253252029419, 0.9996141791343689, 0.9996176362037659, 0.9995900392532349, 0.9996160864830017, 0.999618649482727, 0.9995881915092468, 0.999585747718811, 0.9996317625045776, 0.999619722366333, 0.9996049404144287, 0.9995720386505127, 0.9996169209480286, 0.9995701909065247, 0.9995914101600647, 0.9995702505111694, 0.9996320605278015, 0.9995797872543335, 0.9995500445365906, 0.8874340653419495, 0.9994468092918396, 0.9996228814125061, 0.9444387555122375, 0.9996417760848999, 0.9996317625045776, 0.9996389746665955, 0.999623715877533, 0.9996727705001831, 0.9996529221534729, 0.9996042847633362, 0.9996416568756104, 0.9995863437652588, 0.9995998740196228, 0.9443504810333252, 0.9421175718307495, 0.9995931386947632, 0.9446092247962952, 0.9995856285095215, 0.999748945236206, 0.9447660446166992, 0.9998494386672974, 0.9999433755874634, 0.999928891658783, 0.9997366070747375, 0.999671995639801, 0.9997010231018066, 0.9445814490318298, 0.9415038228034973, 0.9997105598449707, 0.9996101260185242, 0.9996634125709534, 0.9996597766876221, 0.9996830224990845, 0.9996488690376282, 0.999610424041748, 0.9996365308761597, 0.9995766878128052, 0.9995937347412109, 0.999603271484375, 0.9996262192726135, 0.9422111511230469, 0.9995015263557434, 0.9996240735054016, 0.9995808005332947, 0.9995964169502258, 0.9996358156204224, 0.9996243715286255, 0.9996461868286133, 0.9996188282966614, 0.9996395111083984, 0.943711519241333, 0.9995916485786438, 0.9429758191108704, 0.9433181881904602, 0.9997166991233826, 0.9997182488441467, 0.9431253671646118, 0.9429965615272522, 0.9999160766601562, 0.8878549933433533, 0.9997959733009338, 0.9998860955238342, 0.9999322891235352, 0.9997100234031677, 0.9997386932373047, 0.9997050762176514, 0.99964439868927, 0.9996650815010071, 0.9996497631072998, 0.9995962381362915, 0.9995882511138916, 0.9995996952056885, 0.9995651245117188, 0.9995985627174377, 0.9996169805526733, 0.9435385465621948, 0.9996199011802673, 0.9996048212051392, 0.9996225237846375, 0.9995890259742737, 0.9432026147842407, 0.9996482729911804, 0.9430564045906067, 0.9997076988220215, 0.9997425675392151, 0.9996919631958008, 0.9997149705886841, 0.999759316444397, 0.9996557235717773, 0.9423917531967163, 0.9996626377105713, 0.9996441602706909, 0.999652087688446, 0.9996190667152405, 0.9995825290679932, 0.999596357345581, 0.9995821118354797, 0.999606728553772, 0.9995933771133423, 0.9995760917663574, 0.999579668045044, 0.9995994567871094, 0.9996247887611389, 0.9995971322059631, 0.9427735209465027, 0.9996330738067627, 0.8258568048477173, 0.9995329976081848, 0.999701738357544, 0.9996656775474548, 0.9996352791786194, 0.9996324777603149, 0.9996230602264404, 0.9996427893638611, 0.9996244311332703, 0.9996148347854614, 0.9433205127716064, 0.9995785355567932, 0.9996146559715271, 0.9996448159217834, 0.9427743554115295, 0.9996466040611267, 0.9996456503868103, 0.9997484087944031, 0.9996561408042908, 0.8856578469276428, 0.999650239944458, 0.9420939087867737, 0.9997166395187378, 0.9998165369033813, 0.9996498227119446, 0.9996467232704163, 0.9996450543403625, 0.9432413578033447, 0.9998281002044678, 0.9996142983436584, 0.9996577501296997, 0.8858702182769775, 0.999622106552124, 0.9996460676193237, 0.9996210336685181, 0.9996864199638367, 0.9996484518051147, 0.9996126294136047, 0.9996379017829895, 0.9996408224105835, 0.9996007680892944, 0.9995856881141663, 0.9995710849761963, 0.9996094107627869, 0.9425777196884155, 0.9996033310890198, 0.9996088147163391, 0.9429775476455688, 0.999683141708374, 0.9996219277381897, 0.9996308088302612, 0.9430318474769592]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix2_5.pdf', bbox_inches='tight')

def appendix2_6():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9997996687889099, 0.9992220401763916, 0.9998521208763123, 0.9998556971549988, 0.9998730421066284, 0.9998748898506165, 0.9998682141304016, 0.9998118281364441, 0.999823272228241, 0.9998375773429871, 0.9998693466186523, 0.9998739957809448, 0.9998388290405273, 0.99983149766922, 0.9998554587364197, 0.9998232126235962, 0.9998489618301392, 0.9998161792755127, 0.9998924732208252, 0.9998353123664856, 0.9998294115066528, 0.9998158812522888, 0.9994097352027893, 0.9998712539672852, 0.9999378323554993, 0.9998069405555725, 0.9999234080314636, 0.999909520149231, 0.9999362826347351, 0.9998964667320251, 0.9997044801712036, 0.9999119639396667, 0.9997456669807434, 0.999688982963562, 0.999882698059082, 0.9998494982719421, 0.9996944069862366, 0.9998518824577332, 0.9998772144317627, 0.9996711015701294, 0.9998185038566589, 0.9998490214347839, 0.999899685382843, 0.999841034412384, 0.9998534321784973, 0.9998272061347961, 0.9997110366821289, 0.9998020529747009, 0.9998308420181274, 0.999675989151001, 0.9998235702514648, 0.9996482133865356, 0.9998440146446228, 0.9998518824577332, 0.999821662902832, 0.9992945790290833, 0.999674916267395, 0.9998761415481567, 0.9993029236793518, 0.9998859763145447, 0.9998642802238464, 0.9998877048492432, 0.9998853206634521, 0.9997162818908691, 0.9998674392700195, 0.9996935129165649, 0.9998540282249451, 0.9998725056648254, 0.9998181462287903, 0.9997859001159668, 0.9998432993888855, 0.9998361468315125, 0.999810516834259, 0.99985271692276, 0.9993852972984314, 0.9998202919960022, 0.999901533126831, 0.9998427629470825, 0.9998288154602051, 0.9994102120399475, 0.9998495578765869, 0.9998915195465088, 0.9997532963752747, 0.9998634457588196, 0.9998629093170166, 0.9997860193252563, 0.9993222951889038, 0.9998134970664978, 0.9998753666877747, 0.9994047284126282, 0.9998583793640137, 0.9999014139175415, 0.9998835325241089, 0.9998422265052795, 0.9998265504837036, 0.9998675584793091, 0.9998546242713928, 0.9998473525047302, 0.9998429417610168, 0.9998825788497925, 0.9998485445976257, 0.9998010993003845, 0.9996562600135803, 0.9998411536216736, 0.9998360872268677, 0.9998142123222351, 0.9998100399971008, 0.9996793866157532, 0.9998788833618164, 0.9998442530632019, 0.999801754951477, 0.9998360872268677, 0.9996681213378906, 0.9996263980865479, 0.9998538494110107, 0.9998401403427124, 0.9997938275337219, 0.9998682141304016, 0.9996628761291504, 0.9998405575752258, 0.9998404383659363, 0.9996821284294128, 0.9998732805252075, 0.9998674392700195, 0.9998080134391785, 0.9999164938926697, 0.9998427629470825, 0.9998696446418762, 0.9998112916946411, 0.9998069405555725, 0.9998738169670105, 0.999904990196228, 0.9998310208320618, 0.9997586011886597, 0.999323844909668, 0.9998005628585815, 0.9998875856399536, 0.9994810223579407, 0.9996976256370544, 0.9998061060905457, 0.9998614192008972, 0.9998912811279297, 0.9994698762893677, 0.9998403191566467, 0.9998321533203125, 0.9998855590820312, 0.9998522996902466, 0.999863862991333, 0.9998834729194641, 0.999885082244873, 0.999899685382843, 0.9998517632484436, 0.999862551689148, 0.9997151494026184, 0.9996857643127441, 0.9998863339424133, 0.9998086094856262, 0.9995314478874207, 0.9997850060462952, 0.9998471140861511, 0.9999211430549622, 0.9998580813407898, 0.9999067187309265, 0.9995527863502502, 0.9998846054077148, 0.9998595118522644, 0.9999071359634399, 0.9998454451560974, 0.9994525909423828, 0.999832034111023, 0.999893069267273, 0.9997811913490295, 0.9994244575500488, 0.9998829364776611, 0.9993751645088196, 0.9994624257087708, 0.9997887015342712, 0.9997223019599915, 0.9996536374092102, 0.9998102188110352, 0.9997183680534363, 0.9998846054077148, 0.9996640086174011, 0.9997576475143433, 0.999629557132721, 0.9997925162315369, 0.9999203681945801, 0.9998685717582703, 0.9999302625656128, 0.999934732913971, 0.9999366998672485, 0.9998871684074402, 0.9999040961265564, 0.999898374080658, 0.9999077916145325, 0.9998793005943298, 0.9996639490127563, 0.9998835325241089]

    malicious_sim = [0.12180781364440918, 0.11652238667011261, 0.11515504121780396, 0.11327976733446121, 0.11560902744531631, 0.11552011221647263, 0.11572020500898361, 0.11188831180334091, 0.11431373655796051, 0.11109832674264908, 0.114506796002388, 0.11434327065944672, 0.11417871713638306, 0.11529354006052017, 0.11793040484189987, 0.1122543141245842, 0.115280881524086, 0.11317239701747894, 0.11298432946205139, 0.11170294135808945, 0.10296066105365753, 0.11405505239963531, 0.11456425487995148, 0.10984761267900467, 0.11345293372869492, 0.10543397068977356, 0.11184036731719971, 0.1134583130478859, 0.11467526108026505, 0.11460194736719131, 0.11479554325342178, 0.11353728920221329, 0.1063932478427887, 0.11311119049787521, 0.11717082560062408, 0.11295121908187866, 0.11350846290588379, 0.11390939354896545, 0.11627425998449326, 0.11670366674661636, 0.11443337053060532, 0.11727426201105118, 0.11617899686098099, 0.11306095123291016, 0.11400748789310455, 0.1111750528216362, 0.10893847793340683, 0.11297973990440369, 0.1146126240491867, 0.11238651722669601, 0.11614851653575897, 0.11605343967676163, 0.11692452430725098, 0.1133122369647026, 0.11139827221632004, 0.11315137147903442, 0.10996510088443756, 0.11423959583044052, 0.11270174384117126, 0.10729466378688812, 0.11353007704019547, 0.11115676164627075, 0.11415950953960419, 0.11589663475751877, 0.11591850221157074, 0.1172434613108635, 0.1096433624625206, 0.1133815124630928, 0.11352841556072235, 0.11346166580915451, 0.115936279296875, 0.11399342119693756, 0.11383477598428726, 0.11149931699037552, 0.11173862963914871, 0.11281844973564148, 0.11204557120800018, 0.1132994294166565, 0.11431385576725006, 0.1128428652882576, 0.11073224246501923, 0.11050232499837875, 0.11110145598649979, 0.11327389627695084, 0.11392273008823395, 0.11326488107442856, 0.11392039060592651, 0.11323888599872589, 0.11316072940826416, 0.11318596452474594, 0.11065327376127243, 0.1162949725985527, 0.11548259854316711, 0.11227772384881973, 0.10863474756479263, 0.11079227179288864, 0.1132156252861023, 0.11304926872253418, 0.11257364600896835, 0.11445025354623795, 0.11249450594186783, 0.11261214315891266, 0.11418551206588745, 0.11671195179224014, 0.1137329563498497, 0.11552494019269943, 0.11099612712860107, 0.11611182987689972, 0.11351948976516724, 0.11159020662307739, 0.1135362982749939, 0.11476100236177444, 0.11219687759876251, 0.11300857365131378, 0.11109039187431335, 0.11228985339403152, 0.11230423301458359, 0.11167183518409729, 0.11237474530935287, 0.11063895374536514, 0.1119917556643486, 0.11565462499856949, 0.11256396025419235, 0.1115037277340889, 0.11062390357255936, 0.11233765631914139, 0.11432728916406631, 0.11356684565544128, 0.11206424236297607, 0.11133672297000885, 0.11292218416929245, 0.11350347846746445, 0.11511895805597305, 0.11296478658914566, 0.11326370388269424, 0.11297057569026947, 0.11509251594543457, 0.11173353344202042, 0.1147533655166626, 0.11293752491474152, 0.11070512980222702, 0.11255434900522232, 0.11642955988645554, 0.1142098605632782, 0.10797221958637238, 0.1142328530550003, 0.1155102476477623, 0.11439637839794159, 0.11453655362129211, 0.11282473057508469, 0.11633674055337906, 0.11550064384937286, 0.11161989718675613, 0.10834234952926636, 0.11569642275571823, 0.11362677067518234, 0.1136816069483757, 0.11537834256887436, 0.11546783894300461, 0.11343858391046524, 0.11421527713537216, 0.11474974453449249, 0.11475913226604462, 0.10553447157144547, 0.11071190983057022, 0.11446606367826462, 0.11496416479349136, 0.1155920997262001, 0.11856609582901001, 0.11508817970752716, 0.11488579958677292, 0.11284548789262772, 0.11524616926908493, 0.11385821551084518, 0.114585280418396, 0.11366786807775497, 0.11375092715024948, 0.11261256784200668, 0.1137450635433197, 0.11234048753976822, 0.1137295812368393, 0.11284531652927399, 0.11289767175912857, 0.11254355311393738, 0.11194910854101181, 0.11500175297260284, 0.11194030940532684, 0.1116909608244896, 0.11230151355266571, 0.1071641594171524, 0.11296448856592178, 0.11348007619380951, 0.11330284923315048, 0.11451775580644608, 0.11433497816324234, 0.11487479507923126, 0.11351074278354645, 0.11369699239730835]

    top_k_sim = [0.9997997283935547, 0.9996461868286133, 0.9998521208763123, 0.9998556971549988, 0.9998730421066284, 0.9999082684516907, 0.9998924732208252, 0.9998118877410889, 0.9999141693115234, 0.9998608231544495, 0.9998873472213745, 0.9999006986618042, 0.9998921751976013, 0.9999176263809204, 0.9998822212219238, 0.9998231530189514, 0.9998979568481445, 0.9998161196708679, 0.99989253282547, 0.8912441730499268, 0.9998360872268677, 0.9998820424079895, 0.9994097352027893, 0.9998712539672852, 0.8910266757011414, 0.9998462200164795, 0.9999391436576843, 0.9999184012413025, 0.9999508857727051, 0.9999140501022339, 0.9999018907546997, 0.8920893669128418, 0.9998925924301147, 0.999885082244873, 0.9998995065689087, 0.9999001026153564, 0.9998286366462708, 0.9998846054077148, 0.999910295009613, 0.9998677372932434, 0.999882161617279, 0.9999004602432251, 0.9999136328697205, 0.9998658895492554, 0.9998942613601685, 0.999866247177124, 0.9997110366821289, 0.999835193157196, 0.999830961227417, 0.9998181462287903, 0.9998527765274048, 0.9996482133865356, 0.9998635649681091, 0.9999144673347473, 0.999864935874939, 0.8913604617118835, 0.9997024536132812, 0.9998946189880371, 0.8905940055847168, 0.9998860359191895, 0.9999139308929443, 0.9999091625213623, 0.9998853206634521, 0.9999120831489563, 0.99986732006073, 0.9998821020126343, 0.9999181628227234, 0.9999073147773743, 0.999871551990509, 0.9997859597206116, 0.99989914894104, 0.9999160766601562, 0.9998798966407776, 0.9998829960823059, 0.9998207688331604, 0.9998591542243958, 0.999901533126831, 0.9998728036880493, 0.9998807311058044, 0.9998607039451599, 0.9998732805252075, 0.9999167323112488, 0.9997979998588562, 0.9998992681503296, 0.9998767971992493, 0.9997860193252563, 0.999322235584259, 0.9998576641082764, 0.999910831451416, 0.9998337626457214, 0.9998961687088013, 0.9999014735221863, 0.999907374382019, 0.9998618960380554, 0.9998852610588074, 0.9998676180839539, 0.9998875856399536, 0.9998885989189148, 0.9999282360076904, 0.9998971819877625, 0.9999046325683594, 0.999845027923584, 0.9998511075973511, 0.9998829960823059, 0.9998722672462463, 0.9998654127120972, 0.9998679161071777, 0.999815821647644, 0.999905526638031, 0.9998828768730164, 0.9998830556869507, 0.9998360872268677, 0.9998034834861755, 0.9998170733451843, 0.9998538494110107, 0.9998401999473572, 0.9998542070388794, 0.9998871088027954, 0.9996628761291504, 0.9999001026153564, 0.9998884201049805, 0.9998912811279297, 0.9998914003372192, 0.9998832941055298, 0.9998629689216614, 0.9999165534973145, 0.9998722076416016, 0.9999112486839294, 0.9998112916946411, 0.9998733997344971, 0.9999178051948547, 0.999904990196228, 0.9998546838760376, 0.9998043775558472, 0.9998906850814819, 0.9998420476913452, 0.9998875856399536, 0.9999119639396667, 0.9998942017555237, 0.9998591542243958, 0.9998816847801208, 0.9998913407325745, 0.9999001026153564, 0.8916050791740417, 0.999863862991333, 0.9999216794967651, 0.9998908638954163, 0.9998943209648132, 0.9999158978462219, 0.9999310970306396, 0.9999241232872009, 0.8915772438049316, 0.8905346393585205, 0.9997508525848389, 0.9996857643127441, 0.9999369382858276, 0.9998557567596436, 0.9998841881752014, 0.9999269247055054, 0.999874472618103, 0.9999271035194397, 0.9998580813407898, 0.7820996046066284, 0.9995527863502502, 0.9999170303344727, 0.9998924732208252, 0.9999300241470337, 0.9998840689659119, 0.9998927116394043, 0.9998319745063782, 0.9999349117279053, 0.9997811317443848, 0.9998506307601929, 0.9998988509178162, 0.9998114705085754, 0.9998868107795715, 0.9998308420181274, 0.9998661279678345, 0.9997862577438354, 0.99986332654953, 0.9998596906661987, 0.9999168515205383, 0.9998546242713928, 0.9997576475143433, 0.9998267889022827, 0.999858021736145, 0.8901285529136658, 0.9999030232429504, 0.890152633190155, 0.9999451041221619, 0.9999638199806213, 0.9999104142189026, 0.9999377131462097, 0.9998984336853027, 0.9999268651008606, 0.999890923500061, 0.9998977184295654, 0.9998835325241089]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix2_6.pdf', bbox_inches='tight')

def appendix3_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999864101409912, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999802112579346, 0.999990701675415, 0.9999902844429016, 0.9999905228614807, 0.9999894499778748, 0.9999901652336121, 0.9999903440475464, 0.9999890923500061, 0.999989926815033, 0.9999892711639404, 0.9999901056289673, 0.9999895691871643, 0.9999900460243225, 0.9999902248382568, 0.9999905228614807, 0.9999895691871643, 0.9999904036521912, 0.9999889135360718, 0.9999905824661255, 0.9999895691871643, 0.999989926815033, 0.9999894499778748, 0.9999900460243225, 0.9999892711639404, 0.9999904036521912, 0.9999903440475464, 0.9999901056289673, 0.9999896883964539, 0.9999886155128479, 0.9999892711639404, 0.9999891519546509, 0.9999906420707703, 0.9999883770942688, 0.9999893307685852, 0.999990701675415, 0.9999884963035583, 0.9999889731407166, 0.9999883770942688, 0.9999896287918091, 0.9999904036521912, 0.9999890327453613, 0.9999894499778748, 0.9999889731407166, 0.999988317489624, 0.9999875426292419, 0.9999872446060181, 0.9999884366989136, 0.9999879002571106, 0.9999874234199524, 0.9999881386756897, 0.9999897480010986, 0.9999886751174927, 0.9999881982803345, 0.999987781047821, 0.9999879002571106, 0.9999872446060181, 0.999988317489624, 0.9999881386756897, 0.999988853931427, 0.9999868273735046, 0.9999884963035583, 0.9999885559082031, 0.9999886155128479, 0.9999886155128479, 0.9999873638153076, 0.9999874830245972, 0.9999879002571106, 0.9999878406524658, 0.9999871850013733, 0.9999861121177673, 0.9999861717224121, 0.9999863505363464, 0.9999858736991882, 0.9999837875366211, 0.9999845623970032, 0.9999837875366211, 0.9999852180480957, 0.9999864101409912, 0.9999841451644897, 0.9999848008155823, 0.999984622001648, 0.9999839067459106, 0.9999831318855286, 0.9999870657920837, 0.9999839067459106, 0.9999840259552002, 0.9999833106994629, 0.9999841451644897, 0.9999821782112122, 0.9999842643737793, 0.9999837279319763, 0.9999815225601196, 0.999980092048645, 0.9999812841415405, 0.999983012676239, 0.9999843835830688, 0.9999817609786987, 0.9999836683273315, 0.9999807476997375, 0.9999812245368958, 0.9999824166297913, 0.9999797344207764, 0.9999831914901733, 0.9999825358390808, 0.9999814033508301, 0.9999811053276062, 0.999981701374054, 0.9999815821647644, 0.999981164932251, 0.9999803304672241, 0.9999808669090271, 0.99997878074646, 0.9999812841415405, 0.9999798536300659, 0.9999774098396301, 0.9999764561653137, 0.9999780654907227, 0.9999783635139465, 0.9999806880950928, 0.999976396560669, 0.999978244304657, 0.9999772906303406, 0.9999820590019226, 0.999977171421051, 0.9999755024909973, 0.9999813437461853, 0.9999775290489197, 0.9999759793281555, 0.9999739527702332, 0.9999735951423645, 0.9999739527702332, 0.9999749064445496, 0.9999708533287048, 0.9999728798866272, 0.9999715685844421, 0.999970555305481, 0.9999715685844421, 0.999972939491272, 0.9999702572822571, 0.9999683499336243, 0.9999666810035706, 0.9999675154685974, 0.9999687671661377, 0.9999679923057556, 0.9999674558639526, 0.9999684691429138, 0.9999702572822571, 0.9999673962593079, 0.9999727010726929, 0.9999645352363586, 0.9999679923057556, 0.9999720454216003, 0.9999672174453735, 0.9999598264694214, 0.999963641166687, 0.9999595284461975, 0.9999604821205139, 0.999966025352478, 0.9999645352363586, 0.9999596476554871, 0.9999644160270691, 0.9999638199806213, 0.9999632239341736, 0.9999576210975647, 0.9999522566795349, 0.9999539852142334, 0.9999549388885498, 0.9999532699584961, 0.9999514222145081, 0.9999557137489319, 0.9999569654464722, 0.9999493956565857, 0.9999450445175171, 0.999947726726532, 0.9999501705169678, 0.9999492764472961, 0.9999505281448364, 0.9999457597732544, 0.9999403953552246, 0.9999399781227112, 0.9999384880065918, 0.9999361634254456, 0.9999380707740784, 0.9999405145645142, 0.9999316930770874, 0.9999343156814575, 0.99992835521698, 0.9999310970306396, 0.9999301433563232, 0.9999335408210754, 0.9999247789382935, 0.9999175071716309, 0.9999175071716309, 0.9999176859855652, 0.9999240636825562, 0.999914288520813, 0.9999253153800964, 0.9999203681945801]

    top_k_sim = [0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998211860657, 0.9999998807907104, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999998211860657, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999997615814209, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 0.9999997615814209, 1.0000001192092896, 1.0, 0.9999998807907104, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997615814209, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999986886978149, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 0.9999997615814209]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix3_1.pdf', bbox_inches='tight')

def appendix3_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 0.9999998211860657, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.999966025352478, 0.999975860118866, 0.9999749660491943, 0.9999744296073914, 0.9999745488166809, 0.999975323677063, 0.999973475933075, 0.999975323677063, 0.9999744892120361, 0.9999745488166809, 0.9999735951423645, 0.9999721646308899, 0.9999709725379944, 0.9999702572822571, 0.9999706149101257, 0.9999728202819824, 0.9999711513519287, 0.9999709129333496, 0.9999707937240601, 0.999968945980072, 0.9999683499336243, 0.9999671578407288, 0.9999656081199646, 0.999966025352478, 0.9999663233757019, 0.999966025352478, 0.9999639391899109, 0.999966025352478, 0.9999632835388184, 0.9999572038650513, 0.9999566078186035, 0.9999579191207886, 0.9999558925628662, 0.9999556541442871, 0.9999579787254333, 0.9999567270278931, 0.9999529123306274, 0.9999561905860901, 0.9999504089355469, 0.9999504089355469, 0.9999483823776245, 0.9999456405639648, 0.9999443292617798, 0.9999437928199768, 0.9999405741691589, 0.9999407529830933, 0.9999418258666992, 0.999941349029541, 0.9999401569366455, 0.999935507774353, 0.9999333024024963, 0.9999374747276306, 0.9999266266822815, 0.99992835521698, 0.9999260306358337, 0.9999259114265442, 0.9999300837516785, 0.9999251365661621, 0.9999220371246338, 0.9999245405197144, 0.9999167323112488, 0.9999170899391174, 0.9999243021011353, 0.9999155402183533, 0.9999138116836548, 0.9999046921730042, 0.9999015927314758, 0.999902069568634, 0.9999005198478699, 0.9999035596847534, 0.9999024271965027, 0.999897301197052, 0.9998942017555237, 0.9998939037322998, 0.9998928904533386, 0.9998922348022461, 0.9998815655708313, 0.9998964071273804, 0.9998852610588074, 0.9998841285705566, 0.9998782873153687, 0.9998771548271179, 0.9998617172241211, 0.9998563528060913, 0.9998576045036316, 0.9998608827590942, 0.9998572468757629, 0.9998500347137451, 0.9998523592948914, 0.9998432397842407, 0.9998366832733154, 0.9998338222503662, 0.9998328685760498, 0.9998441934585571, 0.9998547434806824, 0.9998505115509033, 0.9998393058776855, 0.9998215436935425, 0.9998432397842407, 0.9998561143875122, 0.9998447299003601, 0.9998490214347839, 0.9998547434806824, 0.9998545050621033, 0.999843418598175, 0.9998297691345215, 0.9998247027397156, 0.9998180270195007, 0.9998027682304382, 0.9998113512992859, 0.9997925162315369, 0.9997984766960144, 0.9997704029083252, 0.9997972249984741, 0.9997701644897461, 0.9997561573982239, 0.9997568130493164, 0.9997330904006958, 0.999744713306427, 0.9997208118438721, 0.999719500541687, 0.9997081756591797, 0.9997011423110962, 0.9996964335441589, 0.9996817111968994, 0.9996862411499023, 0.9996686577796936, 0.9996503591537476, 0.9996719360351562, 0.9996550679206848, 0.9996442198753357, 0.9996272325515747, 0.999631404876709, 0.999600887298584, 0.9996536374092102, 0.9996531009674072, 0.999680757522583, 0.999679446220398, 0.9996577501296997, 0.9996610283851624, 0.9996258020401001, 0.9996054172515869, 0.9995871782302856, 0.9995743632316589, 0.9995800852775574, 0.999574601650238, 0.9995619654655457, 0.9995380640029907, 0.9995452761650085, 0.9995278120040894, 0.999596357345581, 0.9997267127037048, 0.9997556805610657, 0.9997388124465942, 0.9997264742851257, 0.9997283816337585, 0.999680757522583, 0.9996558427810669, 0.9995971918106079, 0.9997367858886719, 0.9997884035110474, 0.9998079538345337, 0.9998067021369934, 0.999783992767334, 0.9997788667678833, 0.9997587203979492, 0.9997498989105225, 0.9997358322143555, 0.9997166395187378, 0.9996854066848755, 0.9996926188468933, 0.9996711015701294, 0.9996475577354431, 0.9996260404586792, 0.9996157884597778, 0.9996192455291748, 0.9995884895324707, 0.9996004104614258, 0.9995430707931519, 0.9995294213294983, 0.9995412230491638, 0.9994964599609375, 0.9994851350784302, 0.9995124340057373, 0.9996121525764465, 0.9996983408927917, 0.999697208404541, 0.9996910095214844, 0.9996670484542847, 0.9996449947357178, 0.999610424041748, 0.9995899200439453, 0.9995803833007812, 0.9995735287666321, 0.9995415806770325, 0.9995284676551819, 0.9994778633117676, 0.9994729161262512]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999992847442627, 1.0, 1.0, 1.0, 0.9999984502792358, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999976754188538, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999926686286926, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999920129776001, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999946355819702, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix3_2.pdf', bbox_inches='tight')

def appendix3_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999988675117493, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999930262565613, 0.9999964833259583, 0.9999971985816956, 0.9999963641166687, 0.9999966025352478, 0.9999967217445374, 0.9999966621398926, 0.9999963641166687, 0.9999963641166687, 0.9999964237213135, 0.9999964237213135, 0.9999963641166687, 0.9999960064888, 0.9999961256980896, 0.9999960660934448, 0.9999964237213135, 0.9999961256980896, 0.9999961256980896, 0.9999957084655762, 0.9999951720237732, 0.9999954700469971, 0.9999959468841553, 0.9999958276748657, 0.9999962449073792, 0.9999954104423523, 0.9999955296516418, 0.9999955296516418, 0.9999958872795105, 0.9999956488609314, 0.9999940991401672, 0.9999942779541016, 0.9999936819076538, 0.9999929070472717, 0.9999930262565613, 0.9999935626983643, 0.9999924898147583, 0.999991774559021, 0.9999921321868896, 0.9999921917915344, 0.9999931454658508, 0.999992847442627, 0.9999935030937195, 0.9999937415122986, 0.9999938011169434, 0.9999932050704956, 0.9999942779541016, 0.9999935030937195, 0.9999936819076538, 0.9999932050704956, 0.9999931454658508, 0.9999935030937195, 0.9999932050704956, 0.9999929070472717, 0.9999932050704956, 0.9999926090240479, 0.9999926090240479, 0.9999922513961792, 0.9999924898147583, 0.999992847442627, 0.9999918341636658, 0.9999924898147583, 0.9999918937683105, 0.9999910593032837, 0.9999911189079285, 0.9999910593032837, 0.9999907612800598, 0.9999904632568359, 0.9999905228614807, 0.9999902844429016, 0.9999921321868896, 0.9999899864196777, 0.9999905228614807, 0.9999901056289673, 0.9999902844429016, 0.9999904632568359, 0.9999889135360718, 0.9999902844429016, 0.9999889731407166, 0.9999882578849792, 0.9999881386756897, 0.9999870657920837, 0.9999881982803345, 0.9999861717224121, 0.9999870657920837, 0.999988317489624, 0.9999858736991882, 0.9999852776527405, 0.9999852776527405, 0.9999840259552002, 0.9999836683273315, 0.9999841451644897, 0.9999842643737793, 0.9999845027923584, 0.9999843835830688, 0.9999822974205017, 0.9999827742576599, 0.9999828934669495, 0.9999826550483704, 0.9999816417694092, 0.9999793171882629, 0.9999790787696838, 0.9999790191650391, 0.9999810457229614, 0.9999831318855286, 0.9999797940254211, 0.9999814033508301, 0.9999808669090271, 0.9999793767929077, 0.9999765157699585, 0.9999788403511047, 0.9999773502349854, 0.999976396560669, 0.9999744296073914, 0.999975860118866, 0.999977707862854, 0.9999779462814331, 0.9999750852584839, 0.9999743700027466, 0.9999735951423645, 0.9999774694442749, 0.9999739527702332, 0.9999754428863525, 0.9999749064445496, 0.9999743103981018, 0.9999735951423645, 0.9999752044677734, 0.9999723434448242, 0.9999707341194153, 0.9999716281890869, 0.999972403049469, 0.9999696016311646, 0.9999675154685974, 0.9999667406082153, 0.9999637603759766, 0.9999617338180542, 0.9999628663063049, 0.9999589920043945, 0.9999679327011108, 0.9999681711196899, 0.9999704360961914, 0.9999654293060303, 0.9999631643295288, 0.99996417760849, 0.999962329864502, 0.9999574422836304, 0.999954342842102, 0.9999554753303528, 0.9999570250511169, 0.9999518990516663, 0.9999512434005737, 0.9999508261680603, 0.9999478459358215, 0.9999480843544006, 0.9999438524246216, 0.9999539852142334, 0.999963641166687, 0.9999681115150452, 0.9999653697013855, 0.999965488910675, 0.9999619722366333, 0.9999642968177795, 0.9999634027481079, 0.9999576807022095, 0.9999586343765259, 0.9999604821205139, 0.9999547600746155, 0.9999604821205139, 0.9999585747718811, 0.9999595284461975, 0.9999575018882751, 0.999953031539917, 0.9999548196792603, 0.9999505877494812, 0.9999521374702454, 0.9999475479125977, 0.9999474287033081, 0.9999447464942932, 0.9999382495880127, 0.9999386668205261, 0.9999521970748901, 0.9999454617500305, 0.9999454021453857, 0.9999441504478455, 0.9999480247497559, 0.9999373555183411, 0.9999365210533142, 0.9999314546585083, 0.9999285340309143, 0.9999393820762634, 0.999923050403595, 0.9999222159385681, 0.9999332427978516, 0.9998974204063416, 0.9999179840087891, 0.9999152421951294, 0.9999311566352844, 0.9999290108680725, 0.9999217391014099]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999992847442627, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999988079071045, 1.0, 0.9999995827674866, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999997615814209, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 0.999999463558197, 0.999998927116394, 1.0, 0.9999991655349731, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix3_3.pdf', bbox_inches='tight')

def appendix3_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999986290931702, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999951124191284, 0.9999971389770508, 0.9999967813491821, 0.9999967813491821, 0.9999967813491821, 0.9999967813491821, 0.9999967217445374, 0.9999964237213135, 0.9999967217445374, 0.9999963641166687, 0.9999966025352478, 0.999997079372406, 0.9999961256980896, 0.9999963045120239, 0.9999963641166687, 0.9999964833259583, 0.9999959468841553, 0.9999964237213135, 0.9999959468841553, 0.9999958276748657, 0.9999957084655762, 0.9999960064888, 0.9999959468841553, 0.9999963045120239, 0.9999958872795105, 0.9999954104423523, 0.9999954700469971, 0.9999953508377075, 0.9999951720237732, 0.999995231628418, 0.9999949336051941, 0.9999947547912598, 0.9999949932098389, 0.9999942779541016, 0.9999942779541016, 0.9999942183494568, 0.9999940991401672, 0.9999933242797852, 0.9999942183494568, 0.9999938607215881, 0.9999934434890747, 0.999993622303009, 0.9999933242797852, 0.9999924898147583, 0.9999921917915344, 0.9999919533729553, 0.9999915957450867, 0.9999918341636658, 0.999991238117218, 0.9999915957450867, 0.9999906420707703, 0.9999902248382568, 0.9999911189079285, 0.999989926815033, 0.9999901056289673, 0.9999906420707703, 0.9999897480010986, 0.9999898076057434, 0.9999901056289673, 0.9999884366989136, 0.9999892711639404, 0.9999889731407166, 0.9999884366989136, 0.9999871253967285, 0.9999866485595703, 0.9999859929084778, 0.9999848008155823, 0.9999875426292419, 0.9999862313270569, 0.9999878406524658, 0.9999858140945435, 0.9999868273735046, 0.9999873638153076, 0.9999858736991882, 0.9999855756759644, 0.9999853372573853, 0.9999834299087524, 0.9999832510948181, 0.9999845623970032, 0.9999807476997375, 0.9999818205833435, 0.9999794363975525, 0.9999780058860779, 0.9999774694442749, 0.9999762773513794, 0.9999748468399048, 0.9999729990959167, 0.9999725818634033, 0.999972403049469, 0.9999720454216003, 0.9999724626541138, 0.9999712109565735, 0.9999677538871765, 0.9999673962593079, 0.9999679923057556, 0.9999676942825317, 0.9999654293060303, 0.9999651908874512, 0.9999634623527527, 0.9999505281448364, 0.9999521374702454, 0.999951958656311, 0.9999520778656006, 0.9999520778656006, 0.9999541640281677, 0.9999520778656006, 0.9999494552612305, 0.9999483227729797, 0.9999486804008484, 0.9999489188194275, 0.9999443292617798, 0.9999447464942932, 0.999941349029541, 0.9999393224716187, 0.9999389052391052, 0.9999336004257202, 0.9999152421951294, 0.999920666217804, 0.9999259114265442, 0.9999328255653381, 0.9999305009841919, 0.9999350905418396, 0.9999332427978516, 0.9999361634254456, 0.9999292492866516, 0.9999336004257202, 0.9999300241470337, 0.9999224543571472, 0.9999209642410278, 0.9999189376831055, 0.9999182224273682, 0.999914288520813, 0.9999111890792847, 0.999907910823822, 0.999907910823822, 0.9999043345451355, 0.9998913407325745, 0.9998905658721924, 0.9998867511749268, 0.9998844265937805, 0.9998956918716431, 0.9998847246170044, 0.9998812079429626, 0.9998711347579956, 0.9998697638511658, 0.9998592734336853, 0.9998518824577332, 0.999862790107727, 0.9998503923416138, 0.9998475313186646, 0.9998754858970642, 0.9998997449874878, 0.9999056458473206, 0.9999068379402161, 0.9999085664749146, 0.9999096989631653, 0.9999089241027832, 0.9999071359634399, 0.9999089241027832, 0.9998998641967773, 0.9998999834060669, 0.9998827576637268, 0.999884307384491, 0.9998780488967896, 0.9998683929443359, 0.9998641014099121, 0.9998783469200134, 0.9998608827590942, 0.9998666048049927, 0.9998526573181152, 0.9998403787612915, 0.9998412132263184, 0.9998348355293274, 0.9998363256454468, 0.9998297095298767, 0.9998272657394409, 0.9998332262039185, 0.9998252987861633, 0.9998151659965515, 0.9998209476470947, 0.9998154640197754, 0.9998230338096619, 0.9998185038566589, 0.9998183250427246, 0.9998119473457336, 0.9998108744621277, 0.999809205532074, 0.9998190999031067, 0.9998115301132202, 0.9998233914375305, 0.9998174905776978, 0.9998074173927307, 0.9998093843460083, 0.999812662601471, 0.9998143315315247, 0.9998174905776978, 0.9998077750205994, 0.9998103380203247]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999998152256012, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix3_4.pdf', bbox_inches='tight')

def appendix4_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999825954437256, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999811053276062, 0.999993085861206, 0.9999930262565613, 0.9999925494194031, 0.9999926090240479, 0.9999931454658508, 0.999992311000824, 0.9999923706054688, 0.999992311000824, 0.999992311000824, 0.999992311000824, 0.999992311000824, 0.9999923706054688, 0.9999923706054688, 0.9999915957450867, 0.9999921321868896, 0.9999922513961792, 0.9999921917915344, 0.9999920129776001, 0.9999921321868896, 0.9999917149543762, 0.9999920129776001, 0.9999916553497314, 0.999991774559021, 0.999991774559021, 0.9999915361404419, 0.9999921321868896, 0.999991774559021, 0.9999915957450867, 0.9999915957450867, 0.9999921321868896, 0.9999915361404419, 0.9999915957450867, 0.9999915957450867, 0.9999921321868896, 0.9999915957450867, 0.9999914765357971, 0.9999915361404419, 0.9999916553497314, 0.9999916553497314, 0.9999915361404419, 0.9999915957450867, 0.9999915361404419, 0.9999920129776001, 0.9999915957450867, 0.9999915361404419, 0.9999921321868896, 0.9999920129776001, 0.9999915957450867, 0.9999916553497314, 0.9999914765357971, 0.9999915957450867, 0.9999915361404419, 0.9999915957450867, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915361404419, 0.9999915361404419, 0.9999914765357971, 0.9999920129776001, 0.9999915957450867, 0.9999915957450867, 0.9999915361404419, 0.9999915957450867, 0.9999916553497314, 0.9999915361404419, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999914765357971, 0.9999915361404419, 0.9999915957450867, 0.9999916553497314, 0.9999921321868896, 0.9999915957450867, 0.9999921321868896, 0.9999916553497314, 0.9999916553497314, 0.9999916553497314, 0.9999921321868896, 0.9999920129776001, 0.9999921321868896, 0.9999921321868896, 0.999991774559021, 0.9999921917915344, 0.9999921321868896, 0.999992311000824, 0.9999922513961792, 0.9999921321868896, 0.9999921321868896, 0.9999915361404419, 0.9999914765357971, 0.999991774559021, 0.9999921321868896, 0.9999915957450867, 0.9999917149543762, 0.9999922513961792, 0.9999915957450867, 0.9999914169311523, 0.9999917149543762, 0.9999914169311523, 0.9999914765357971, 0.9999914765357971, 0.999992311000824, 0.9999921917915344, 0.9999921321868896, 0.9999921321868896, 0.9999921917915344, 0.9999921321868896, 0.9999921917915344, 0.9999916553497314, 0.9999916553497314, 0.9999916553497314, 0.9999915957450867, 0.9999914765357971, 0.9999914765357971, 0.9999914765357971, 0.9999915361404419, 0.9999914169311523, 0.9999915957450867, 0.9999914169311523, 0.9999914169311523, 0.9999921917915344, 0.9999916553497314, 0.9999922513961792, 0.9999921321868896, 0.9999918937683105, 0.9999924898147583, 0.9999923706054688, 0.999992311000824, 0.9999921321868896, 0.9999924898147583, 0.999992311000824, 0.9999921321868896, 0.9999924898147583, 0.9999924898147583, 0.9999927282333374, 0.9999926090240479, 0.9999924302101135, 0.9999924302101135, 0.999992311000824, 0.9999921321868896, 0.9999921321868896, 0.9999919533729553, 0.9999915957450867, 0.9999914169311523, 0.9999920725822449, 0.9999918937683105, 0.9999915361404419, 0.9999921917915344, 0.9999921321868896, 0.9999922513961792, 0.9999921321868896, 0.9999924302101135, 0.9999923706054688, 0.9999921917915344, 0.9999920725822449, 0.999991774559021, 0.9999921321868896, 0.9999916553497314, 0.9999921321868896, 0.9999921321868896, 0.9999915957450867, 0.9999914169311523, 0.9999921321868896, 0.9999922513961792, 0.9999921321868896, 0.9999919533729553, 0.9999916553497314, 0.9999921321868896, 0.9999920725822449, 0.9999918937683105, 0.9999916553497314, 0.9999915361404419, 0.999991774559021, 0.9999915361404419, 0.9999915957450867, 0.9999915361404419, 0.9999914765357971, 0.9999914169311523, 0.9999914169311523, 0.9999916553497314, 0.9999915957450867, 0.9999915361404419, 0.9999917149543762, 0.9999921321868896, 0.9999916553497314, 0.9999918341636658, 0.9999918341636658, 0.9999916553497314, 0.9999915361404419, 0.9999914765357971, 0.9999914765357971, 0.9999914765357971, 0.9999914169311523]

    top_k_sim = [0.9999998211860657, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999989867210388, 1.0, 0.9999977350234985, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999993443489075, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999989867210388, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999977350234985, 1.0, 1.0, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999993443489075, 0.9999994039535522, 1.0, 0.9999994039535522, 1.0, 1.0, 0.999998927116394, 1.0, 1.0, 1.0, 0.9999990463256836, 1.0, 1.0, 0.9999984502792358, 1.0, 0.9999985098838806, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999993443489075, 1.0, 1.0, 0.9999994039535522, 1.0, 0.9999994039535522, 1.0, 0.9999989867210388, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 0.9999994039535522, 0.9999994039535522, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999993443489075, 1.0, 1.0, 1.0, 0.9999988675117493, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix4_1.pdf', bbox_inches='tight')

def appendix4_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999778270721436, 0.9999927282333374, 0.9999923706054688, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999923706054688, 0.9999924898147583, 0.9999924898147583, 0.9999922513961792, 0.9999922513961792, 0.9999923706054688, 0.9999923706054688, 0.9999923706054688, 0.9999924898147583, 0.9999923706054688, 0.9999924898147583, 0.9999922513961792, 0.9999922513961792, 0.9999924898147583, 0.9999923706054688, 0.9999922513961792, 0.9999918341636658, 0.999991774559021, 0.9999917149543762, 0.9999922513961792, 0.9999921917915344, 0.9999921917915344, 0.9999921917915344, 0.9999923706054688, 0.9999915957450867, 0.9999915957450867, 0.9999916553497314, 0.9999916553497314, 0.9999921917915344, 0.9999921917915344, 0.9999917149543762, 0.9999917149543762, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999902248382568, 0.9999903440475464, 0.9999908804893494, 0.9999899864196777, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867, 0.999991238117218, 0.9999913573265076, 0.9999914169311523, 0.9999899864196777, 0.9999904036521912, 0.9999901056289673, 0.9999911189079285, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999914169311523, 0.9999901056289673, 0.9999915957450867, 0.9999902844429016, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999915361404419, 0.9999917149543762, 0.9999917149543762, 0.9999917149543762, 0.9999917149543762, 0.999991774559021, 0.9999917149543762, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867, 0.9999911189079285, 0.9999902248382568, 0.9999917149543762, 0.9999910593032837, 0.9999915957450867, 0.9999901056289673, 0.9999915957450867, 0.9999915957450867, 0.9999917149543762, 0.9999901652336121, 0.9999905824661255, 0.9999901056289673, 0.9999899864196777, 0.9999912977218628, 0.9999910593032837, 0.9999915957450867, 0.9999901056289673, 0.9999915957450867, 0.9999914169311523, 0.9999916553497314, 0.9999917149543762, 0.9999916553497314, 0.9999915957450867, 0.9999916553497314, 0.9999915361404419, 0.999991238117218, 0.9999917149543762, 0.9999918937683105, 0.9999915957450867, 0.9999914169311523, 0.9999921917915344, 0.9999916553497314, 0.9999918341636658, 0.9999914169311523, 0.9999914169311523, 0.9999917149543762, 0.9999916553497314, 0.9999916553497314, 0.999991774559021, 0.9999915957450867, 0.9999917149543762, 0.9999915957450867, 0.9999921917915344, 0.9999918341636658, 0.9999917149543762, 0.9999920725822449, 0.9999917149543762, 0.9999917149543762, 0.9999918341636658, 0.9999921917915344, 0.9999920129776001, 0.9999917149543762, 0.9999918341636658, 0.999991774559021, 0.9999917149543762, 0.9999915957450867, 0.9999918937683105, 0.9999918341636658, 0.9999921917915344, 0.9999917149543762, 0.9999921917915344, 0.9999921917915344, 0.9999917149543762, 0.9999917149543762, 0.9999915957450867, 0.9999916553497314, 0.9999917149543762, 0.9999918341636658, 0.9999917149543762, 0.9999915957450867, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999916553497314, 0.9999916553497314, 0.9999917149543762, 0.9999917149543762, 0.9999915957450867, 0.9999915957450867, 0.9999917149543762, 0.9999917149543762, 0.9999916553497314, 0.9999917149543762, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867, 0.9999916553497314, 0.9999915957450867, 0.9999918341636658, 0.9999915957450867, 0.9999915957450867, 0.9999915957450867, 0.9999918341636658, 0.9999917149543762, 0.9999915957450867, 0.9999916553497314, 0.9999915957450867, 0.9999917149543762, 0.9999918341636658, 0.9999917149543762, 0.9999918341636658, 0.9999917149543762, 0.999991774559021, 0.9999918341636658, 0.9999921917915344, 0.9999921917915344, 0.9999918341636658, 0.9999917149543762, 0.9999921917915344, 0.999991774559021, 0.9999917149543762, 0.9999921917915344, 0.9999918341636658, 0.9999918341636658, 0.9999915957450867, 0.9999915957450867, 0.9999916553497314, 0.9999915957450867, 0.9999915957450867]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999990463256836, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 0.9999977350234985, 0.999998927116394, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999988675117493, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999978542327881, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999989867210388, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999989867210388, 0.999998927116394, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999998927116394, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999988675117493, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999977946281433, 1.0, 1.0, 1.0, 0.999998927116394, 1.0, 0.9999989867210388, 1.0, 1.0, 1.0, 0.999998927116394, 1.0, 1.0, 0.999998927116394, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix4_2.pdf', bbox_inches='tight')

def appendix4_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999998807907104, 0.9999995827674866, 0.9999995827674866, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.999994158744812, 0.9999991059303284, 0.9999985694885254, 0.9999985694885254, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999968409538269, 0.9999968409538269, 0.9999970197677612, 0.9999969601631165, 0.9999969005584717, 0.9999969005584717, 0.9999969601631165, 0.9999969601631165, 0.9999969005584717, 0.9999969005584717, 0.9999967217445374, 0.9999968409538269, 0.9999967813491821, 0.9999968409538269, 0.9999967217445374, 0.9999967217445374, 0.9999969601631165, 0.9999966621398926, 0.9999964833259583, 0.9999969005584717, 0.9999967217445374, 0.9999966621398926, 0.9999969601631165, 0.9999969601631165, 0.9999966621398926, 0.9999969601631165, 0.9999967217445374, 0.9999969005584717, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999969005584717, 0.9999969601631165, 0.9999969005584717, 0.9999966621398926, 0.9999966621398926, 0.9999968409538269, 0.9999966621398926, 0.9999964833259583, 0.9999966025352478, 0.9999966621398926, 0.9999967813491821, 0.9999964833259583, 0.9999964237213135, 0.9999963641166687, 0.9999962449073792, 0.9999961853027344, 0.9999962449073792, 0.9999961853027344, 0.9999962449073792, 0.9999962449073792, 0.9999961853027344, 0.9999963045120239, 0.9999964237213135, 0.9999964237213135, 0.9999964833259583, 0.9999964833259583, 0.9999963641166687, 0.999996542930603, 0.9999964833259583, 0.9999963641166687, 0.9999964237213135, 0.9999968409538269, 0.9999963045120239, 0.9999962449073792, 0.9999962449073792, 0.9999961853027344, 0.9999963045120239, 0.9999963641166687, 0.9999963641166687, 0.9999962449073792, 0.9999961256980896, 0.9999961853027344, 0.9999961853027344, 0.9999963045120239, 0.9999962449073792, 0.9999961853027344, 0.9999960064888, 0.9999961256980896, 0.9999962449073792, 0.9999962449073792, 0.9999962449073792, 0.9999963045120239, 0.9999963045120239, 0.9999964237213135, 0.9999964237213135, 0.9999964237213135, 0.9999963641166687, 0.9999963641166687, 0.9999964237213135, 0.999996542930603, 0.9999963641166687, 0.9999963641166687, 0.9999962449073792, 0.9999963045120239, 0.9999963045120239, 0.9999962449073792, 0.9999963045120239, 0.9999963045120239, 0.9999963045120239, 0.9999963045120239, 0.9999963045120239, 0.9999964237213135, 0.999996542930603, 0.9999964833259583, 0.9999964833259583, 0.9999964237213135, 0.999996542930603, 0.9999966621398926, 0.9999969601631165, 0.9999967813491821, 0.9999964237213135, 0.9999961256980896, 0.9999961256980896, 0.9999958872795105, 0.9999961853027344, 0.9999960660934448, 0.9999954700469971, 0.999995231628418, 0.9999956488609314, 0.9999960064888, 0.9999961256980896, 0.9999961256980896, 0.9999964237213135, 0.9999961256980896, 0.9999961853027344, 0.9999961256980896, 0.9999963045120239, 0.9999964237213135, 0.9999961853027344, 0.9999963045120239, 0.9999963045120239, 0.9999961853027344, 0.9999964833259583, 0.9999963045120239, 0.9999963045120239, 0.9999961256980896, 0.9999963045120239, 0.9999964237213135, 0.9999962449073792, 0.9999962449073792, 0.9999962449073792, 0.9999962449073792, 0.9999963045120239, 0.9999963045120239, 0.9999964237213135, 0.9999964237213135, 0.9999963641166687, 0.9999963641166687, 0.9999963045120239, 0.9999961853027344, 0.9999962449073792, 0.9999962449073792, 0.9999962449073792, 0.9999962449073792, 0.9999963045120239, 0.9999962449073792, 0.9999963045120239, 0.9999962449073792, 0.9999962449073792, 0.9999963641166687, 0.9999963641166687, 0.9999964237213135, 0.999996542930603, 0.999996542930603, 0.9999966621398926, 0.9999971389770508, 0.9999991059303284, 0.9999992251396179, 0.9999992847442627, 0.9999990463256836, 0.9999989867210388, 0.9999974966049194, 0.9999962449073792, 0.9999958872795105, 0.9999959468841553, 0.9999958276748657, 0.9999956488609314, 0.9999960064888, 0.9999961853027344, 0.9999961256980896, 0.9999961853027344, 0.9999962449073792, 0.9999962449073792, 0.9999963045120239, 0.9999963045120239, 0.9999964237213135, 0.9999963045120239, 0.9999963641166687]

    top_k_sim = [0.9999998211860657, 0.9999998807907104, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 0.9999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.999999463558197, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix4_3.pdf', bbox_inches='tight')

def appendix4_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999954700469971, 0.9999972581863403, 0.9999975562095642, 0.9999971985816956, 0.999997079372406, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.9999974370002747, 0.9999974370002747, 0.9999973773956299, 0.9999972581863403, 0.9999974370002747, 0.9999972581863403, 0.9999971389770508, 0.9999972581863403, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999974370002747, 0.9999975562095642, 0.9999973773956299, 0.9999971985816956, 0.9999975562095642, 0.9999971389770508, 0.9999975562095642, 0.9999974370002747, 0.9999973177909851, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999974370002747, 0.9999971389770508, 0.9999971389770508, 0.9999975562095642, 0.9999975562095642, 0.9999973773956299, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999973773956299, 0.9999974370002747, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999974370002747, 0.9999975562095642, 0.9999975562095642, 0.9999971389770508, 0.9999975562095642, 0.9999973177909851, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999975562095642, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999973773956299, 0.9999973773956299, 0.9999974370002747, 0.9999971985816956, 0.9999974370002747, 0.9999973773956299, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999975562095642, 0.9999975562095642, 0.9999973773956299, 0.9999971389770508, 0.9999973773956299, 0.9999973773956299, 0.9999974966049194, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999975562095642, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999972581863403, 0.9999972581863403, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999974370002747, 0.9999973773956299, 0.9999971389770508, 0.9999971389770508, 0.9999972581863403, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999972581863403, 0.9999971985816956, 0.9999971389770508, 0.9999973177909851, 0.9999971389770508, 0.9999973177909851, 0.9999971389770508, 0.9999971985816956, 0.9999973177909851, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999973773956299, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999974370002747, 0.9999971985816956, 0.9999973177909851, 0.9999973773956299, 0.9999972581863403, 0.9999972581863403, 0.9999972581863403, 0.9999973177909851, 0.9999973773956299, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999972581863403, 0.9999972581863403, 0.9999971985816956, 0.9999972581863403, 0.9999972581863403, 0.9999972581863403, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999973773956299, 0.9999971985816956, 0.9999973773956299, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999972581863403, 0.9999971985816956, 0.9999971389770508, 0.9999972581863403, 0.9999971985816956]

    top_k_sim = [1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997019767761, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix4_4.pdf', bbox_inches='tight')

def appendix4_5():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9992493391036987, 0.9995822906494141, 0.9999080896377563, 0.9996574521064758, 0.9999244809150696, 0.9998123645782471, 0.9997456669807434, 0.9999073147773743, 0.9997255802154541, 0.9998582005500793, 0.9999526739120483, 0.9999228119850159, 0.999902069568634, 0.9999023079872131, 0.9999212622642517, 0.9997358322143555, 0.9998795390129089, 0.9997760653495789, 0.999945342540741, 0.9998632073402405, 0.9999465942382812, 0.9998764991760254, 0.9999498724937439, 0.9999385476112366, 0.9999358057975769, 0.9999531507492065, 0.9998809695243835, 0.9997158646583557, 0.9998054504394531, 0.9999305605888367, 0.9997230768203735, 0.999946117401123, 0.9998907446861267, 0.9999249577522278, 0.9999561309814453, 0.9998958706855774, 0.9999354481697083, 0.9997235536575317, 0.9999338388442993, 0.9998583197593689, 0.9999228119850159, 0.999953031539917, 0.9999616742134094, 0.9999584555625916, 0.9998793601989746, 0.9998928904533386, 0.9999316930770874, 0.9999309182167053, 0.9999552369117737, 0.9999352693557739, 0.999934196472168, 0.9999431371688843, 0.9999512434005737, 0.9999387264251709, 0.9998279213905334, 0.9999408721923828, 0.9998894333839417, 0.9999243021011353, 0.9998668432235718, 0.9999537467956543, 0.9997525811195374, 0.9999599456787109, 0.999929666519165, 0.9999435544013977, 0.9999297261238098, 0.9999446272850037, 0.9998989105224609, 0.9999505877494812, 0.9999456405639648, 0.9996880292892456, 0.9996914863586426, 0.9997509121894836, 0.9999500513076782, 0.9999552369117737, 0.9999525547027588, 0.9999533891677856, 0.9999595880508423, 0.9998652935028076, 0.9999573230743408, 0.9999582171440125, 0.9997367262840271, 0.9996731877326965, 0.9999639987945557, 0.9999485611915588, 0.9999406337738037, 0.9999642968177795, 0.999875545501709, 0.9999533891677856, 0.9999352693557739, 0.999961256980896, 0.9999661445617676, 0.9997367262840271, 0.9996479749679565, 0.9999504089355469, 0.9998415112495422, 0.9999073147773743, 0.9999662637710571, 0.9999603629112244, 0.9997795224189758, 0.9999614953994751, 0.9999712705612183, 0.9999434351921082, 0.9999469518661499, 0.9999545812606812, 0.999958872795105, 0.9996347427368164, 0.9997196197509766, 0.9999746084213257, 0.9998884797096252, 0.9999276399612427, 0.9998645186424255, 0.9999244809150696, 0.9999622702598572, 0.9999639987945557, 0.9999624490737915, 0.9999558925628662, 0.9999614953994751, 0.9999254941940308, 0.9999529123306274, 0.9999628067016602, 0.9999581575393677, 0.9998756647109985, 0.9999435544013977, 0.999927818775177, 0.999950647354126, 0.9999293088912964, 0.9999589920043945, 0.9997792840003967, 0.9999555349349976, 0.9999430179595947, 0.9999631643295288, 0.9999171495437622, 0.9999523162841797, 0.9999474287033081, 0.9999489188194275, 0.9998860359191895, 0.9999085664749146, 0.999957799911499, 0.999869167804718, 0.999961256980896, 0.9998865127563477, 0.9999448657035828, 0.9997197389602661, 0.9999651908874512, 0.9999328255653381, 0.9999523162841797, 0.9997287392616272, 0.9997592568397522, 0.9997530579566956, 0.9996985197067261, 0.9999621510505676, 0.9996716976165771, 0.9999033808708191, 0.9999594688415527, 0.9999554753303528, 0.9998660683631897, 0.9999418258666992, 0.999954879283905, 0.9999103546142578, 0.9999537467956543, 0.999977171421051, 0.9999629259109497, 0.999954879283905, 0.9999517798423767, 0.9999668002128601, 0.9999027252197266, 0.9999178647994995, 0.9999064803123474, 0.9998984932899475, 0.999799907207489, 0.9999478459358215, 0.9998104572296143, 0.9999728798866272, 0.9999735355377197, 0.9999687075614929, 0.9999606013298035, 0.9999498128890991, 0.9999614357948303, 0.9997597932815552, 0.999893069267273, 0.9999672770500183, 0.9999710917472839, 0.9999499320983887, 0.9999719262123108, 0.9998010993003845, 0.9999666810035706, 0.9999675750732422, 0.999905526638031, 0.9998593330383301, 0.9999634027481079, 0.9999641180038452, 0.9999649524688721, 0.9998160600662231, 0.9999738931655884, 0.999963104724884, 0.9997519254684448, 0.9997944235801697, 0.9999772310256958]

    malicious_sim = [0.9990383982658386, 0.9992295503616333, 0.9992433786392212, 0.99908846616745, 0.9992002248764038, 0.9991353750228882, 0.9991446137428284, 0.999060332775116, 0.9990922212600708, 0.9990845322608948, 0.9990449547767639, 0.9989956021308899, 0.9990106225013733, 0.9990330338478088, 0.9990006685256958, 0.99895840883255, 0.9990345239639282, 0.9990332722663879, 0.9989954829216003, 0.9991137385368347, 0.9989916682243347, 0.9990135431289673, 0.9989827871322632, 0.9990070462226868, 0.9989946484565735, 0.9990231990814209, 0.999036431312561, 0.9990811347961426, 0.9990727305412292, 0.999120831489563, 0.9992129802703857, 0.9991343021392822, 0.9991154670715332, 0.9991294741630554, 0.9990561604499817, 0.9990695714950562, 0.9989559650421143, 0.9989826083183289, 0.9990237951278687, 0.9989806413650513, 0.9989007115364075, 0.9990344643592834, 0.999016523361206, 0.9990004301071167, 0.9989488124847412, 0.9989323616027832, 0.9988318085670471, 0.9988803863525391, 0.9988763928413391, 0.9989758729934692, 0.9988676309585571, 0.9989597201347351, 0.9989386200904846, 0.9990357756614685, 0.9990249872207642, 0.9990663528442383, 0.9990451335906982, 0.9991428852081299, 0.9990311861038208, 0.9991682767868042, 0.9990759491920471, 0.9990975856781006, 0.9990770816802979, 0.9991242289543152, 0.9990298748016357, 0.9989122748374939, 0.9989362359046936, 0.9990252256393433, 0.9989650845527649, 0.998988687992096, 0.998981237411499, 0.9990518093109131, 0.9990111589431763, 0.999079167842865, 0.999033510684967, 0.998921811580658, 0.9988710284233093, 0.9989280700683594, 0.9990336298942566, 0.9989241361618042, 0.9989294409751892, 0.9989925622940063, 0.9990931749343872, 0.999104380607605, 0.9991021752357483, 0.9991454482078552, 0.9990253448486328, 0.9989815354347229, 0.999141275882721, 0.9990363121032715, 0.9989397525787354, 0.9990067481994629, 0.9989920854568481, 0.9990410208702087, 0.9990981817245483, 0.9991453289985657, 0.9990440011024475, 0.9990594387054443, 0.9991652369499207, 0.9991543889045715, 0.9990575313568115, 0.9991188049316406, 0.9991230368614197, 0.9991148710250854, 0.999007523059845, 0.9990595579147339, 0.9990177154541016, 0.9991217851638794, 0.9990578293800354, 0.9991950988769531, 0.9990928173065186, 0.9991053342819214, 0.9991086721420288, 0.9990444183349609, 0.9990792274475098, 0.9991286396980286, 0.9990020394325256, 0.9990413188934326, 0.9989157915115356, 0.9989434480667114, 0.9989232420921326, 0.99894779920578, 0.9990538358688354, 0.9989468455314636, 0.9989149570465088, 0.9989058375358582, 0.9989742040634155, 0.9990872144699097, 0.9991196990013123, 0.9991493821144104, 0.999095618724823, 0.9990500807762146, 0.9990959167480469, 0.9991530179977417, 0.9991105794906616, 0.9989899396896362, 0.9990447759628296, 0.9989645481109619, 0.9989607930183411, 0.9989326596260071, 0.9989479780197144, 0.9988973736763, 0.9989460110664368, 0.9989351630210876, 0.9990580081939697, 0.999035656452179, 0.9989889860153198, 0.9989739060401917, 0.998953640460968, 0.9989520311355591, 0.9990031123161316, 0.9989547729492188, 0.9988787770271301, 0.9989379048347473, 0.9989474415779114, 0.9990595579147339, 0.9991020560264587, 0.999170184135437, 0.9991294145584106, 0.9991813898086548, 0.9992582201957703, 0.9992297887802124, 0.9991813898086548, 0.9991706609725952, 0.9990301728248596, 0.9990733861923218, 0.9989848136901855, 0.9990028738975525, 0.9989747405052185, 0.998836100101471, 0.998939037322998, 0.998896598815918, 0.9989696145057678, 0.998930037021637, 0.9989815354347229, 0.9989514350891113, 0.999038815498352, 0.9990090727806091, 0.9991297125816345, 0.999019205570221, 0.9991397261619568, 0.999004602432251, 0.9990882277488708, 0.9990437030792236, 0.9990184307098389, 0.9989356994628906, 0.9990699291229248, 0.998966634273529, 0.9989751577377319, 0.9989485144615173, 0.9990180134773254, 0.9989652633666992, 0.9989672303199768, 0.9989750385284424, 0.9989827275276184, 0.9989355802536011, 0.9988932609558105, 0.9989081621170044]

    top_k_sim = [0.9997987747192383, 0.9999014139175415, 0.9999392032623291, 0.9998550415039062, 0.9999611377716064, 0.9999077320098877, 0.9999487996101379, 0.9999202489852905, 0.9999017715454102, 0.9999189972877502, 0.99996018409729, 0.9998738765716553, 0.9999293088912964, 0.999933660030365, 0.9999448657035828, 0.9998378753662109, 0.9999380111694336, 0.9999444484710693, 0.999897837638855, 0.9999518990516663, 0.9999551773071289, 0.9999594688415527, 0.999962568283081, 0.9998899698257446, 0.9999549984931946, 0.9998588562011719, 0.9999588131904602, 0.9998611211776733, 0.9998635053634644, 0.9999305605888367, 0.9999527931213379, 0.9999547004699707, 0.9999561309814453, 0.9999628067016602, 0.9999627470970154, 0.9999659657478333, 0.9998871088027954, 0.9998968839645386, 0.9999630451202393, 0.9999180436134338, 0.9999490976333618, 0.9999048709869385, 0.9999618530273438, 0.9999619126319885, 0.9999573826789856, 0.9999569654464722, 0.9999517202377319, 0.9999309182167053, 0.9999552965164185, 0.9999632835388184, 0.9999493360519409, 0.999958336353302, 0.9999006986618042, 0.9999389052391052, 0.9998601078987122, 0.9999610781669617, 0.9999068379402161, 0.9999642372131348, 0.9999040365219116, 0.9999685287475586, 0.9999349117279053, 0.9999732375144958, 0.9999297261238098, 0.9999701976776123, 0.9999297261238098, 0.9999445676803589, 0.9998989105224609, 0.9999575018882751, 0.9999706149101257, 0.9998314380645752, 0.9999056458473206, 0.9998509883880615, 0.9999633431434631, 0.9999552965164185, 0.99996417760849, 0.9999534487724304, 0.9998508095741272, 0.9997339844703674, 0.9999573230743408, 0.9999582767486572, 0.9999099373817444, 0.9999493956565857, 0.9999206066131592, 0.9999075531959534, 0.9998980164527893, 0.9999212026596069, 0.9999167919158936, 0.9998648762702942, 0.9999352097511292, 0.9999680519104004, 0.9999715089797974, 0.999872088432312, 0.9998749494552612, 0.9999610185623169, 0.9999198317527771, 0.999966561794281, 0.9998711347579956, 0.9999717473983765, 0.9999661445617676, 0.9999702572822571, 0.9999755024909973, 0.9999752044677734, 0.9999651908874512, 0.9999610781669617, 0.9999649524688721, 0.9998010993003845, 0.9998583793640137, 0.9999746680259705, 0.999967098236084, 0.9998907446861267, 0.9999065399169922, 0.9999627470970154, 0.999962329864502, 0.9999674558639526, 0.9999688863754272, 0.9998705387115479, 0.9999654293060303, 0.9999602437019348, 0.9999528527259827, 0.9999676942825317, 0.999793291091919, 0.9999609589576721, 0.9999434947967529, 0.999956488609314, 0.9999641180038452, 0.9999460577964783, 0.9999654293060303, 0.9999709725379944, 0.9999555349349976, 0.9999430179595947, 0.9999658465385437, 0.999829113483429, 0.9999709129333496, 0.9999706149101257, 0.9999619722366333, 0.9999629259109497, 0.9999715685844421, 0.9999669194221497, 0.999945878982544, 0.9999632835388184, 0.9999642968177795, 0.9998947381973267, 0.9998595714569092, 0.9998652935028076, 0.9999647736549377, 0.9999600052833557, 0.9999446868896484, 0.9999662041664124, 0.9999575018882751, 0.9999507665634155, 0.9999653100967407, 0.9997678399085999, 0.9999746084213257, 0.9998564720153809, 0.9999756217002869, 0.9998564124107361, 0.9999654293060303, 0.9999647736549377, 0.9999691247940063, 0.9999145269393921, 0.9999451637268066, 0.9999629259109497, 0.9999637603759766, 0.9998348355293274, 0.9999707937240601, 0.9999552965164185, 0.9999722242355347, 0.999964714050293, 0.9999709129333496, 0.9999707341194153, 0.999968409538269, 0.999962568283081, 0.9999756217002869, 0.9999235272407532, 0.9999745488166809, 0.9999675750732422, 0.9999498724937439, 0.9999668002128601, 0.9999598264694214, 0.9997437000274658, 0.9999728202819824, 0.9999792575836182, 0.9999697804450989, 0.9999771118164062, 0.9999678134918213, 0.9999175071716309, 0.9999748468399048, 0.9999759197235107, 0.99983149766922, 0.999968945980072, 0.999968945980072, 0.9999693036079407, 0.9999714493751526, 0.9999758005142212, 0.9999728202819824, 0.9999566674232483, 0.9999614953994751, 0.9999783635139465]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix4_5.pdf', bbox_inches='tight')

def appendix4_6():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9998394846916199, 0.9998879432678223, 0.9999186396598816, 0.9999445676803589, 0.9999452233314514, 0.9997944235801697, 0.9999408721923828, 0.9995428323745728, 0.9996140599250793, 0.9994873404502869, 0.9998905062675476, 0.9999656677246094, 0.9999532699584961, 0.9999515414237976, 0.9999588131904602, 0.9999496340751648, 0.9999454617500305, 0.9995443224906921, 0.9999622702598572, 0.9997698068618774, 0.9999489784240723, 0.9999534487724304, 0.99995356798172, 0.9999195337295532, 0.9999472498893738, 0.9999585747718811, 0.99996018409729, 0.9999579191207886, 0.9999707341194153, 0.9999287724494934, 0.999945342540741, 0.999954879283905, 0.9999482035636902, 0.99980229139328, 0.9995425343513489, 0.9995269775390625, 0.9998499751091003, 0.999959409236908, 0.9999529719352722, 0.9999536275863647, 0.99994957447052, 0.9999319911003113, 0.9999648928642273, 0.999958336353302, 0.999964714050293, 0.9999562501907349, 0.9999473690986633, 0.9999615550041199, 0.9999215006828308, 0.9999569058418274, 0.9999592900276184, 0.9999046921730042, 0.9999382495880127, 0.9995891451835632, 0.9999610781669617, 0.9999135136604309, 0.999908447265625, 0.9999459981918335, 0.9999614953994751, 0.9999480843544006, 0.9999530911445618, 0.9994208812713623, 0.9999476671218872, 0.9999595284461975, 0.9999582767486572, 0.9999644160270691, 0.9999439120292664, 0.9998197555541992, 0.9999573230743408, 0.9999472498893738, 0.9999410510063171, 0.9999496936798096, 0.9999268651008606, 0.9995384216308594, 0.9995201230049133, 0.9999505877494812, 0.9999603629112244, 0.9999604821205139, 0.9998122453689575, 0.9997590780258179, 0.9999551773071289, 0.9994369745254517, 0.9998741149902344, 0.9999598264694214, 0.9999127388000488, 0.9999576807022095, 0.9998987913131714, 0.9999673962593079, 0.9999610781669617, 0.9999586343765259, 0.9995560050010681, 0.9999642968177795, 0.999933660030365, 0.9999610185623169, 0.9999040365219116, 0.9998003840446472, 0.9999499917030334, 0.9998167157173157, 0.9999669790267944, 0.9999691843986511, 0.9998313784599304, 0.9999505281448364, 0.9999688267707825, 0.999955952167511, 0.9999709725379944, 0.9999678134918213, 0.999944806098938, 0.9999592900276184, 0.9999597668647766, 0.9997221827507019, 0.9998839497566223, 0.9999701380729675, 0.9999494552612305, 0.999944806098938, 0.9999715089797974, 0.9999451041221619, 0.9999586939811707, 0.9999362230300903, 0.9997949600219727, 0.9995343089103699, 0.9998254776000977, 0.9999741315841675, 0.9999579787254333, 0.9999675750732422, 0.9999660849571228, 0.9999601244926453, 0.9994273781776428, 0.9999556541442871, 0.9999699592590332, 0.999925434589386, 0.9999542236328125, 0.9998464584350586, 0.9998070597648621, 0.9996470808982849, 0.9999546408653259, 0.9995284676551819, 0.99996417760849, 0.9995779991149902, 0.9999498724937439, 0.9999578595161438, 0.9999579191207886, 0.9999548196792603, 0.9999673366546631, 0.9998936057090759, 0.9999677538871765, 0.999862015247345, 0.9999737739562988, 0.9999678730964661, 0.999950110912323, 0.9999570846557617, 0.9999420046806335, 0.9999622702598572, 0.9999651908874512, 0.9999718070030212, 0.9995841979980469, 0.9999668598175049, 0.9999708533287048, 0.9999315738677979, 0.999968945980072, 0.9997926950454712, 0.9999725818634033, 0.9999708533287048, 0.9999419450759888, 0.9999586343765259, 0.9999626278877258, 0.9995655417442322, 0.9995884895324707, 0.9999517798423767, 0.9999622702598572, 0.9999672770500183, 0.999396562576294, 0.9999713897705078, 0.9996169209480286, 0.9998127818107605, 0.9999673366546631, 0.9999726414680481, 0.9995061159133911, 0.9998050332069397, 0.999964714050293, 0.9999700784683228, 0.9999755024909973, 0.9999706745147705, 0.9995948076248169, 0.9999619722366333, 0.999964714050293, 0.9999704360961914, 0.9999430775642395, 0.9999664425849915, 0.9999262690544128, 0.9995996356010437, 0.9999676942825317, 0.9999674558639526, 0.999958336353302, 0.9997997283935547, 0.9999615550041199, 0.9997987151145935, 0.999977707862854, 0.9999596476554871]

    malicious_sim = [0.9990677833557129, 0.9991663098335266, 0.9990730881690979, 0.9989814758300781, 0.9989166259765625, 0.9988779425621033, 0.9988682866096497, 0.9988356828689575, 0.9988250732421875, 0.9987965822219849, 0.9988102316856384, 0.9988085031509399, 0.9988452792167664, 0.9988195300102234, 0.9988002777099609, 0.9988123774528503, 0.9988271594047546, 0.9988214373588562, 0.998788058757782, 0.9987967014312744, 0.9987682700157166, 0.9987218379974365, 0.9987967610359192, 0.9988145232200623, 0.9987995028495789, 0.9988380670547485, 0.9988289475440979, 0.9988023638725281, 0.9987634420394897, 0.998802661895752, 0.9988004565238953, 0.9987812042236328, 0.9987422823905945, 0.9987861514091492, 0.9988099932670593, 0.998815655708313, 0.9987556338310242, 0.9987637400627136, 0.9987778663635254, 0.9987932443618774, 0.9987550973892212, 0.9987623691558838, 0.998769223690033, 0.9987651705741882, 0.9987618327140808, 0.9987596869468689, 0.9988047480583191, 0.9987820982933044, 0.9987669587135315, 0.9987471699714661, 0.998740017414093, 0.9987815022468567, 0.9987799525260925, 0.9988263249397278, 0.9988126158714294, 0.9988219141960144, 0.9988669753074646, 0.9988178610801697, 0.9987762570381165, 0.9988020062446594, 0.9987606406211853, 0.9986864924430847, 0.998794674873352, 0.9987951517105103, 0.9987838268280029, 0.998778760433197, 0.9988867044448853, 0.9988266825675964, 0.9987717866897583, 0.9987964630126953, 0.9988386034965515, 0.9987536072731018, 0.9987509846687317, 0.9988044500350952, 0.9987984895706177, 0.9987909197807312, 0.9987453818321228, 0.9987950921058655, 0.99881511926651, 0.9987207651138306, 0.998792827129364, 0.9988155364990234, 0.9987885355949402, 0.9987772107124329, 0.9988258481025696, 0.998791515827179, 0.9988220930099487, 0.9987987279891968, 0.9987917542457581, 0.9987589716911316, 0.9987505078315735, 0.9987607598304749, 0.9987687468528748, 0.998755931854248, 0.9988135695457458, 0.9988021850585938, 0.998762845993042, 0.9987863898277283, 0.9988266825675964, 0.9987713694572449, 0.9987655878067017, 0.9987502098083496, 0.998741090297699, 0.9987850785255432, 0.9987557530403137, 0.9987653493881226, 0.9987587928771973, 0.9987690448760986, 0.9988039135932922, 0.9988040924072266, 0.9987942576408386, 0.9987760186195374, 0.9987768530845642, 0.9987910985946655, 0.9987708330154419, 0.9987996220588684, 0.9987539649009705, 0.9987603425979614, 0.9987882971763611, 0.9987921118736267, 0.9987666010856628, 0.9987561106681824, 0.9987742304801941, 0.998794674873352, 0.9987378716468811, 0.9987481236457825, 0.9987531304359436, 0.998811662197113, 0.9987797141075134, 0.9987888336181641, 0.9988203644752502, 0.9988047480583191, 0.998767614364624, 0.9987842440605164, 0.9987726211547852, 0.998763382434845, 0.9987424612045288, 0.9987326264381409, 0.9987816214561462, 0.998765766620636, 0.9987635016441345, 0.9987806677818298, 0.998690664768219, 0.9987941980361938, 0.9988139271736145, 0.9987847208976746, 0.9987994432449341, 0.9987978935241699, 0.9987688660621643, 0.9987891912460327, 0.9987715482711792, 0.9987843632698059, 0.9987629055976868, 0.998745858669281, 0.9987655878067017, 0.9987328052520752, 0.9988041520118713, 0.9988163113594055, 0.9987561106681824, 0.9987730979919434, 0.9987474679946899, 0.9987725615501404, 0.998802125453949, 0.9988516569137573, 0.9987810254096985, 0.9987781643867493, 0.9988131523132324, 0.9987832307815552, 0.9987854957580566, 0.9988186955451965, 0.9988173842430115, 0.9987294673919678, 0.9988045692443848, 0.9987518787384033, 0.9987525343894958, 0.9987643361091614, 0.9987626075744629, 0.9987415671348572, 0.9987765550613403, 0.9987750053405762, 0.9987736344337463, 0.998761773109436, 0.9987884759902954, 0.9987903237342834, 0.9988221526145935, 0.9987931251525879, 0.9988354444503784, 0.9988116025924683, 0.9987730979919434, 0.9987682700157166, 0.9987749457359314, 0.9987533688545227, 0.9987754225730896, 0.9987492561340332, 0.9988430738449097, 0.9988200068473816, 0.9988054633140564, 0.998790442943573]

    top_k_sim = [0.9998466968536377, 0.9999260902404785, 0.9999307990074158, 0.9998718500137329, 0.9999522566795349, 0.999944806098938, 0.9999584555625916, 0.999933123588562, 0.9999457597732544, 0.9998621940612793, 0.9999451637268066, 0.9999707341194153, 0.9999613761901855, 0.9999638795852661, 0.9999680519104004, 0.9999657869338989, 0.9999580383300781, 0.9999549388885498, 0.9999685287475586, 0.9997198581695557, 0.9999489784240723, 0.9998642802238464, 0.9999643564224243, 0.9999629259109497, 0.9998701810836792, 0.9998723268508911, 0.99996018409729, 0.9999607801437378, 0.9999707937240601, 0.9999644756317139, 0.9999582767486572, 0.9999701380729675, 0.999956488609314, 0.9999494552612305, 0.999951958656311, 0.9999442100524902, 0.9999630451202393, 0.9999641180038452, 0.99996417760849, 0.9999536275863647, 0.9999544024467468, 0.9999550580978394, 0.9999697208404541, 0.9999623894691467, 0.9999683499336243, 0.999970555305481, 0.9999474287033081, 0.9999679327011108, 0.9999609589576721, 0.9999595880508423, 0.9999645352363586, 0.9999046921730042, 0.999954879283905, 0.9999694228172302, 0.9999694228172302, 0.9999617338180542, 0.9999523758888245, 0.9998599290847778, 0.9999615550041199, 0.9999590516090393, 0.9999613761901855, 0.9997345209121704, 0.9999603033065796, 0.9999626874923706, 0.999958336353302, 0.9999669194221497, 0.9999439716339111, 0.999969482421875, 0.9999573826789856, 0.9999626874923706, 0.9999410510063171, 0.9999497532844543, 0.9999391436576843, 0.9999622106552124, 0.9999304413795471, 0.9998641014099121, 0.9999603629112244, 0.9999604821205139, 0.9999622702598572, 0.9998139142990112, 0.9999551773071289, 0.9999569058418274, 0.9999308586120605, 0.9999675154685974, 0.9999685883522034, 0.9999709129333496, 0.9999380111694336, 0.9999722838401794, 0.9999610781669617, 0.9999638199806213, 0.9999628663063049, 0.999970018863678, 0.9999521970748901, 0.9999663829803467, 0.9999040365219116, 0.9999531507492065, 0.9999598264694214, 0.9999579787254333, 0.9999669790267944, 0.9999739527702332, 0.9999709129333496, 0.9999505281448364, 0.9999725222587585, 0.9999647736549377, 0.999972403049469, 0.999969482421875, 0.9999523162841797, 0.9999650716781616, 0.9999629259109497, 0.9997934103012085, 0.9999634027481079, 0.999972939491272, 0.9999778270721436, 0.9999447464942932, 0.9999751448631287, 0.9999451041221619, 0.9999647736549377, 0.9999438524246216, 0.9998381733894348, 0.999955415725708, 0.9999641180038452, 0.9999767541885376, 0.999968409538269, 0.999967634677887, 0.999966025352478, 0.9999685883522034, 0.9998400211334229, 0.9999557137489319, 0.9999738335609436, 0.9999698400497437, 0.9999591112136841, 0.9999564290046692, 0.999962329864502, 0.9999529123306274, 0.9999676942825317, 0.9999629855155945, 0.9999702572822571, 0.9998685121536255, 0.9999580979347229, 0.9999648928642273, 0.9999717473983765, 0.9999648332595825, 0.9998722672462463, 0.9999350309371948, 0.9999710321426392, 0.9999687075614929, 0.9999756217002869, 0.9999726414680481, 0.9999605417251587, 0.9999621510505676, 0.9999419450759888, 0.9999682307243347, 0.999969482421875, 0.999974250793457, 0.9999680519104004, 0.9999668002128601, 0.9999738931655884, 0.9999315738677979, 0.999972403049469, 0.9999698400497437, 0.9999745488166809, 0.9999747276306152, 0.9999463558197021, 0.9999585747718811, 0.9999678730964661, 0.9999495148658752, 0.9998774528503418, 0.9999606609344482, 0.9999771118164062, 0.9999739527702332, 0.9998417496681213, 0.9999714493751526, 0.9999672770500183, 0.999972403049469, 0.9999673366546631, 0.9999775886535645, 0.9999802112579346, 0.9998534321784973, 0.9999646544456482, 0.9999699592590332, 0.9999788999557495, 0.9999706149101257, 0.9999772906303406, 0.9999725818634033, 0.9999716877937317, 0.9999722242355347, 0.9999472498893738, 0.9999682307243347, 0.9999637007713318, 0.9999731779098511, 0.9999761581420898, 0.9999674558639526, 0.9999725818634033, 0.9999507665634155, 0.9999700784683228, 0.9998468160629272, 0.9998871088027954, 0.9999674558639526]


    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix4_6.pdf', bbox_inches='tight')

def appendix5_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999873042106628, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104]

    malicious_sim = [0.9999873042106628, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104]

    top_k_sim = [0.9999998807907104, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999990463256836, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 0.9999984502792358, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999982714653015, 1.0, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 0.999999463558197, 1.0, 0.9999995827674866, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 0.9999991655349731, 1.0, 1.0, 0.9999987483024597, 1.0, 0.9999990463256836, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 0.9999996423721313, 1.0, 0.9999995827674866, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 0.9999996423721313, 0.9999996423721313, 1.0, 1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 0.9999992251396179, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix5_1.pdf', bbox_inches='tight')

def appendix5_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999820590019226, 0.9999923706054688, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999923706054688, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999924898147583, 0.9999924898147583, 0.9999923706054688, 0.9999924898147583, 0.9999923706054688, 0.9999922513961792, 0.9999922513961792, 0.9999925494194031, 0.9999925494194031, 0.9999923706054688, 0.9999925494194031, 0.999992847442627, 0.9999925494194031, 0.9999925494194031, 0.9999924898147583, 0.9999925494194031, 0.9999926686286926, 0.9999924898147583, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999924898147583, 0.9999929070472717, 0.9999925494194031, 0.9999924898147583, 0.9999925494194031, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999926686286926, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999926686286926, 0.9999926686286926, 0.9999925494194031, 0.9999926686286926, 0.9999925494194031, 0.9999929666519165, 0.9999929666519165, 0.999992847442627, 0.9999926686286926, 0.9999929666519165, 0.9999929070472717, 0.999992847442627, 0.9999926686286926, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999926686286926, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999926686286926, 0.9999929070472717, 0.9999925494194031, 0.9999924898147583, 0.9999925494194031, 0.9999926686286926, 0.9999925494194031, 0.9999925494194031, 0.9999930262565613, 0.9999930262565613, 0.9999926686286926, 0.9999929070472717, 0.9999929666519165, 0.9999930262565613, 0.9999926686286926, 0.9999929070472717, 0.9999925494194031, 0.9999929666519165, 0.9999930262565613, 0.9999930262565613, 0.9999930262565613, 0.9999930262565613, 0.9999929070472717, 0.9999930262565613, 0.9999925494194031, 0.9999929070472717, 0.9999930262565613, 0.9999924898147583, 0.9999929666519165, 0.9999925494194031, 0.9999929070472717, 0.9999925494194031, 0.9999927282333374, 0.9999929666519165, 0.9999929070472717, 0.9999926686286926, 0.999992847442627, 0.9999924898147583, 0.9999929070472717, 0.9999929070472717, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999929070472717, 0.9999925494194031, 0.999992847442627, 0.9999922513961792, 0.9999930262565613, 0.999992847442627, 0.9999930262565613, 0.999992847442627, 0.9999930262565613, 0.9999930262565613, 0.9999924898147583, 0.9999927282333374, 0.9999925494194031, 0.9999929070472717, 0.9999925494194031, 0.999992847442627, 0.9999925494194031, 0.9999930262565613, 0.9999926686286926, 0.9999929070472717, 0.9999929666519165, 0.9999925494194031, 0.9999927282333374, 0.9999929666519165, 0.9999927282333374, 0.9999929666519165, 0.9999930262565613, 0.999993085861206, 0.999993085861206, 0.999992847442627, 0.9999925494194031, 0.9999926686286926, 0.9999927282333374, 0.9999930262565613, 0.9999924898147583, 0.999993085861206, 0.9999929070472717, 0.9999925494194031, 0.999992847442627, 0.9999930262565613, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999927282333374, 0.999992847442627, 0.9999925494194031, 0.9999929666519165, 0.9999926686286926, 0.9999930262565613, 0.9999925494194031, 0.9999927282333374, 0.9999924898147583, 0.9999925494194031, 0.9999925494194031, 0.9999929070472717, 0.9999925494194031, 0.9999924898147583, 0.9999926686286926, 0.9999926686286926, 0.9999930262565613, 0.9999924898147583, 0.9999926686286926, 0.9999925494194031, 0.9999924898147583, 0.9999929070472717, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.9999925494194031, 0.999992847442627, 0.9999925494194031, 0.9999925494194031]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991059303284, 1.0, 1.0, 0.9999982118606567, 0.9999991059303284, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999991655349731, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999983310699463, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999990463256836, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999992251396179, 0.9999991655349731, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999992251396179, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999992251396179, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999983906745911, 1.0, 1.0, 1.0, 0.9999992251396179, 1.0, 0.9999991655349731, 1.0, 1.0, 1.0, 0.9999991655349731, 1.0, 1.0, 0.9999992251396179, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix5_2.pdf', bbox_inches='tight')

def appendix5_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999988079071045, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999929070472717, 0.9999969601631165, 0.9999969601631165, 0.9999969005584717, 0.9999969601631165, 0.9999969601631165, 0.9999970197677612, 0.999997079372406, 0.9999969601631165, 0.9999970197677612, 0.9999971389770508, 0.9999970197677612, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.9999971389770508, 0.9999972581863403, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999969601631165, 0.999997079372406, 0.9999970197677612, 0.9999971389770508, 0.9999970197677612, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.9999970197677612, 0.9999970197677612, 0.9999969601631165, 0.999997079372406, 0.9999969601631165, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999971389770508, 0.9999969601631165, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999971389770508, 0.999997079372406, 0.9999969601631165, 0.9999971389770508, 0.999997079372406, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999971389770508, 0.9999971985816956, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.999997079372406, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.9999971389770508, 0.999997079372406, 0.9999970197677612, 0.9999969601631165, 0.9999972581863403, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.9999970197677612, 0.9999970197677612, 0.9999971389770508, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.9999969601631165, 0.9999970197677612, 0.9999969601631165, 0.9999969601631165, 0.999997079372406, 0.9999971389770508, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.9999970197677612, 0.9999969601631165, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999969601631165, 0.9999971389770508, 0.9999970197677612, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.9999970197677612, 0.999997079372406, 0.9999970197677612, 0.9999970197677612, 0.9999971389770508, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.9999969601631165, 0.999997079372406, 0.9999971389770508, 0.9999971389770508, 0.9999970197677612, 0.9999970197677612, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971389770508, 0.999997079372406]

    top_k_sim = [0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 0.9999999403953552, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0000001192092896, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0000001192092896, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 0.9999996423721313, 1.0, 0.9999998211860657, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998211860657, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999996423721313, 1.0, 0.9999998211860657, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix5_3.pdf', bbox_inches='tight')

def appendix5_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999983906745911, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9999944567680359, 0.9999974370002747, 0.999997079372406, 0.9999971985816956, 0.9999974370002747, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999975562095642, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999969601631165, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.9999971389770508, 0.999997079372406, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999974370002747, 0.9999971985816956, 0.9999971985816956, 0.9999974370002747, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999975562095642, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.999997079372406, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.999997079372406, 0.999997079372406, 0.9999971985816956, 0.9999971389770508, 0.999997079372406, 0.9999971985816956, 0.999997079372406, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.999997079372406, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999975562095642, 0.9999971389770508, 0.9999971985816956, 0.9999972581863403, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999974370002747, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999972581863403, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999973773956299, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971985816956, 0.9999971389770508, 0.9999973773956299, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999973773956299, 0.9999971389770508, 0.9999971389770508, 0.9999973773956299, 0.9999971389770508, 0.9999971389770508, 0.9999975562095642, 0.9999975562095642, 0.9999971389770508, 0.9999974370002747, 0.9999971389770508, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999971985816956, 0.9999971389770508, 0.9999974370002747, 0.9999971985816956, 0.9999971985816956]

    top_k_sim = [0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999996423721313, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix5_4.pdf', bbox_inches='tight')

def appendix6_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999890923500061, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9994065761566162, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9996218085289001, 1.0, 0.9745099544525146, 0.9999997615814209, 0.9999998211860657, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999788403511047, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9998160004615784, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 0.9929481148719788, 1.0, 1.0, 1.0, 0.9999986886978149, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.999994695186615, 0.9999726414680481, 1.0, 0.9999626874923706, 0.9999999403953552, 1.0, 0.999954879283905, 0.9999955296516418, 0.9999959468841553, 1.0, 0.9998990297317505, 0.9999998807907104, 1.0, 0.999978244304657, 0.9999998211860657, 0.9999885559082031, 0.9999818205833435, 0.999997615814209, 0.9999966621398926, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999899864196777, 1.0, 1.0, 0.9999802708625793, 0.9999999403953552, 1.0, 1.0000001192092896, 0.9999424815177917, 0.9999890923500061, 0.9999982118606567, 0.9999995231628418, 0.9999998211860657, 1.0, 1.0, 0.9999309778213501, 1.0, 1.0, 1.0, 0.9999732971191406, 0.9999264478683472, 1.0, 1.0, 1.0, 0.9999593496322632, 1.0, 0.9999999403953552, 1.0, 1.0, 0.999988853931427, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999170899391174, 1.0, 1.0, 1.0, 0.9979673027992249, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0]

    malicious_sim = [0.8542084097862244, 0.8647840619087219, 0.8584619164466858, 0.8662002086639404, 0.862355649471283, 0.8527171015739441, 0.8582826256752014, 0.8617869019508362, 0.8524503111839294, 0.8597564697265625, 0.839889407157898, 0.8547746539115906, 0.8619129657745361, 0.8552882671356201, 0.8545994162559509, 0.857733428478241, 0.8482236862182617, 0.8559329509735107, 0.8562089800834656, 0.8505970239639282, 0.8586947321891785, 0.8541573882102966, 0.8549241423606873, 0.86127769947052, 0.8601211905479431, 0.8537063002586365, 0.8546651601791382, 0.8486577272415161, 0.8555505275726318, 0.8451958894729614, 0.8494035601615906, 0.8439574241638184, 0.8537829518318176, 0.8519153594970703, 0.8619871735572815, 0.8610416650772095, 0.850882351398468, 0.8484928607940674, 0.8587225675582886, 0.8589510321617126, 0.8570395112037659, 0.8604173064231873, 0.8565102815628052, 0.858820378780365, 0.8455076813697815, 0.8525113463401794, 0.8534485101699829, 0.8558390140533447, 0.8592398166656494, 0.8562750220298767, 0.8543392419815063, 0.8589310050010681, 0.8583616018295288, 0.862017810344696, 0.8602352738380432, 0.8653894066810608, 0.8556946516036987, 0.8622296452522278, 0.8610876798629761, 0.8496078252792358, 0.8709745407104492, 0.8502809405326843, 0.8578412532806396, 0.860520601272583, 0.8556724190711975, 0.8593941926956177, 0.8620579838752747, 0.8567845821380615, 0.8628886342048645, 0.8651542067527771, 0.8520193696022034, 0.8556226491928101, 0.8574864268302917, 0.8465899229049683, 0.8521195650100708, 0.8667183518409729, 0.8541805744171143, 0.859250009059906, 0.8521978259086609, 0.851747453212738, 0.856456995010376, 0.861409604549408, 0.8571586608886719, 0.8560505509376526, 0.8578125238418579, 0.8540146946907043, 0.8672728538513184, 0.8573869466781616, 0.8537448048591614, 0.8570381999015808, 0.8619270920753479, 0.8566790819168091, 0.8560612201690674, 0.8516024351119995, 0.8534282445907593, 0.8659417629241943, 0.8609079122543335, 0.8482649326324463, 0.8567356467247009, 0.8602946996688843, 0.8531118631362915, 0.8516675233840942, 0.8555147647857666, 0.8498298525810242, 0.8563340306282043, 0.8536914587020874, 0.8506471514701843, 0.85252445936203, 0.866874098777771, 0.8564743995666504, 0.8571521043777466, 0.8603258728981018, 0.8519572615623474, 0.8549110889434814, 0.8549043536186218, 0.8628668785095215, 0.8578612804412842, 0.8527370691299438, 0.8638973236083984, 0.8605269193649292, 0.8453710079193115, 0.8539523482322693, 0.8519403338432312, 0.8493826389312744, 0.8589309453964233, 0.8574842810630798, 0.8583845496177673, 0.850702702999115, 0.8595056533813477, 0.8648462295532227, 0.8523226976394653, 0.8492170572280884, 0.8524993658065796, 0.8553779125213623, 0.8594160676002502, 0.8594697117805481, 0.8699727654457092, 0.8559132814407349, 0.8648456335067749, 0.8635250329971313, 0.8575413227081299, 0.8472822308540344, 0.863283097743988, 0.8533698916435242, 0.8523826003074646, 0.8509166836738586, 0.852830708026886, 0.8625761866569519, 0.8533331155776978, 0.8573125004768372, 0.8565112948417664, 0.8605530261993408, 0.8567689657211304, 0.8582538962364197, 0.8622845411300659, 0.8619157671928406, 0.8607247471809387, 0.8592559099197388, 0.8583568930625916, 0.8604661822319031, 0.8600513339042664, 0.8545175790786743, 0.8595289587974548, 0.8556615114212036, 0.863484799861908, 0.8516704440116882, 0.850001335144043, 0.8567302227020264, 0.8558980226516724, 0.8604307770729065, 0.8530818819999695, 0.8524778485298157, 0.8596588969230652, 0.8618165850639343, 0.8578008413314819, 0.8616873621940613, 0.8442540764808655, 0.8549379706382751, 0.8533440232276917, 0.8572920560836792, 0.8480944633483887, 0.8593251705169678, 0.8534321188926697, 0.8623563647270203, 0.8641603589057922, 0.8547471761703491, 0.8493566513061523, 0.8577122092247009, 0.8619436621665955, 0.8546063899993896, 0.850594162940979, 0.8580999970436096, 0.853165328502655, 0.8566439747810364, 0.8475786447525024, 0.8509756922721863, 0.8570054769515991, 0.8595272302627563]

    top_k_sim = [0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9803652167320251, 0.9994754195213318, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9807161092758179, 0.9996298551559448, 0.9620897173881531, 0.9757654070854187, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 0.9902487397193909, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9899004101753235, 1.0, 1.0, 1.0, 1.0, 0.9904348254203796, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 0.9900203943252563, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9904051423072815, 0.9999815821647644, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9813811779022217, 0.9998264312744141, 1.0, 1.0, 1.0, 1.0, 0.9609880447387695, 0.9929813742637634, 1.0, 1.0, 0.9904377460479736, 0.9999987483024597, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9899592995643616, 0.9905932545661926, 0.9999750852584839, 0.990559995174408, 0.9999693036079407, 1.0, 0.9820120334625244, 0.9999548196792603, 0.9999964237213135, 0.9999973773956299, 0.9807873964309692, 0.9998990297317505, 1.0, 0.9740050435066223, 0.9999817609786987, 0.9730042219161987, 0.9909122586250305, 0.9999819397926331, 0.9999979734420776, 0.9999979734420776, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9902368783950806, 0.9999902844429016, 1.0, 0.9907103180885315, 0.9999825358390808, 0.990554928779602, 1.0, 0.9816160202026367, 0.9999455213546753, 0.999994695186615, 0.9999986886978149, 0.9999997615814209, 0.9999997615814209, 1.0, 0.9906550645828247, 0.9999309182167053, 1.0, 1.0, 0.990002453327179, 0.9912344217300415, 0.9999263882637024, 1.0, 1.0, 0.990187406539917, 0.9999592900276184, 1.0, 1.0, 1.0, 0.989619255065918, 0.9999903440475464, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9908298254013062, 0.9999278783798218, 1.0, 1.0, 0.9810314774513245, 0.997997522354126, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix6_1.pdf', bbox_inches='tight')

def appendix6_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999994039535522, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999991655349731, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 0.999999463558197, 1.0, 1.0, 0.9999971389770508, 0.9999984502792358, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999964833259583, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999993443489075, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999992251396179, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999945163726807, 1.0, 1.0, 1.0, 0.9999988675117493, 1.0, 0.9999993443489075, 1.0, 1.0, 1.0, 0.9999997019767761, 1.0, 1.0, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9961162805557251, 0.9967748522758484, 0.9962755441665649, 0.9951988458633423, 0.9963586330413818, 0.9968088269233704, 0.9963459968566895, 0.9956207275390625, 0.9960983395576477, 0.9968468546867371, 0.9963548183441162, 0.997235119342804, 0.9970758557319641, 0.9969301223754883, 0.99660325050354, 0.9962878227233887, 0.9962255954742432, 0.9953543543815613, 0.9958642721176147, 0.995864748954773, 0.9966065287590027, 0.9968949556350708, 0.9966657757759094, 0.995925784111023, 0.9967636466026306, 0.9967020153999329, 0.9960088729858398, 0.9957200884819031, 0.9960901737213135, 0.9969443082809448, 0.996428906917572, 0.995787501335144, 0.9956718683242798, 0.9961872100830078, 0.9960862398147583, 0.9964731335639954, 0.9967918395996094, 0.996362030506134, 0.9958839416503906, 0.9957039952278137, 0.9962841272354126, 0.9959433674812317, 0.9960240721702576, 0.9965030550956726, 0.9965717196464539, 0.9958807826042175, 0.9960099458694458, 0.9959934949874878, 0.9957472085952759, 0.9960927963256836, 0.9967305064201355, 0.9971070289611816, 0.9966025352478027, 0.9965706467628479, 0.9957684278488159, 0.9964430928230286, 0.9959604144096375, 0.9968799352645874, 0.9964638948440552, 0.9958418607711792, 0.9965264201164246, 0.996688961982727, 0.9966703653335571, 0.9962630271911621, 0.9965476393699646, 0.996258556842804, 0.9962755441665649, 0.9958795309066772, 0.9962414503097534, 0.9968057870864868, 0.9960815906524658, 0.995773196220398, 0.9966805577278137, 0.9966503381729126, 0.9959129095077515, 0.9967436194419861, 0.9962493777275085, 0.99713134765625, 0.9961152076721191, 0.9962589740753174, 0.996181845664978, 0.995781421661377, 0.996036171913147, 0.9964427947998047, 0.9961390495300293, 0.9954425096511841, 0.9958231449127197, 0.9959209561347961, 0.996609628200531, 0.9955828785896301, 0.9965511560440063, 0.9965105056762695, 0.9962179064750671, 0.9965468645095825, 0.9958254098892212, 0.99676513671875, 0.9963911771774292, 0.996366560459137, 0.9970117807388306, 0.9963791966438293, 0.9968439340591431, 0.9959790110588074, 0.9960559606552124, 0.9960096478462219, 0.9955826997756958, 0.9958464503288269, 0.9961900115013123, 0.9964039921760559, 0.9964010715484619, 0.9965062141418457, 0.9960494637489319, 0.9961113929748535, 0.996291995048523, 0.99657142162323, 0.9959643483161926, 0.9964796900749207, 0.9961526989936829, 0.9961091876029968, 0.9960382580757141, 0.996191143989563, 0.9966020584106445, 0.995320737361908, 0.9964293241500854, 0.9966729283332825, 0.9959023594856262, 0.9965617060661316, 0.9958195686340332, 0.9966874122619629, 0.9959288239479065, 0.9966660737991333, 0.9957395195960999, 0.9962338209152222, 0.9958645105361938, 0.9959716796875, 0.9965165853500366, 0.9969972968101501, 0.9967495799064636, 0.9964227676391602, 0.9961776733398438, 0.9962161779403687, 0.9963216185569763, 0.9967261552810669, 0.9960517287254333, 0.99615478515625, 0.9967084527015686, 0.9958957433700562, 0.9966651797294617, 0.996566653251648, 0.9957034587860107, 0.9960753321647644, 0.9959208369255066, 0.9960702657699585, 0.9969705939292908, 0.9952012300491333, 0.9965418577194214, 0.9962635040283203, 0.9961186051368713, 0.9965581297874451, 0.9958856105804443, 0.9958136677742004, 0.9961012005805969, 0.9958479404449463, 0.9955108761787415, 0.9959295988082886, 0.9969438314437866, 0.9962077140808105, 0.9967560768127441, 0.9962312579154968, 0.9966432452201843, 0.9962946176528931, 0.9961932301521301, 0.9948001503944397, 0.9962990880012512, 0.9960532188415527, 0.9963552951812744, 0.996414065361023, 0.9955161809921265, 0.9966995120048523, 0.9956153035163879, 0.9957939386367798, 0.9966676235198975, 0.9966154098510742, 0.9961524605751038, 0.9961962699890137, 0.9962932467460632, 0.9959457516670227, 0.9962685704231262, 0.995987594127655, 0.9967940449714661, 0.9961943030357361, 0.9963095784187317, 0.9962830543518066, 0.9969500303268433, 0.9958268404006958, 0.9960439205169678, 0.995925784111023, 0.9962044954299927, 0.9958950281143188]

    top_k_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995136857032776, 0.9999994039535522, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9996125102043152, 0.9999991655349731, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9996190071105957, 0.9999995231628418, 1.0, 0.9989186525344849, 0.9995222687721252, 0.9999985694885254, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9994900822639465, 0.9999995231628418, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9989784955978394, 0.999996542930603, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.99958336353302, 0.999999463558197, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995272159576416, 0.9995410442352295, 0.9999994039535522, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995681047439575, 0.9999997019767761, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9994393587112427, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9988798499107361, 0.9999948143959045, 1.0, 1.0, 0.9995838403701782, 0.9999989867210388, 0.9995205402374268, 0.9999992847442627, 1.0, 1.0, 0.9995361566543579, 0.9999997019767761, 1.0, 0.9995259046554565, 0.9999993443489075, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix6_2.pdf', bbox_inches='tight')

def appendix6_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8725830912590027, 0.8670804500579834, 0.8771572709083557, 0.8714011907577515, 0.868408203125, 0.8735920786857605, 0.871016800403595, 0.8751868009567261, 0.8753876686096191, 0.871531069278717, 0.8722362518310547, 0.871727466583252, 0.8726579546928406, 0.8753668665885925, 0.8727957606315613, 0.8707688450813293, 0.8692019581794739, 0.8665691614151001, 0.8752131462097168, 0.8743646144866943, 0.8690363764762878, 0.87470543384552, 0.8705216646194458, 0.8692149519920349, 0.8758429884910583, 0.8738308548927307, 0.8683615326881409, 0.870254397392273, 0.8687514662742615, 0.8720601201057434, 0.867816686630249, 0.8742166757583618, 0.8728414177894592, 0.8740239143371582, 0.8671457767486572, 0.8654199242591858, 0.8701639771461487, 0.8692521452903748, 0.8750656843185425, 0.8707891702651978, 0.8701671361923218, 0.8718815445899963, 0.8675903677940369, 0.8733354210853577, 0.8661069273948669, 0.8755276799201965, 0.8722811937332153, 0.8787098526954651, 0.8644688725471497, 0.8714084029197693, 0.8691194653511047, 0.8752079606056213, 0.8767471313476562, 0.8667322397232056, 0.8707739114761353, 0.8642656803131104, 0.8710103631019592, 0.8716913461685181, 0.8700210452079773, 0.86882483959198, 0.8680769801139832, 0.8694871664047241, 0.870481014251709, 0.8708803653717041, 0.8723192811012268, 0.8725524544715881, 0.8793191909790039, 0.8767307996749878, 0.8703234791755676, 0.8764632940292358, 0.8727419376373291, 0.8720104694366455, 0.8691707849502563, 0.8736036419868469, 0.8659167885780334, 0.8700121641159058, 0.8744056820869446, 0.8713997602462769, 0.8695725798606873, 0.8736832737922668, 0.8689707517623901, 0.8703535199165344, 0.8733310699462891, 0.8713017106056213, 0.8686046004295349, 0.8736061453819275, 0.8690035939216614, 0.871343195438385, 0.8670547008514404, 0.8702993392944336, 0.872674286365509, 0.8751238584518433, 0.8694906234741211, 0.8643407821655273, 0.8658103346824646, 0.8686934113502502, 0.87226802110672, 0.8712730407714844, 0.872628927230835, 0.8787197470664978, 0.8720325231552124, 0.8687923550605774, 0.8698604702949524, 0.8743969202041626, 0.8692243695259094, 0.8705869317054749, 0.8644463419914246, 0.8694916367530823, 0.8726270198822021, 0.8753842115402222, 0.869781494140625, 0.8740752339363098, 0.8732969164848328, 0.8702131509780884, 0.8747564554214478, 0.8739868998527527, 0.8680608868598938, 0.8767571449279785, 0.8750906586647034, 0.8707408308982849, 0.869767427444458, 0.8714243769645691, 0.8703733086585999, 0.8703744411468506, 0.8786293268203735, 0.8652569055557251, 0.8717663288116455, 0.8659058809280396, 0.8668656349182129, 0.875851035118103, 0.8772979974746704, 0.8708151578903198, 0.8712664246559143, 0.8715847730636597, 0.872994065284729, 0.8673292994499207, 0.8671391010284424, 0.8721761703491211, 0.8740224242210388, 0.8770414590835571, 0.8690815567970276, 0.8634908199310303, 0.8708689212799072, 0.873127818107605, 0.8748299479484558, 0.871195375919342, 0.8737120628356934, 0.8641114234924316, 0.8628348112106323, 0.8759419322013855, 0.8712382316589355, 0.8733125329017639, 0.8706763386726379, 0.8707972168922424, 0.8750631213188171, 0.8723911643028259, 0.8698865175247192, 0.8675780296325684, 0.8713598251342773, 0.8727975487709045, 0.8639918565750122, 0.8741177916526794, 0.8742809295654297, 0.8726049661636353, 0.8702841401100159, 0.872534453868866, 0.8722401261329651, 0.8698186874389648, 0.8697097301483154, 0.875676691532135, 0.8702046871185303, 0.8735424280166626, 0.8752883672714233, 0.8736042380332947, 0.8705983757972717, 0.8716009259223938, 0.8710911870002747, 0.8696573972702026, 0.8701037168502808, 0.876983642578125, 0.8756544589996338, 0.8712937831878662, 0.8663919568061829, 0.8693580627441406, 0.8722456097602844, 0.8791539072990417, 0.8731771111488342, 0.873288631439209, 0.8746514916419983, 0.8746125102043152, 0.8686723113059998, 0.8649083971977234, 0.8674284815788269, 0.8751673698425293, 0.8704028725624084, 0.869292676448822, 0.8694745302200317, 0.865962564945221]

    top_k_sim = [0.9915265440940857, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 0.9914491176605225, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 0.9911438226699829, 1.0, 0.9826897382736206, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 0.9821482300758362, 1.0, 1.0, 1.0000001192092896, 1.0, 0.9742823243141174, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9913657307624817, 0.9913927316665649, 1.0, 1.0, 1.0, 0.9835655093193054, 1.0, 1.0, 0.9915165305137634, 1.0, 1.0, 1.0, 1.0, 0.9913346767425537, 0.9832552075386047, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9915564656257629, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0000001192092896, 1.0, 1.0, 0.9916757345199585, 0.9912996888160706, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9830178022384644, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9915087223052979, 1.0, 0.9913191199302673, 0.9916066527366638, 1.0, 1.0, 1.0, 1.0, 0.9736133813858032, 0.9835684299468994, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 0.9827170968055725, 1.0000001192092896, 1.0, 1.0, 1.0000001192092896, 0.9911246299743652, 1.0, 1.0000001192092896, 0.9913945198059082, 1.0, 1.0000001192092896, 1.0, 0.9911556839942932, 1.0, 1.0, 1.0, 0.9918036460876465, 1.0000001192092896, 0.9908998608589172, 1.0, 1.0000001192092896, 1.0, 1.0, 0.9915812611579895, 1.0000001192092896, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 0.9827741384506226, 0.9916735887527466, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 0.9913527965545654, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 0.9915697574615479, 0.991686224937439, 0.9915740489959717, 0.9741215705871582, 0.9914411902427673, 0.9914071559906006, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9912868142127991, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix6_3.pdf', bbox_inches='tight')

def appendix6_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [1.0, 1.0, 0.9999995827674866, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999974370002747, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999843835830688, 0.9999979138374329, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999986886978149, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999786913394928, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999955952167511, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.9960633516311646, 0.9962816834449768, 0.9961554408073425, 0.9960775375366211, 0.9969503879547119, 0.9963822364807129, 0.9964455366134644, 0.9966683387756348, 0.9965594410896301, 0.9965476393699646, 0.9961143732070923, 0.9960273504257202, 0.9961063265800476, 0.9964669346809387, 0.9961091876029968, 0.9968719482421875, 0.9965299963951111, 0.9965918064117432, 0.9962838292121887, 0.9965667724609375, 0.9963536262512207, 0.9959951639175415, 0.9962005019187927, 0.9961174726486206, 0.9966947436332703, 0.9968155026435852, 0.9963658452033997, 0.996385931968689, 0.9959028363227844, 0.9964063763618469, 0.9965106248855591, 0.9961203932762146, 0.9962568283081055, 0.996101975440979, 0.9963903427124023, 0.9964739084243774, 0.9967506527900696, 0.9966436624526978, 0.9961596131324768, 0.9955068826675415, 0.9963150024414062, 0.9964982867240906, 0.9961435794830322, 0.9965134859085083, 0.9965541362762451, 0.9965208172798157, 0.9967678785324097, 0.9964553117752075, 0.996152400970459, 0.996312141418457, 0.996081531047821, 0.9968256950378418, 0.9961981177330017, 0.9956563115119934, 0.9965360760688782, 0.9964064955711365, 0.9964628219604492, 0.9967088103294373, 0.9964450597763062, 0.9961366653442383, 0.9964870810508728, 0.9965716600418091, 0.9964916110038757, 0.9964412450790405, 0.9964253902435303, 0.9967852234840393, 0.9962286353111267, 0.996096134185791, 0.9961341023445129, 0.9961631298065186, 0.9967133402824402, 0.996929943561554, 0.9964137077331543, 0.9963630437850952, 0.9966381192207336, 0.9966415762901306, 0.9963594675064087, 0.9962568879127502, 0.9967092871665955, 0.9957510828971863, 0.9959949851036072, 0.9961520433425903, 0.9965512156486511, 0.9961455464363098, 0.9965949654579163, 0.9964737892150879, 0.9964138865470886, 0.9964218139648438, 0.9963728189468384, 0.9959647059440613, 0.9967575073242188, 0.9962260723114014, 0.996429979801178, 0.9963860511779785, 0.9966508150100708, 0.9965736269950867, 0.9962559938430786, 0.9961930513381958, 0.9968110918998718, 0.9961954951286316, 0.9964987635612488, 0.9963986277580261, 0.9963235259056091, 0.9967321753501892, 0.9958522915840149, 0.9968290328979492, 0.9964244961738586, 0.9965828061103821, 0.9961761832237244, 0.9963690042495728, 0.9964529275894165, 0.9965751767158508, 0.9971898198127747, 0.9961778521537781, 0.9960706830024719, 0.9963644742965698, 0.9959355592727661, 0.9962793588638306, 0.996670663356781, 0.9962994456291199, 0.9954239726066589, 0.9964888095855713, 0.996375322341919, 0.9965474009513855, 0.996490478515625, 0.9963409304618835, 0.9965921640396118, 0.9968796968460083, 0.9963817000389099, 0.9959819316864014, 0.9963527917861938, 0.9964593052864075, 0.9968008399009705, 0.9962038397789001, 0.9969077110290527, 0.99592524766922, 0.9967246651649475, 0.9965065121650696, 0.996681809425354, 0.9967070817947388, 0.9955545663833618, 0.9964777231216431, 0.996251106262207, 0.9966412782669067, 0.9966736435890198, 0.995935320854187, 0.9965777397155762, 0.9965664148330688, 0.9962440729141235, 0.9964029788970947, 0.9957153797149658, 0.9961344599723816, 0.9966846108436584, 0.9965206384658813, 0.996157705783844, 0.9964402318000793, 0.9962455034255981, 0.9966357350349426, 0.996477484703064, 0.9964346289634705, 0.9966330528259277, 0.996070146560669, 0.996444046497345, 0.9962152242660522, 0.9960862398147583, 0.9961471557617188, 0.9964494109153748, 0.9963912963867188, 0.996813178062439, 0.9964239597320557, 0.9961547255516052, 0.9963404536247253, 0.996234118938446, 0.9961979389190674, 0.9965953230857849, 0.9967522621154785, 0.9965009689331055, 0.9967336654663086, 0.9966711401939392, 0.9961251616477966, 0.9964529275894165, 0.996480405330658, 0.9963749051094055, 0.9964441657066345, 0.9963378310203552, 0.996846616268158, 0.9964605569839478, 0.9963392615318298, 0.9960485696792603, 0.9962636232376099, 0.9965798854827881, 0.9967818856239319, 0.9966357946395874, 0.9960784912109375, 0.996259331703186, 0.9960197806358337, 0.9963067173957825, 0.9961547255516052]

    top_k_sim = [1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995744228363037, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995248317718506, 0.9999974966049194, 1.0, 1.0, 1.0, 1.0, 0.9995559453964233, 0.9995037317276001, 0.9999980926513672, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995243549346924, 0.999998927116394, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.999537467956543, 0.9998269081115723, 0.9995611906051636, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995843172073364, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9996018409729004, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995425343513489, 0.9999592304229736, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9995195865631104]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix6_4.pdf', bbox_inches='tight')

def appendix6_5():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9992470145225525, 0.9995388984680176, 0.9998518824577332, 0.9996764659881592, 0.9999139904975891, 0.9998237490653992, 0.9996817708015442, 0.9998046159744263, 0.9997218251228333, 0.9998657703399658, 0.9998964071273804, 0.9999416470527649, 0.9998945593833923, 0.9998948574066162, 0.9999032616615295, 0.9996979832649231, 0.9998217821121216, 0.9997110962867737, 0.9999247789382935, 0.9998492002487183, 0.9999193549156189, 0.9998211860656738, 0.9999302625656128, 0.9999127388000488, 0.9999366402626038, 0.9999400973320007, 0.9998635649681091, 0.9996689558029175, 0.9997909069061279, 0.9999164938926697, 0.9997116327285767, 0.9998878240585327, 0.9998671412467957, 0.999897837638855, 0.999948263168335, 0.9998533725738525, 0.9999188184738159, 0.9996919631958008, 0.9999208450317383, 0.9998125433921814, 0.9998939037322998, 0.9999353885650635, 0.9999286532402039, 0.9998993873596191, 0.9998712539672852, 0.9998151659965515, 0.9999061822891235, 0.9999315142631531, 0.9999294877052307, 0.9998734593391418, 0.9999171495437622, 0.9999194741249084, 0.9999147653579712, 0.9999174475669861, 0.9997842907905579, 0.9999430179595947, 0.9998531937599182, 0.9999086260795593, 0.9998379349708557, 0.9999171495437622, 0.999688446521759, 0.9999131560325623, 0.9999175071716309, 0.999893069267273, 0.9998739957809448, 0.9999223947525024, 0.999875545501709, 0.9999359846115112, 0.9999223351478577, 0.9996553063392639, 0.9996541738510132, 0.9996973276138306, 0.9999247193336487, 0.9999383687973022, 0.999927818775177, 0.9999227523803711, 0.9999356269836426, 0.9997944831848145, 0.9999305009841919, 0.9999487996101379, 0.9997043013572693, 0.9996556639671326, 0.9999299049377441, 0.9999383091926575, 0.9998723864555359, 0.9999369382858276, 0.9997599720954895, 0.9998778104782104, 0.9999280571937561, 0.9999445676803589, 0.9999545812606812, 0.999711811542511, 0.9996147155761719, 0.9999525547027588, 0.9998213052749634, 0.9998298287391663, 0.9999271631240845, 0.9999380111694336, 0.9997557401657104, 0.9999499917030334, 0.9999512434005737, 0.9999024868011475, 0.9999277591705322, 0.9999316334724426, 0.9999446868896484, 0.9995821118354797, 0.9996966123580933, 0.9999362230300903, 0.9998349547386169, 0.9998995661735535, 0.9998417496681213, 0.999867856502533, 0.9999383687973022, 0.9999532103538513, 0.9999221563339233, 0.9999066591262817, 0.9999023675918579, 0.9999127388000488, 0.9999118447303772, 0.9999236464500427, 0.9999222755432129, 0.9998522400856018, 0.9999265670776367, 0.9999222755432129, 0.999938428401947, 0.9999102354049683, 0.9999374747276306, 0.9997263550758362, 0.9999243021011353, 0.9999551773071289, 0.999946117401123, 0.9999107122421265, 0.999943196773529, 0.9999293088912964, 0.999951183795929, 0.9998490810394287, 0.9998703002929688, 0.9999449253082275, 0.9998535513877869, 0.9999497532844543, 0.9998739957809448, 0.9999539852142334, 0.9997026920318604, 0.9998380541801453, 0.9998970031738281, 0.9999370574951172, 0.999771773815155, 0.9997731447219849, 0.9997831583023071, 0.9997402429580688, 0.9999477863311768, 0.9996974468231201, 0.9998639225959778, 0.9999407529830933, 0.9999117255210876, 0.9998617768287659, 0.9999436140060425, 0.9999487400054932, 0.9999123811721802, 0.9999294877052307, 0.9999536275863647, 0.9999555945396423, 0.9999576210975647, 0.9999533891677856, 0.9999462962150574, 0.9998946189880371, 0.999927282333374, 0.9999014139175415, 0.9998910427093506, 0.9998136162757874, 0.9999472498893738, 0.9998281598091125, 0.9999654293060303, 0.9999488592147827, 0.999905526638031, 0.9999470710754395, 0.9999130368232727, 0.999951183795929, 0.9997456669807434, 0.9998845458030701, 0.999938428401947, 0.9999623894691467, 0.9999274611473083, 0.9999356269836426, 0.9998103380203247, 0.9999551773071289, 0.9999310374259949, 0.9998782873153687, 0.9998747706413269, 0.9999197721481323, 0.9999392628669739, 0.9999322295188904, 0.9998093843460083, 0.999958872795105, 0.9999348521232605, 0.9997543692588806, 0.9998010396957397, 0.9999535083770752]

    malicious_sim = [0.8731381893157959, 0.8623971343040466, 0.8649238348007202, 0.865874707698822, 0.8723903894424438, 0.8783282041549683, 0.8608115315437317, 0.8782709240913391, 0.8601799607276917, 0.8789499998092651, 0.8669980764389038, 0.8595900535583496, 0.8606945276260376, 0.8632540702819824, 0.8648642897605896, 0.8710706233978271, 0.8527899384498596, 0.8777160048484802, 0.8603770136833191, 0.8724244832992554, 0.8635071516036987, 0.8651131987571716, 0.8682988286018372, 0.867697536945343, 0.87836092710495, 0.869563102722168, 0.8606804609298706, 0.8815180063247681, 0.8653501868247986, 0.8784109950065613, 0.8626374006271362, 0.855869472026825, 0.8735663294792175, 0.8673328161239624, 0.8793585896492004, 0.8739369511604309, 0.8769583106040955, 0.8629967570304871, 0.8822981119155884, 0.8677610754966736, 0.8581187129020691, 0.8681424856185913, 0.8695028424263, 0.8633189797401428, 0.8608790636062622, 0.8700894117355347, 0.8583378791809082, 0.8830919861793518, 0.8535199761390686, 0.8787379860877991, 0.8726530075073242, 0.8707627058029175, 0.8656679391860962, 0.858201265335083, 0.880273163318634, 0.8708919286727905, 0.8640828728675842, 0.8682212233543396, 0.8657926917076111, 0.8742967247962952, 0.8666356801986694, 0.8657869696617126, 0.8724544644355774, 0.8656435608863831, 0.8640356659889221, 0.8642274141311646, 0.8631141185760498, 0.8696942925453186, 0.8689830899238586, 0.8637962341308594, 0.8660131096839905, 0.8703773021697998, 0.8685638308525085, 0.8752057552337646, 0.8698858618736267, 0.8792231678962708, 0.8522090315818787, 0.871282160282135, 0.862601101398468, 0.863365113735199, 0.8560590147972107, 0.8724538087844849, 0.8744690418243408, 0.8641998767852783, 0.8749455213546753, 0.8670427799224854, 0.8637977242469788, 0.872666597366333, 0.8739781379699707, 0.8740648031234741, 0.8699691295623779, 0.8684861063957214, 0.8670449256896973, 0.8649224042892456, 0.8680877089500427, 0.8603901863098145, 0.8725899457931519, 0.8800173997879028, 0.8705621957778931, 0.8572908043861389, 0.8801258206367493, 0.8702833652496338, 0.863848090171814, 0.8793356418609619, 0.8660438060760498, 0.8631718754768372, 0.8701348900794983, 0.8668898940086365, 0.8652151823043823, 0.8660997152328491, 0.8630332946777344, 0.8678176403045654, 0.8605407476425171, 0.8570613861083984, 0.8706297874450684, 0.8522466421127319, 0.8552533984184265, 0.8644363284111023, 0.8748863935470581, 0.8676897287368774, 0.871379017829895, 0.8617221117019653, 0.865421712398529, 0.8691991567611694, 0.8710784912109375, 0.8690093755722046, 0.871911346912384, 0.8659120798110962, 0.8681907653808594, 0.8634287118911743, 0.8573756217956543, 0.8614679574966431, 0.8714061975479126, 0.8560926914215088, 0.8645426630973816, 0.8641136884689331, 0.8668968081474304, 0.8761035203933716, 0.8709058165550232, 0.8639633059501648, 0.8685513734817505, 0.8465134501457214, 0.868567168712616, 0.8645030856132507, 0.8327919840812683, 0.8409361243247986, 0.8350820541381836, 0.8261597156524658, 0.8233155012130737, 0.8322485685348511, 0.8364858627319336, 0.823647141456604, 0.8538738489151001, 0.8294385075569153, 0.8374059200286865, 0.8245280385017395, 0.8335656523704529, 0.817584216594696, 0.8290078043937683, 0.8231808543205261, 0.8154147267341614, 0.8291585445404053, 0.8219326138496399, 0.8247436285018921, 0.8234930038452148, 0.8241124153137207, 0.8321247696876526, 0.8397818803787231, 0.8246931433677673, 0.8314185738563538, 0.8435212969779968, 0.8502852916717529, 0.8386285901069641, 0.8209706544876099, 0.8241304159164429, 0.835289716720581, 0.826095700263977, 0.8318190574645996, 0.8382948040962219, 0.8287174105644226, 0.8435519933700562, 0.8334014415740967, 0.8135376572608948, 0.8210133910179138, 0.8370721936225891, 0.8416406512260437, 0.832049548625946, 0.8442357778549194, 0.8148388266563416, 0.8273820281028748, 0.8226577639579773, 0.8370312452316284, 0.8237779140472412, 0.8401897549629211, 0.8480367660522461, 0.8252443671226501, 0.8308057188987732, 0.8277044892311096]

    top_k_sim = [0.9995856285095215, 0.9995389580726624, 0.9998874664306641, 0.9996763467788696, 0.9999417662620544, 0.9999191761016846, 0.9999390840530396, 0.9998247027397156, 0.999930739402771, 0.9998908042907715, 0.9999281167984009, 0.9907990097999573, 0.9999328851699829, 0.9999452233314514, 0.9999293684959412, 0.9912362694740295, 0.9998826384544373, 0.9998951554298401, 0.9908114671707153, 0.9999397993087769, 0.9999415874481201, 0.9999274015426636, 0.9999517798423767, 0.9911924004554749, 0.9999504089355469, 0.9827398061752319, 0.9999573826789856, 0.9918580651283264, 0.9997909069061279, 0.9999165534973145, 0.9999465942382812, 0.9999432563781738, 0.9999525547027588, 0.9999433159828186, 0.9999573826789856, 0.9999344348907471, 0.9918183088302612, 0.9996919631958008, 0.999948263168335, 0.9998759031295776, 0.9999262094497681, 0.9913218021392822, 0.9999287128448486, 0.9999639391899109, 0.9999566078186035, 0.999943733215332, 0.9999497532844543, 0.9999315738677979, 0.9999295473098755, 0.999948263168335, 0.9999343752861023, 0.9999455809593201, 0.9911452531814575, 0.9999175071716309, 0.9997844696044922, 0.9999504685401917, 0.999853253364563, 0.9999603033065796, 0.9998380541801453, 0.999933123588562, 0.9998764991760254, 0.9999394416809082, 0.9999175071716309, 0.9999369978904724, 0.9998740553855896, 0.999922513961792, 0.999875545501709, 0.9999457001686096, 0.9999479651451111, 0.9906744360923767, 0.9998650550842285, 0.9911993145942688, 0.9999533891677856, 0.999938428401947, 0.9999547004699707, 0.9999227523803711, 0.9807007312774658, 0.9742536544799805, 0.9999305605888367, 0.9999487996101379, 0.9997043609619141, 0.9999518394470215, 0.9916612505912781, 0.9910141229629517, 0.9916885495185852, 0.9912160634994507, 0.9997600317001343, 0.9832101464271545, 0.9999281167984009, 0.9999613761901855, 0.9999603033065796, 0.999711811542511, 0.9996147155761719, 0.99996018409729, 0.9999169111251831, 0.9998953938484192, 0.9832174181938171, 0.9999572038650513, 0.9999504685401917, 0.9999562501907349, 0.9999589323997498, 0.9999452233314514, 0.9999438524246216, 0.9999480247497559, 0.9999668598175049, 0.9905296564102173, 0.9911788702011108, 0.9999362230300903, 0.999944269657135, 0.991076648235321, 0.9998416900634766, 0.9999079704284668, 0.999938428401947, 0.999958872795105, 0.9999454021453857, 0.9807391166687012, 0.9999148845672607, 0.9999454617500305, 0.9999117851257324, 0.999941885471344, 0.974454939365387, 0.9999433755874634, 0.9999266266822815, 0.9999523758888245, 0.9999594688415527, 0.999939501285553, 0.9999480247497559, 0.9999651312828064, 0.9999244213104248, 0.9999551773071289, 0.9999533295631409, 0.9817175269126892, 0.9999628663063049, 0.9999604225158691, 0.9999602437019348, 0.9999409317970276, 0.9999505281448364, 0.9999644756317139, 0.9999542832374573, 0.9999561905860901, 0.9999642372131348, 0.9899898171424866, 0.9910404682159424, 0.9821277856826782, 0.999944806098938, 0.9999464750289917, 0.9999513030052185, 0.9999545812606812, 0.9999513626098633, 0.9999488592147827, 0.9999527335166931, 0.9764227867126465, 0.9999262094497681, 0.977566123008728, 0.9999274611473083, 0.9886105060577393, 0.9999672174453735, 0.9999680519104004, 0.9999604821205139, 0.9883767366409302, 0.987933874130249, 0.9999555349349976, 0.9999639987945557, 0.9653393030166626, 0.999963641166687, 0.9999333620071411, 0.9999681711196899, 0.9999427199363708, 0.9999461770057678, 0.9999616742134094, 0.9999620914459229, 0.9999667406082153, 0.9999706149101257, 0.9883376359939575, 0.99992835521698, 0.9999531507492065, 0.9999130368232727, 0.9999604821205139, 0.999939501285553, 0.9660444855690002, 0.9999556541442871, 0.9999716281890869, 0.9999456405639648, 0.9999704360961914, 0.9999575018882751, 0.9896749258041382, 0.9999517798423767, 0.999936044216156, 0.9878416657447815, 0.9999306797981262, 0.9999489188194275, 0.9999545216560364, 0.9999538064002991, 0.9999632835388184, 0.9999526739120483, 0.9999318718910217, 0.9999444484710693, 0.9999611377716064]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix6_5.pdf', bbox_inches='tight')

def appendix6_6():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9996886253356934, 0.9998515248298645, 0.999726414680481, 0.9999229907989502, 0.9999551773071289, 0.9997981190681458, 0.9999416470527649, 0.9996158480644226, 0.9995667338371277, 0.9995079636573792, 0.9999489784240723, 0.9998427629470825, 0.9999505877494812, 0.9999576807022095, 0.999919593334198, 0.9999088644981384, 0.9999508857727051, 0.9995688796043396, 0.9999471306800842, 0.9997690320014954, 0.9999257326126099, 0.9999452233314514, 0.9999530911445618, 0.9999204874038696, 0.9999504685401917, 0.9999452233314514, 0.9999445080757141, 0.9999392032623291, 0.9999442100524902, 0.9999119639396667, 0.9999252557754517, 0.9999259114265442, 0.9999309182167053, 0.999802827835083, 0.9995675683021545, 0.9995653629302979, 0.9998459219932556, 0.9999440312385559, 0.9999162554740906, 0.9999362826347351, 0.999945878982544, 0.9999393820762634, 0.999923050403595, 0.9999538064002991, 0.9999074935913086, 0.9999358057975769, 0.9999505281448364, 0.9999577403068542, 0.9999064207077026, 0.9999509453773499, 0.9999525547027588, 0.9999134540557861, 0.9998981952667236, 0.9995989799499512, 0.9999459385871887, 0.9998903274536133, 0.9998937249183655, 0.9999275803565979, 0.9999572038650513, 0.9999363422393799, 0.9999532699584961, 0.9994614124298096, 0.9999585151672363, 0.9999629259109497, 0.9999497532844543, 0.9999626278877258, 0.999936580657959, 0.9998220801353455, 0.9999566078186035, 0.9999581575393677, 0.9999476075172424, 0.9999523758888245, 0.9999440312385559, 0.9995835423469543, 0.9995724558830261, 0.9999563097953796, 0.9999637007713318, 0.9999494552612305, 0.9998262524604797, 0.999806821346283, 0.9999644160270691, 0.9995072484016418, 0.9999328851699829, 0.9999470114707947, 0.9999051094055176, 0.9999520182609558, 0.9998936057090759, 0.9999635815620422, 0.999927818775177, 0.9999592900276184, 0.9995695948600769, 0.9999581575393677, 0.9999324679374695, 0.9999430179595947, 0.9998804330825806, 0.9998112916946411, 0.9999385476112366, 0.9998221397399902, 0.9999631643295288, 0.999955952167511, 0.9998272061347961, 0.9999486207962036, 0.9999150037765503, 0.9999620914459229, 0.9999454617500305, 0.9999483823776245, 0.9999483227729797, 0.9999411702156067, 0.9999518990516663, 0.999717652797699, 0.9999002814292908, 0.9999671578407288, 0.9999534487724304, 0.9999436140060425, 0.9999651312828064, 0.9999697804450989, 0.9999430775642395, 0.9999706745147705, 0.9998033046722412, 0.9995617270469666, 0.9997982978820801, 0.9999557137489319, 0.9999423027038574, 0.999942421913147, 0.999954342842102, 0.9999666213989258, 0.9994890689849854, 0.9999505877494812, 0.9999570250511169, 0.9999276399612427, 0.9999687671661377, 0.9998630881309509, 0.9998239874839783, 0.9996851086616516, 0.9999350905418396, 0.9995783567428589, 0.999958872795105, 0.9996111989021301, 0.9999595880508423, 0.9999526143074036, 0.9999564290046692, 0.999966561794281, 0.9999486804008484, 0.9999211430549622, 0.9999273419380188, 0.9998692870140076, 0.999952495098114, 0.9999635815620422, 0.9999600648880005, 0.9999604821205139, 0.9999582767486572, 0.9999397993087769, 0.9999670386314392, 0.9999645948410034, 0.9996339678764343, 0.9999645948410034, 0.9999759793281555, 0.9999295473098755, 0.999970555305481, 0.999793529510498, 0.9999720454216003, 0.9999691247940063, 0.9999656081199646, 0.9999472498893738, 0.999964714050293, 0.9996030926704407, 0.9996173977851868, 0.9999772310256958, 0.9999682307243347, 0.9999388456344604, 0.9994477033615112, 0.999969482421875, 0.9996359944343567, 0.9998224973678589, 0.9999626874923706, 0.9999668002128601, 0.9995174407958984, 0.9998102188110352, 0.9999593496322632, 0.9999737739562988, 0.9999673962593079, 0.9999685883522034, 0.9996163249015808, 0.9999552965164185, 0.9999547004699707, 0.999970555305481, 0.9999688267707825, 0.9999715089797974, 0.9999222159385681, 0.9996277689933777, 0.9999589920043945, 0.9999697208404541, 0.9999456405639648, 0.9997982382774353, 0.9999783635139465, 0.9998117089271545, 0.9999711513519287, 0.9999663233757019]

    malicious_sim = [0.8598230481147766, 0.8568686842918396, 0.8592608571052551, 0.8606407046318054, 0.8670430183410645, 0.8726767301559448, 0.8627589344978333, 0.8622687458992004, 0.8664565086364746, 0.8591516613960266, 0.8679935336112976, 0.8513290286064148, 0.8609519004821777, 0.8520498275756836, 0.8573055267333984, 0.8617619872093201, 0.8551110625267029, 0.8741850256919861, 0.859856903553009, 0.8680199980735779, 0.8761688470840454, 0.8675054311752319, 0.8594151735305786, 0.8601416945457458, 0.8594903349876404, 0.8679172992706299, 0.8596044182777405, 0.8493790626525879, 0.8768448829650879, 0.8692822456359863, 0.8677604794502258, 0.8656126856803894, 0.8568199276924133, 0.8483037948608398, 0.8567272424697876, 0.8570188283920288, 0.8605426549911499, 0.8538696765899658, 0.8624209761619568, 0.8639202117919922, 0.854034423828125, 0.8634113073348999, 0.8711339831352234, 0.861966073513031, 0.8718989491462708, 0.8648069500923157, 0.8564393520355225, 0.8574417233467102, 0.8578957319259644, 0.8607257008552551, 0.850197970867157, 0.862565279006958, 0.8467224836349487, 0.8670935034751892, 0.8632537126541138, 0.8688904643058777, 0.8660250902175903, 0.8621242046356201, 0.863609254360199, 0.8601553440093994, 0.852584958076477, 0.85254967212677, 0.8595145344734192, 0.8518841862678528, 0.8547994494438171, 0.8611544370651245, 0.8737065196037292, 0.8561298847198486, 0.8608017563819885, 0.8695871233940125, 0.8650472164154053, 0.8631949424743652, 0.8756611943244934, 0.8621960878372192, 0.8670094013214111, 0.8664441108703613, 0.868566632270813, 0.8700891733169556, 0.8563826084136963, 0.8600075840950012, 0.8699312806129456, 0.8607342839241028, 0.8602184653282166, 0.8606091141700745, 0.8599552512168884, 0.8581327795982361, 0.8616622090339661, 0.8618392944335938, 0.860210120677948, 0.861015260219574, 0.8704402446746826, 0.8607883453369141, 0.8635255694389343, 0.8537415266036987, 0.8639095425605774, 0.8553965091705322, 0.8584308624267578, 0.8591641783714294, 0.8704354763031006, 0.8604212999343872, 0.8621042370796204, 0.8632277846336365, 0.856420636177063, 0.8602190613746643, 0.8582070469856262, 0.8634722828865051, 0.8553950786590576, 0.8631065487861633, 0.8559852242469788, 0.847443699836731, 0.8621576428413391, 0.8526663184165955, 0.8604453206062317, 0.8642542362213135, 0.8674066662788391, 0.8590673804283142, 0.8694930672645569, 0.8559283018112183, 0.8548668622970581, 0.8664887547492981, 0.8680993914604187, 0.8529883623123169, 0.8581839799880981, 0.8535204529762268, 0.8647569417953491, 0.8570043444633484, 0.8574433326721191, 0.8641016483306885, 0.8549017906188965, 0.8695312738418579, 0.8670540452003479, 0.8595615029335022, 0.8701409101486206, 0.8607360124588013, 0.8646470904350281, 0.8639500737190247, 0.8625807762145996, 0.863240122795105, 0.8605319857597351, 0.8824769258499146, 0.8548896908760071, 0.8507129549980164, 0.8697720170021057, 0.8563790321350098, 0.8634573817253113, 0.8506945967674255, 0.8674227595329285, 0.8620686531066895, 0.8498690724372864, 0.8576215505599976, 0.8605642318725586, 0.8652601838111877, 0.8494898676872253, 0.8636646866798401, 0.8667108416557312, 0.8542786240577698, 0.8629676699638367, 0.8594196438789368, 0.8617664575576782, 0.8657135367393494, 0.857524573802948, 0.8624822497367859, 0.855960488319397, 0.8570233583450317, 0.8561796545982361, 0.85498046875, 0.8683082461357117, 0.8656205534934998, 0.8594836592674255, 0.859236478805542, 0.8646256327629089, 0.8609799146652222, 0.8573941588401794, 0.8607468008995056, 0.8626614809036255, 0.8628070950508118, 0.8577166795730591, 0.8630044460296631, 0.8625361323356628, 0.8661624193191528, 0.8685278296470642, 0.860813558101654, 0.852552056312561, 0.8555955290794373, 0.8520992398262024, 0.8552417755126953, 0.8687263131141663, 0.8497546315193176, 0.8637773394584656, 0.8606703877449036, 0.8573752641677856, 0.852171778678894, 0.8667080998420715, 0.862297534942627, 0.8668806552886963, 0.8707761764526367, 0.8701794147491455, 0.8614620566368103]

    top_k_sim = [0.9996886253356934, 0.9999001622200012, 0.9997676610946655, 0.982766330242157, 0.999958872795105, 0.9999380707740784, 0.999952495098114, 0.9999676942825317, 0.9998689889907837, 0.9995080828666687, 0.9999566078186035, 0.9998688697814941, 0.9999576210975647, 0.9999670386314392, 0.9999564290046692, 0.9999297857284546, 0.9999610185623169, 0.9999443888664246, 0.9999500513076782, 0.9833352565765381, 0.9999256730079651, 0.9834690093994141, 0.9999639987945557, 0.99996417760849, 0.9831371903419495, 0.9836210608482361, 0.9999445676803589, 0.9999520778656006, 0.9999440908432007, 0.9999550580978394, 0.9999499917030334, 0.999936580657959, 0.999944806098938, 0.9999404549598694, 0.9999517202377319, 0.9999380111694336, 0.9999486207962036, 0.9999479651451111, 0.9999613761901855, 0.9999362826347351, 0.9999485611915588, 0.9999582767486572, 0.9999414682388306, 0.9999599456787109, 0.9999433755874634, 0.9999539852142334, 0.9999505281448364, 0.9999613761901855, 0.9999425411224365, 0.9999576807022095, 0.9999544620513916, 0.9999134540557861, 0.9999159574508667, 0.9999695420265198, 0.9999678730964661, 0.9999502897262573, 0.999932050704956, 0.9828959107398987, 0.999957263469696, 0.9999502301216125, 0.9999653100967407, 0.9812847375869751, 0.9999673366546631, 0.9999662637710571, 0.9999497532844543, 0.9999641180038452, 0.999936580657959, 0.9999581575393677, 0.9999566078186035, 0.999968945980072, 0.9999476671218872, 0.9999523162841797, 0.9999645352363586, 0.9999603629112244, 0.9999459385871887, 0.9833859801292419, 0.9999637007713318, 0.9999494552612305, 0.9999653100967407, 0.9998068809509277, 0.9999644160270691, 0.9999651312828064, 0.9999681711196899, 0.9999573230743408, 0.9999624490737915, 0.9999639987945557, 0.9999326467514038, 0.9999680519104004, 0.999927818775177, 0.9999667406082153, 0.999943196773529, 0.9999640583992004, 0.9999502301216125, 0.9999490976333618, 0.9998803734779358, 0.9999613165855408, 0.9999514818191528, 0.9999601244926453, 0.9999631643295288, 0.9999683499336243, 0.9999634027481079, 0.9999486804008484, 0.9999362230300903, 0.9999669790267944, 0.999962329864502, 0.9999547600746155, 0.9999570846557617, 0.9999553561210632, 0.9999606013298035, 0.9997177124023438, 0.9999711513519287, 0.9999700784683228, 0.9999665021896362, 0.9999436140060425, 0.9999713897705078, 0.9999697804450989, 0.9999497532844543, 0.9999719262123108, 0.9998032450675964, 0.9999338388442993, 0.9999273419380188, 0.9999578595161438, 0.9999538660049438, 0.9999423623085022, 0.999954342842102, 0.9999701976776123, 0.9998503923416138, 0.9999507069587708, 0.9999665021896362, 0.9999709129333496, 0.9999725222587585, 0.9999671578407288, 0.9999630451202393, 0.9999685287475586, 0.9999662637710571, 0.9999645352363586, 0.9999619126319885, 0.9996111989021301, 0.9999668598175049, 0.9999574422836304, 0.9999634623527527, 0.9999707937240601, 0.9837573170661926, 0.9999675154685974, 0.9999563694000244, 0.9999669194221497, 0.9999644756317139, 0.9999690651893616, 0.9999634027481079, 0.9999634623527527, 0.9999581575393677, 0.9999499917030334, 0.9999719262123108, 0.9999688863754272, 0.9999730587005615, 0.9999644756317139, 0.999977707862854, 0.9999295473098755, 0.9999748468399048, 0.9999586343765259, 0.9999735951423645, 0.9999755620956421, 0.999973475933075, 0.999947190284729, 0.9999726414680481, 0.9999467134475708, 0.9996174573898315, 0.9999789595603943, 0.9999765753746033, 0.9999521374702454, 0.9998077154159546, 0.999969482421875, 0.9999611377716064, 0.9999649524688721, 0.9999626874923706, 0.999969482421875, 0.9999552965164185, 0.9998102784156799, 0.9999593496322632, 0.9999737739562988, 0.9999704360961914, 0.9999685883522034, 0.9999633431434631, 0.9999617338180542, 0.9999651312828064, 0.9999723434448242, 0.9999709725379944, 0.9999759793281555, 0.9999591112136841, 0.9999743103981018, 0.9999715089797974, 0.9999697804450989, 0.9999709725379944, 0.9999497532844543, 0.9999804496765137, 0.9998117089271545, 0.9838083982467651, 0.9999741911888123]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix6_6.pdf', bbox_inches='tight')


def appendix7_1():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999833703041077, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9993762969970703, 1.0, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.9997104406356812, 1.0, 0.9472514390945435, 0.9999991059303284, 0.9999991059303284, 0.9999992251396179, 0.9999995231628418, 0.9999997615814209, 0.9999997615814209, 0.9999998807907104, 0.9999998807907104, 0.9999998807907104, 0.9999997615814209, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9999997615814209, 0.9999998211860657, 0.9999997615814209, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 0.9999996423721313, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999997019767761, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999995827674866, 0.9999997019767761, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 0.999999463558197, 0.9999995231628418, 0.9999997615814209, 0.9999999403953552, 1.0, 1.0, 0.9978157877922058, 0.9999997615814209, 0.9999998211860657, 0.9999998807907104, 0.9997637271881104, 0.9999997615814209, 0.9999997615814209, 0.9999997615814209, 0.9999999403953552, 0.9999998807907104, 0.9999997615814209, 0.9999997615814209, 0.9999998807907104, 0.9999998807907104, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9998720288276672, 0.9996964931488037, 0.9999997019767761, 0.9999040961265564, 0.9999997019767761, 1.0, 0.9870323538780212, 0.9999969601631165, 0.9999990463256836, 0.9999998807907104, 0.9999591112136841, 1.0, 0.9999998211860657, 0.9999945759773254, 0.9999985098838806, 0.9999340772628784, 0.999937117099762, 0.9998945593833923, 0.999536395072937, 0.9999405145645142, 0.9999998807907104, 0.9999998211860657, 1.0, 1.0, 0.9999998807907104, 0.9998617768287659, 1.0, 1.0, 0.9995816349983215, 0.9999998807907104, 0.9998961687088013, 0.999998927116394, 0.9995763897895813, 0.9995384216308594, 0.999713659286499, 0.999992847442627, 0.9999988675117493, 0.9999998211860657, 0.9999998807907104, 0.9998826384544373, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.999846339225769, 0.9999586343765259, 0.9999999403953552, 0.9999999403953552, 0.9999999403953552, 0.999761700630188, 0.9999998807907104, 0.9999999403953552, 0.9999998807907104, 0.9999998807907104, 0.9997581839561462, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999491572380066, 1.0, 1.0, 1.0, 0.994751513004303, 0.9999995231628418, 0.9999998211860657, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8419104814529419, 0.8416651487350464, 0.8328703045845032, 0.8399121165275574, 0.8320404887199402, 0.8305603861808777, 0.8357635736465454, 0.8375388979911804, 0.8397743105888367, 0.8387996554374695, 0.8399122953414917, 0.8313238024711609, 0.8369247913360596, 0.8336778879165649, 0.8317233324050903, 0.8354747891426086, 0.8369203209877014, 0.8315209150314331, 0.8373459577560425, 0.834333062171936, 0.8444832563400269, 0.8305394053459167, 0.8442385196685791, 0.8366573452949524, 0.8267421126365662, 0.834259569644928, 0.8294046521186829, 0.833321750164032, 0.8371322154998779, 0.8290972709655762, 0.8429285883903503, 0.8384928703308105, 0.8384156227111816, 0.8333277106285095, 0.8438534140586853, 0.833624541759491, 0.8276950120925903, 0.8360503911972046, 0.8327900767326355, 0.8362244963645935, 0.838034987449646, 0.8393411636352539, 0.8293232321739197, 0.8363968729972839, 0.8347175121307373, 0.8292007446289062, 0.8351297974586487, 0.8255377411842346, 0.8321675062179565, 0.8357776403427124, 0.8300408720970154, 0.8269105553627014, 0.8383668065071106, 0.8370016813278198, 0.8316150903701782, 0.8337032794952393, 0.8286988735198975, 0.8392513394355774, 0.8317430019378662, 0.8335991501808167, 0.8314022421836853, 0.8383182883262634, 0.8400718569755554, 0.8348508477210999, 0.8414593935012817, 0.830087423324585, 0.8324808478355408, 0.8370823264122009, 0.8346935510635376, 0.8413984179496765, 0.8373880982398987, 0.8393562436103821, 0.8350052833557129, 0.8359502553939819, 0.8409439921379089, 0.8399958610534668, 0.8464704155921936, 0.8389967679977417, 0.8420491814613342, 0.8374273180961609, 0.8404790163040161, 0.8348695039749146, 0.837296187877655, 0.8302416801452637, 0.8409160375595093, 0.827099621295929, 0.8321558237075806, 0.8390719294548035, 0.8297998905181885, 0.8372306227684021, 0.8377131819725037, 0.8376792073249817, 0.8303729295730591, 0.8345804810523987, 0.8386029005050659, 0.8383477330207825, 0.8358108997344971, 0.8319790959358215, 0.8364930748939514, 0.8418218493461609, 0.8286412954330444, 0.842437744140625, 0.8391661047935486, 0.82990562915802, 0.8381751775741577, 0.8348749279975891, 0.8342926502227783, 0.8366114497184753, 0.8387630581855774, 0.8384561538696289, 0.8332300186157227, 0.8339892029762268, 0.843407928943634, 0.8314898014068604, 0.8414338827133179, 0.8370736241340637, 0.8394284248352051, 0.8492279648780823, 0.828532338142395, 0.8397525548934937, 0.8367677330970764, 0.8288784027099609, 0.8319035768508911, 0.8302501440048218, 0.8435994982719421, 0.846165657043457, 0.8339592218399048, 0.8377920389175415, 0.844824492931366, 0.8340083360671997, 0.9177703261375427, 0.8355112075805664, 0.8354669809341431, 0.8331655859947205, 0.832891583442688, 0.8350777626037598, 0.8351514935493469, 0.8199630975723267, 0.8397952318191528, 0.8322967886924744, 0.8341469764709473, 0.8449552655220032, 0.8554407954216003, 0.8342128992080688, 0.8277111053466797, 0.8359796404838562, 0.8352585434913635, 0.8335564136505127, 0.8324663043022156, 0.8346564769744873, 0.834727942943573, 0.8330804705619812, 0.8378638029098511, 0.8383848667144775, 0.8301659822463989, 0.8267073631286621, 0.8491734266281128, 0.8546118140220642, 0.8462372422218323, 0.8374970555305481, 0.8315868377685547, 0.8397285342216492, 0.8320037126541138, 0.8315245509147644, 0.8345412611961365, 0.8336228132247925, 0.8400517106056213, 0.8398872017860413, 0.8290238380432129, 0.8415359854698181, 0.8312251567840576, 0.8354477882385254, 0.8441359400749207, 0.8346814513206482, 0.8353668451309204, 0.8331917524337769, 0.8329557180404663, 0.8390289545059204, 0.8313313126564026, 0.8318097591400146, 0.8378159403800964, 0.8300162553787231, 0.8325272798538208, 0.8363844752311707, 0.8309826850891113, 0.8412008285522461, 0.830421507358551, 0.8377925157546997, 0.868842363357544, 0.8397516012191772, 0.8452459573745728, 0.8411336541175842, 0.8396364450454712, 0.8344911932945251, 0.8358770608901978, 0.8351669907569885, 0.8328326940536499, 0.8371314406394958]

    top_k_sim = [0.9999998807907104, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9774121642112732, 0.9994614124298096, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9778331518173218, 0.9997231960296631, 0.9561458230018616, 0.949149489402771, 0.9999994039535522, 0.9999991655349731, 0.999999463558197, 0.9999998211860657, 0.9999998211860657, 1.0, 0.9999998807907104, 0.9999999403953552, 0.9889533519744873, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9999998211860657, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 1.0, 0.9890706539154053, 0.9999997019767761, 1.0, 1.0, 1.0, 0.9886223673820496, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.98922199010849, 0.9999997615814209, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9886935949325562, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 0.9789154529571533, 0.9999997019767761, 0.9999997019767761, 0.9999999403953552, 1.0, 1.0, 0.9559698104858398, 0.9979456663131714, 0.9999998807907104, 1.0, 0.9892370104789734, 0.9998761415481567, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9886839985847473, 0.9895017743110657, 0.9997627139091492, 0.9889334440231323, 0.9999311566352844, 0.9999996423721313, 0.9778991341590881, 0.9870322942733765, 0.9999980926513672, 0.9999995827674866, 0.9778884649276733, 0.9999591112136841, 1.0, 0.9670882821083069, 0.999995768070221, 0.9681271314620972, 0.9888082146644592, 0.9999371767044067, 0.9999077916145325, 0.9995933771133423, 0.9999962449073792, 0.9999998807907104, 0.9999999403953552, 1.0, 1.0, 0.988839864730835, 0.9998875856399536, 1.0, 0.9888767004013062, 0.99979567527771, 0.989248514175415, 0.9998961687088013, 0.9770908355712891, 0.9997492432594299, 0.999569296836853, 0.9997380375862122, 0.9999970197677612, 0.9999988079071045, 0.9999998807907104, 0.9888149499893188, 0.999882698059082, 1.0, 1.0, 0.9893439412117004, 0.98919278383255, 0.9999586343765259, 1.0, 1.0, 0.9890525937080383, 0.999761700630188, 1.0, 1.0, 1.0, 0.9888738989830017, 0.999876856803894, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9890992045402527, 0.9999504685401917, 1.0, 1.0, 0.978376567363739, 0.9947683811187744, 0.9999997615814209, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)
    plt.legend(fontsize=30)

    plt.show()
    fig.savefig('./result/appendix7_1.pdf', bbox_inches='tight')

def appendix7_2():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999999403953552, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 0.9999999403953552, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 0.9999998807907104, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0]

    malicious_sim = [0.8437964916229248, 0.8375953435897827, 0.825641930103302, 0.8199191689491272, 0.8291726112365723, 0.8375760912895203, 0.8285530805587769, 0.8330687284469604, 0.8242502808570862, 0.8297397494316101, 0.8258590698242188, 0.8207954168319702, 0.8231281042098999, 0.8217004537582397, 0.8375052809715271, 0.829745888710022, 0.8289669156074524, 0.8323310613632202, 0.8288322687149048, 0.8084610104560852, 0.8115345239639282, 0.8338838219642639, 0.8147082924842834, 0.8386505842208862, 0.8184983730316162, 0.827944278717041, 0.8189828395843506, 0.8277069330215454, 0.8369820713996887, 0.8304290771484375, 0.8297472596168518, 0.8356930017471313, 0.8232101202011108, 0.8228207230567932, 0.8365893363952637, 0.8298349976539612, 0.8307188749313354, 0.8188253045082092, 0.8278511762619019, 0.8266986608505249, 0.8399671316146851, 0.8289731740951538, 0.8356822729110718, 0.8362815380096436, 0.8532824516296387, 0.8289593458175659, 0.8242994546890259, 0.8307412266731262, 0.8312247395515442, 0.8290185928344727, 0.8342057466506958, 0.8172498941421509, 0.8194565773010254, 0.8250467777252197, 0.8324711918830872, 0.8260854482650757, 0.8390938639640808, 0.8202271461486816, 0.8352439403533936, 0.8412674069404602, 0.8382031321525574, 0.8373688459396362, 0.8184821009635925, 0.834309458732605, 0.8310991525650024, 0.8236874341964722, 0.8329854011535645, 0.8430180549621582, 0.8325481414794922, 0.8233658671379089, 0.8239802718162537, 0.8383509516716003, 0.8341072797775269, 0.8260895013809204, 0.8354234099388123, 0.8382062315940857, 0.8279770016670227, 0.8395704030990601, 0.8272820711135864, 0.8327920436859131, 0.8275203108787537, 0.8339009284973145, 0.8254542350769043, 0.839966356754303, 0.8251038789749146, 0.8227017521858215, 0.8299925327301025, 0.8282232284545898, 0.8355951309204102, 0.8369856476783752, 0.8176202774047852, 0.8337336778640747, 0.823843240737915, 0.8367795944213867, 0.8372101187705994, 0.8395430445671082, 0.8431991338729858, 0.8274554014205933, 0.8193472027778625, 0.8311260342597961, 0.8310050964355469, 0.8243184089660645, 0.8300569653511047, 0.8136866092681885, 0.8306377530097961, 0.8261299133300781, 0.8375669717788696, 0.8244838118553162, 0.8249873518943787, 0.8442562222480774, 0.829800546169281, 0.8377106785774231, 0.8322829008102417, 0.8306803703308105, 0.8279926180839539, 0.8296875357627869, 0.8309355974197388, 0.8346402049064636, 0.8405731320381165, 0.8244756460189819, 0.8287085294723511, 0.8317166566848755, 0.8371616005897522, 0.8297891616821289, 0.8474357724189758, 0.8326595425605774, 0.8135408759117126, 0.835391640663147, 0.8249636292457581, 0.8475068807601929, 0.8241748809814453, 0.838901162147522, 0.847618579864502, 0.8170250058174133, 0.8236227035522461, 0.8315642476081848, 0.835456132888794, 0.8309668898582458, 0.8402960300445557, 0.8291391730308533, 0.8355589509010315, 0.8255201578140259, 0.8369925022125244, 0.8207839131355286, 0.8444268703460693, 0.8383821845054626, 0.8205753564834595, 0.8343906402587891, 0.8273386359214783, 0.8255531191825867, 0.8303880095481873, 0.8329428434371948, 0.8335388898849487, 0.8245013356208801, 0.8277269601821899, 0.830562174320221, 0.8302611112594604, 0.823760986328125, 0.8403099775314331, 0.8358336687088013, 0.8311782479286194, 0.8372349739074707, 0.8223468065261841, 0.8218783140182495, 0.8354241847991943, 0.8286484479904175, 0.8361552953720093, 0.8306728601455688, 0.8340136408805847, 0.8330978155136108, 0.8274604678153992, 0.8427906632423401, 0.8263477087020874, 0.8240596055984497, 0.8385464549064636, 0.8297667503356934, 0.8233724236488342, 0.8373093605041504, 0.8335197567939758, 0.8354647755622864, 0.8335094451904297, 0.8338281512260437, 0.8237243294715881, 0.8249031901359558, 0.8396387696266174, 0.8243887424468994, 0.8241084218025208, 0.8348861336708069, 0.8313361406326294, 0.8177032470703125, 0.8312978744506836, 0.8253040313720703, 0.8266875743865967, 0.8291549682617188, 0.8195690512657166, 0.819515585899353, 0.8376477360725403, 0.8359084129333496]

    top_k_sim = [0.9999999403953552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9780503511428833, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999999403953552, 0.9792391657829285, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9788075685501099, 1.0, 1.0, 0.9558054208755493, 0.97785484790802, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9786244034767151, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9588622450828552, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9809406995773315, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9786460399627686, 0.9794466495513916, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9784671068191528, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9777960777282715, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9558466672897339, 1.0, 1.0, 1.0, 0.9791903495788574, 1.0, 0.9779667258262634, 1.0, 1.0, 1.0, 0.9780148267745972, 1.0, 1.0, 0.977215588092804, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix7_2.pdf', bbox_inches='tight')

def appendix7_3():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999988675117493, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.868374228477478, 0.8709365129470825, 0.8762441277503967, 0.8846670389175415, 0.8730039000511169, 0.8751710653305054, 0.8782659769058228, 0.8769385814666748, 0.8699889779090881, 0.8719873428344727, 0.8756993412971497, 0.8755484223365784, 0.875910222530365, 0.8792648315429688, 0.8736178874969482, 0.8793252110481262, 0.8749161958694458, 0.8765925168991089, 0.8724636435508728, 0.8723843693733215, 0.8785079717636108, 0.8728312849998474, 0.8763630986213684, 0.8711757063865662, 0.8770312070846558, 0.8784480690956116, 0.8743656873703003, 0.8745926022529602, 0.8781827688217163, 0.8764911890029907, 0.8748767971992493, 0.8787103891372681, 0.8739246129989624, 0.8748714327812195, 0.8776842355728149, 0.8803550601005554, 0.877936065196991, 0.8766777515411377, 0.8718708753585815, 0.8732793927192688, 0.8765774369239807, 0.8726157546043396, 0.8786022663116455, 0.8727112412452698, 0.8752438426017761, 0.8730809092521667, 0.8788221478462219, 0.8769718408584595, 0.8759377002716064, 0.8767900466918945, 0.8720030188560486, 0.8725173473358154, 0.8826131820678711, 0.8753035068511963, 0.8754199147224426, 0.8744614124298096, 0.875842273235321, 0.8747835159301758, 0.8775266408920288, 0.8782647848129272, 0.8686031699180603, 0.8747988343238831, 0.8733325600624084, 0.8742425441741943, 0.8728164434432983, 0.875407874584198, 0.8782343864440918, 0.8807417750358582, 0.8749278783798218, 0.8742995262145996, 0.8759490847587585, 0.8702834844589233, 0.873989462852478, 0.8806374669075012, 0.8711960911750793, 0.8735654950141907, 0.87440025806427, 0.8701890707015991, 0.8761215806007385, 0.8714179396629333, 0.8746179342269897, 0.8771542310714722, 0.8708674907684326, 0.8770554661750793, 0.8763359785079956, 0.8720725178718567, 0.8739331960678101, 0.873901903629303, 0.8774414658546448, 0.8752150535583496, 0.8729552030563354, 0.8709205389022827, 0.8781365156173706, 0.8784738183021545, 0.8756681680679321, 0.87568598985672, 0.876018762588501, 0.8811925649642944, 0.8761023283004761, 0.8714571595191956, 0.8721489310264587, 0.8789634704589844, 0.8775326609611511, 0.8772038221359253, 0.8778608441352844, 0.8757506012916565, 0.8726949691772461, 0.8745383024215698, 0.8778759241104126, 0.8768313527107239, 0.873051106929779, 0.8741381168365479, 0.8796707987785339, 0.8735464811325073, 0.8718633651733398, 0.8797260522842407, 0.8749657869338989, 0.8775556683540344, 0.8778444528579712, 0.8769086599349976, 0.872430145740509, 0.8801153302192688, 0.8779447078704834, 0.8774004578590393, 0.873694896697998, 0.8771673440933228, 0.8788101077079773, 0.8796727061271667, 0.8696469068527222, 0.8742196559906006, 0.8753749132156372, 0.8741307258605957, 0.8710097074508667, 0.8761858940124512, 0.8750150799751282, 0.8756874203681946, 0.8756515979766846, 0.8718811869621277, 0.8813883662223816, 0.8744441866874695, 0.8735404014587402, 0.8744057416915894, 0.8809115886688232, 0.8816758394241333, 0.8705984354019165, 0.870671272277832, 0.8735789060592651, 0.8813337683677673, 0.8747133016586304, 0.8787289261817932, 0.8760693073272705, 0.8747972846031189, 0.873752236366272, 0.8805979490280151, 0.8701972961425781, 0.8741125464439392, 0.8744404911994934, 0.8750622272491455, 0.8721924424171448, 0.8778008818626404, 0.873267650604248, 0.8721358776092529, 0.8815780878067017, 0.8771305084228516, 0.8693647980690002, 0.8787941932678223, 0.8770934343338013, 0.8801100850105286, 0.8762982487678528, 0.8800244331359863, 0.8678195476531982, 0.8768682479858398, 0.8708435893058777, 0.8793423175811768, 0.8829347491264343, 0.8806188106536865, 0.8827229142189026, 0.8735729455947876, 0.8773322701454163, 0.866521954536438, 0.8674691915512085, 0.8764320611953735, 0.8729816675186157, 0.8744655251502991, 0.8747683167457581, 0.8752424716949463, 0.8729667663574219, 0.8736469149589539, 0.8754229545593262, 0.8730337023735046, 0.8759956955909729, 0.880704402923584, 0.8768280744552612, 0.8748210072517395, 0.8773245215415955, 0.8730306625366211, 0.8708367943763733, 0.8824074864387512]

    top_k_sim = [0.9999996423721313, 0.9827942848205566, 0.9917514324188232, 0.9923128485679626, 0.9915371537208557, 1.0, 1.0, 0.9753898978233337, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9831511974334717, 1.0, 1.0, 1.0, 0.9914984107017517, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9836922883987427, 1.0, 1.0, 1.0, 0.9829167127609253, 0.9915523529052734, 1.0, 1.0, 0.9919089674949646, 0.983028769493103, 1.0, 1.0, 1.0, 1.0, 0.991732120513916, 1.0, 1.0, 0.9830052852630615, 1.0, 1.0000001192092896, 0.9916949272155762, 1.0, 0.983447253704071, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9832335710525513, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9654113054275513, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9913465976715088, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9915960431098938, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9920799732208252, 0.9917412400245667, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9917892813682556, 0.9915373921394348, 1.0, 1.0, 1.0, 0.9829157590866089, 0.9919828772544861, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9837267398834229, 0.9918273091316223, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9916919469833374, 0.983218789100647, 1.0, 1.0, 0.9750044941902161, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9842244982719421, 1.0, 0.9913787841796875, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9826935529708862, 0.9916080832481384, 1.0, 1.0, 0.9829602241516113, 0.9674162864685059, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9843641519546509, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9916316270828247, 1.0, 0.9750494956970215, 1.0, 1.0, 0.9916954636573792, 1.0, 1.0, 0.9840951561927795, 0.9917889833450317, 1.0, 0.9836465120315552, 1.0, 1.0, 0.9921611547470093]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix7_3.pdf', bbox_inches='tight')

def appendix7_4():
    fig = plt.figure(figsize=(9, 7), dpi=100)
    plt.xlabel("Global Rounds", fontdict={'size': 30})
    plt.ylabel("Cosine Similarity", fontdict={'size': 30})
    plt.xticks(np.arange(0, 201, 40), size=30)
    plt.yticks(size=30)
    plt.xlim(0, 200)

    x = []
    for i in range(3, 201):
        x.append(i)

    honest_sim = [0.9999983906745911, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999998807907104, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000001192092896, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    malicious_sim = [0.8501586318016052, 0.8383609652519226, 0.840077817440033, 0.845974326133728, 0.8511984348297119, 0.8457042574882507, 0.8452737331390381, 0.8492292165756226, 0.8484703302383423, 0.8386337757110596, 0.8484406471252441, 0.8347454071044922, 0.8390182852745056, 0.850990355014801, 0.8441106677055359, 0.8524065613746643, 0.8451589941978455, 0.849317193031311, 0.8458370566368103, 0.8487671613693237, 0.8400107026100159, 0.846189558506012, 0.8428859710693359, 0.8475419878959656, 0.8529483079910278, 0.8508260250091553, 0.8320168852806091, 0.8505234122276306, 0.8520547151565552, 0.8468917012214661, 0.8476769328117371, 0.8481518030166626, 0.8632761836051941, 0.8384575843811035, 0.8436323404312134, 0.8487517237663269, 0.8518706560134888, 0.8488172888755798, 0.841805100440979, 0.8489885926246643, 0.8441666960716248, 0.8495010733604431, 0.8451762199401855, 0.846559464931488, 0.8409867286682129, 0.8383648991584778, 0.8453315496444702, 0.8501029014587402, 0.8424509167671204, 0.84212726354599, 0.844002366065979, 0.8456738591194153, 0.8467009663581848, 0.8476607203483582, 0.8520853519439697, 0.8349122405052185, 0.8515701293945312, 0.8471954464912415, 0.8460298776626587, 0.8380970358848572, 0.8476278781890869, 0.8439761996269226, 0.8475510478019714, 0.8443241119384766, 0.8413653373718262, 0.8517007231712341, 0.8461018800735474, 0.8427602648735046, 0.8464052081108093, 0.8488872647285461, 0.8418121337890625, 0.8352497220039368, 0.8446447253227234, 0.84431391954422, 0.8442934155464172, 0.8506994247436523, 0.844141960144043, 0.8502218127250671, 0.8426991701126099, 0.8526396155357361, 0.8532237410545349, 0.8541020750999451, 0.8436787724494934, 0.850104808807373, 0.8427831530570984, 0.8377030491828918, 0.8480817079544067, 0.8413549661636353, 0.8417747020721436, 0.8450221419334412, 0.8395782709121704, 0.8525760173797607, 0.8520241975784302, 0.8424067497253418, 0.8515012860298157, 0.8474950194358826, 0.8377586603164673, 0.8330662846565247, 0.8445884585380554, 0.8447639346122742, 0.8490226864814758, 0.8421801924705505, 0.8441199660301208, 0.8512001037597656, 0.8462202548980713, 0.8451457023620605, 0.8422467112541199, 0.8502917289733887, 0.8378115892410278, 0.8364809155464172, 0.8412789702415466, 0.8424406051635742, 0.8459354639053345, 0.8347800970077515, 0.8457382917404175, 0.8491554260253906, 0.847265362739563, 0.8495945930480957, 0.8538004755973816, 0.8575206995010376, 0.8408191800117493, 0.8444520235061646, 0.834315299987793, 0.8528923988342285, 0.8499099612236023, 0.8522745966911316, 0.8472866415977478, 0.8467375040054321, 0.8542894124984741, 0.8403283953666687, 0.8454517126083374, 0.8516431450843811, 0.8499279618263245, 0.8434983491897583, 0.8440849184989929, 0.8384959101676941, 0.8418146967887878, 0.8506249785423279, 0.8376958966255188, 0.852855920791626, 0.8452367782592773, 0.8322100043296814, 0.8519423007965088, 0.8489343523979187, 0.8504037857055664, 0.8521851301193237, 0.842168927192688, 0.8454651832580566, 0.8429102301597595, 0.842791736125946, 0.8527178764343262, 0.854155957698822, 0.8522477149963379, 0.8427536487579346, 0.8489709496498108, 0.8498544692993164, 0.8454227447509766, 0.8421515226364136, 0.8490024209022522, 0.8483737707138062, 0.8438863158226013, 0.8480933308601379, 0.841357409954071, 0.8422218561172485, 0.846123993396759, 0.8542193174362183, 0.8482721447944641, 0.8508304357528687, 0.850810170173645, 0.8464060425758362, 0.8467433452606201, 0.839904248714447, 0.8405592441558838, 0.8491871356964111, 0.8456041216850281, 0.8455964922904968, 0.8452455401420593, 0.847074031829834, 0.854917585849762, 0.8436702489852905, 0.8387861847877502, 0.8394412994384766, 0.8468853831291199, 0.8488892316818237, 0.8585013747215271, 0.8484153747558594, 0.8470534682273865, 0.8504905104637146, 0.8387199640274048, 0.8506062030792236, 0.842271625995636, 0.8401452302932739, 0.8413897156715393, 0.8476709723472595, 0.8483684062957764, 0.8475286960601807, 0.8480496406555176, 0.8415284156799316]

    top_k_sim = [0.9999983906745911, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9809458255767822, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9807430505752563, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9806824326515198, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9626528024673462, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    plt.plot(x, malicious_sim, 'o-', markersize=0, linewidth=5, c='#daab36', label='Compromised', alpha=1)
    plt.plot(x, honest_sim, 's-', markersize=0, linewidth=5, c='#2dabb2', label='Honest', alpha=1)
    plt.plot(x, top_k_sim, 'p-', markersize=0, linewidth=2, c='#f0552b', label='Top-K', alpha=1)

    plt.show()
    fig.savefig('./result/appendix7_4.pdf', bbox_inches='tight')


if __name__ == '__main__':
    appendix6_6()